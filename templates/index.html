<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#1e3c72">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="PortoEx">
    <title>PortoEx - C√°lculo de Frete</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='portoex-logo.png') }}">
    <link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='portoex-logo.png') }}">
    <!-- Frameworks e Libs -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
    <link href="https://fonts.googleapis.com/css?family=Segoe+UI:400,700,800&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/i18n/pt-BR.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <!-- Scripts da aplica√ß√£o -->
    <script src="{{ url_for('static', filename='js/chico_automate.js') }}"></script>
    <style>
        body { background: #f7f9fa; color: #23272f; font-family: 'Segoe UI', Arial, sans-serif; }
        .btn-primary { background: #ff9800; color: #fff; border: none; border-radius: 8px; padding: 8px 18px; text-decoration: none; font-weight: 600; font-size: 1.1rem; cursor: pointer; height: 42px; }
        .btn-primary:hover { background: #ffb74d; color: #fff; }
        .btn-secondary { background: #6c757d; color: #fff; border: none; border-radius: 6px; padding: 5px 10px; text-decoration: none; font-weight: 500; font-size: 0.85rem; cursor: pointer; transition: all 0.2s; }
        .btn-secondary:hover { background: #545b62; color: #fff; transform: translateY(-1px); }
        .btn-info { background: #17a2b8; color: #fff; border: none; border-radius: 6px; padding: 6px 12px; text-decoration: none; font-weight: 500; font-size: 0.8rem; cursor: pointer; transition: all 0.3s; margin: 2px; }
        .btn-info:hover { background: #138496; color: #fff; transform: translateY(-1px); box-shadow: 0 2px 8px rgba(23, 162, 184, 0.3); }
        .tabs { display: flex; justify-content: center; margin: 32px 0 0 0; border-bottom: 2px solid #e3e8ee; }
        .tab-btn { background: none; border: none; font-size: 1.1rem; font-weight: 700; color: #0a6ed1; padding: 14px 32px 10px 32px; cursor: pointer; border-bottom: 3px solid transparent; transition: 0.2s; }
        .tab-btn.active { color: #fff; background: #0a6ed1; border-bottom: 3px solid #ff9800; }
        .tab-content { display: none; max-width: 1200px; margin: 0 auto; }
        .tab-content.active { display: block; animation: fadeInUp 0.5s; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: none; } }
        .card { background: #fff; border-radius: 16px; box-shadow: 0 2px 16px rgba(25,118,210,0.10); padding: 32px 28px; margin: 32px 0; }
        .form-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 18px;
            margin-bottom: 18px;
        }
        .form-group {
            flex: 1 1 220px;
            min-width: 220px;
            max-width: 100%;
        }
        .form-group label { font-weight: 600; color: #0a6ed1; margin-bottom: 6px; display: block; }
        .form-group input, .form-group select { width: 100%; padding: 10px 12px; border-radius: 8px; border: 1.5px solid #b3e5fc; font-size: 1.08rem; background: #fafdff; color: #222b45; transition: border .2s, box-shadow .2s; height: 42px; }
        .results { width: 100%; border-collapse: collapse; margin-top: 20px; background: #fff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); font-size: 0.9rem; }
        .results th, .results td { border: 1px solid #e3e8ee; padding: 8px 10px; text-align: left; }
        .results th { background-color: #f4faff; font-weight: 700; color: #0a6ed1; font-size: 0.85rem; }
        .results tr:nth-child(even) { background-color: #f9f9f9; }
        .results tr:hover { background-color: #e3f2fd; }
        .map-container { height: 350px; width: 100%; margin: 20px 0; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 16px rgba(0,0,0,0.1); position: relative; }
        .map-container.hidden { display: none; }
        .map-title { font-size: 1.3rem; font-weight: 700; color: #0a6ed1; margin-bottom: 10px; text-align: center; }
        .chart-container { width: 100%; max-width: 400px; margin: 15px auto; }
        .analise-container { background: #f8f9fa; border-radius: 12px; padding: 15px; margin: 15px 0; border-left: 4px solid #0a6ed1; }
        .analise-title { font-size: 1.1rem; font-weight: 700; color: #0a6ed1; margin-bottom: 8px; }
        .analise-item { font-size: 0.95rem; margin: 4px 0; color: #495057; }
        .error, .success { padding: 12px 18px; border-radius: 8px; margin-bottom: 18px; font-weight: 600; font-size: 1.08rem; }
        .error { background: #ffeaea; color: #ff9800; border: 1.5px solid #ff9800; }
        .success { background: #eaffea; color: #28a745; border: 1.5px solid #28a745; }
        
        /* üîß MENSAGEM FLUTUANTE - N√£o h√° op√ß√µes */
        .no-options-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            color: white;
            padding: 30px 40px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(255, 107, 107, 0.3);
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
            z-index: 9999;
            animation: slideInDown 0.5s ease-out;
            max-width: 400px;
            width: 90%;
        }
        
        .no-options-message .icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }
        
        .no-options-message .message {
            margin-bottom: 20px;
            line-height: 1.4;
        }
        
        /* Modal para sele√ß√£o de bases */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 0;
            border: none;
            width: 90%;
            max-width: 800px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        
        .modal-header {
            background: linear-gradient(135deg, #0a6ed1 0%, #1e88e5 100%);
            color: white;
            padding: 20px;
            border-radius: 12px 12px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            margin: 0;
            font-size: 1.3rem;
        }
        
        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .close:hover {
            color: white;
        }
        
        .modal-body {
            padding: 20px;
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #e3e8ee;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .bases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .base-item {
            background: #f8f9fa;
            border: 2px solid #e3e8ee;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .base-item:hover {
            border-color: #0a6ed1;
            background: #e3f2fd;
            transform: translateY(-2px);
        }
        
        .base-item.selected {
            border-color: #28a745;
            background: #d4edda;
        }
        
        .base-codigo {
            font-family: monospace;
            font-weight: bold;
            font-size: 1.2rem;
            color: #0a6ed1;
            margin-bottom: 5px;
        }
        
        .base-nome {
            font-size: 0.9rem;
            color: #495057;
            margin-bottom: 3px;
        }
        
        .base-regiao {
            font-size: 0.8rem;
            color: #6c757d;
            font-style: italic;
        }
        
        .bases-selecionadas {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid #28a745;
        }
        
        .bases-selecionadas h4 {
            margin: 0 0 10px 0;
            color: #28a745;
            font-size: 1.1rem;
        }
        
        .base-selecionada {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            margin: 2px;
            font-size: 0.9rem;
            font-family: monospace;
        }
        
        .base-selecionada .remove {
            margin-left: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .base-selecionada .remove:hover {
            color: #ff6b6b;
        }
        
        .no-options-message .close-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .no-options-message .close-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translate(-50%, -60%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9998;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        /* === RESPONSIVIDADE MOBILE APRIMORADA === */
        @media (max-width: 1024px) {
            .card { margin: 16px 8px; padding: 20px 16px; }
            .form-grid { gap: 12px; }
            .form-group { min-width: 200px; }
        }
        
        @media (max-width: 900px) {
            .form-grid { 
                flex-direction: column; 
                gap: 15px; 
            }
            .form-group { 
                min-width: auto; 
                max-width: 100%; 
            }
            .tabs { 
                flex-direction: column; 
                margin: 20px 0 0 0;
            }
            .tab-btn { 
                width: 100%; 
                font-size: 1rem;
                padding: 12px 20px 8px 20px;
            }
            .card h2 { 
                font-size: 1.4rem; 
                text-align: center; 
                margin-bottom: 20px;
            }
            .btn-primary { 
                width: 100%; 
                padding: 12px 18px; 
                font-size: 1.1rem; 
                margin-top: 10px;
            }
        }
        
        /* === MELHORIAS ESPEC√çFICAS PARA MOBILE === */
        @media (max-width: 768px) {
            /* === HEADER MOBILE === */
            header .container {
                flex-direction: column;
                gap: 15px;
                padding: 0 15px;
            }

            .logo h1 {
                font-size: 1.5rem;
            }

            .logo img {
                width: 40px;
                height: 40px;
            }

            .user-menu {
                flex-direction: column;
                align-items: center;
                gap: 10px;
                width: 100%;
            }

            .user-greeting {
                font-size: 0.9rem;
                padding: 6px 12px;
            }

            .user-actions {
                flex-wrap: wrap;
                justify-content: center;
                gap: 8px;
            }

            .btn-admin, .btn-logout, .btn-login {
                padding: 6px 12px;
                font-size: 0.8rem;
            }

            /* === LAYOUT MOBILE === */
            body {
                font-size: 0.95rem;
                padding: 0;
                margin: 0;
            }

            .card {
                margin: 8px 4px;
                padding: 16px 12px;
                border-radius: 12px;
            }

            .card h2 {
                font-size: 1.3rem;
                text-align: center;
                margin-bottom: 20px;
                padding-bottom: 10px;
                border-bottom: 2px solid #e3e8ee;
            }

            /* === FORMUL√ÅRIOS MOBILE === */
            .form-grid {
                display: flex;
                flex-direction: column;
                gap: 16px;
                margin-bottom: 20px;
            }

            .form-group {
                width: 100%;
                margin-bottom: 0;
            }

            .form-group label {
                font-size: 1rem;
                font-weight: 600;
                color: #0a6ed1;
                margin-bottom: 8px;
                display: block;
            }

            /* === INPUTS E SELECTS MOBILE === */
            .form-group input, 
            .form-group select {
                width: 100%;
                padding: 14px 16px;
                border-radius: 8px;
                border: 2px solid #b3e5fc;
                font-size: 16px; /* Impede zoom no iOS */
                background: #fafdff;
                color: #222b45;
                transition: all 0.3s ease;
                min-height: 50px;
                box-sizing: border-box;
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
            }

            .form-group input:focus, 
            .form-group select:focus {
                border-color: #ff9800;
                box-shadow: 0 0 0 3px rgba(255, 152, 0, 0.15);
                outline: none;
                background: #fff;
            }

            /* === DATALISTS MOBILE === */
            .form-group input[list] {
                background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
                background-position: right 12px center;
                background-repeat: no-repeat;
                background-size: 16px;
                padding-right: 40px;
            }

            /* === SELECTS MOBILE === */
            .form-group select {
                background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
                background-position: right 12px center;
                background-repeat: no-repeat;
                background-size: 16px;
                padding-right: 40px;
                cursor: pointer;
            }

            .form-group select:focus {
                background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23ff9800' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
            }

            /* === BOT√ïES MOBILE === */
            .btn-primary {
                width: 100%;
                padding: 16px 20px;
                font-size: 1.1rem;
                font-weight: 600;
                margin-top: 20px;
                border-radius: 8px;
                min-height: 50px;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
                transition: all 0.3s ease;
            }

            .btn-primary:hover, .btn-primary:focus {
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
            }

            /* === TABS MOBILE === */
            .tabs {
                display: flex;
                flex-direction: column;
                margin: 15px 0;
                border-bottom: none;
                background: #fff;
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            }

            .tab-btn {
                width: 100%;
                padding: 16px 20px;
                font-size: 1rem;
                font-weight: 600;
                border: none;
                border-bottom: 1px solid #e3e8ee;
                background: #fff;
                color: #0a6ed1;
                text-align: left;
                display: flex;
                align-items: center;
                gap: 10px;
                transition: all 0.3s ease;
            }

            .tab-btn:last-child {
                border-bottom: none;
            }

            .tab-btn.active {
                background: #0a6ed1;
                color: #fff;
                transform: scale(1.02);
            }

            .tab-btn:hover {
                background: #f0f8ff;
                transform: translateX(5px);
            }

            .tab-btn.active:hover {
                background: #0a6ed1;
                transform: scale(1.02);
            }

            /* === CALCULADORA MOBILE === */
            .cubagem-calculator {
                background: #f8f9fa;
                border-radius: 8px;
                padding: 16px;
                margin: 16px 0;
                border: 1px solid #dee2e6;
            }

            .dimensao-input {
                font-size: 16px !important;
            }

            /* === BOT√ïES AUXILIARES MOBILE === */
            .btn-reset-cubagem, 
            .btn-calculator-avancada {
                padding: 8px 12px;
                margin: 4px 2px;
                font-size: 0.85rem;
                border-radius: 6px;
                border: none;
                cursor: pointer;
                transition: all 0.2s ease;
            }

            .btn-reset-cubagem {
                background: #6c757d;
                color: white;
            }

            .btn-calculator-avancada {
                background: #17a2b8;
                color: white;
            }

            /* === SMALL TEXT MOBILE === */
            small {
                font-size: 0.9rem;
                line-height: 1.4;
                display: block;
                margin-top: 8px;
            }

            /* === LOADING SPINNER MOBILE === */
            .loading-spinner {
                margin: 20px auto;
                width: 40px;
                height: 40px;
            }

            /* === RESULTADOS MOBILE === */
            .results {
                font-size: 0.85rem;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .results th, 
            .results td {
                padding: 12px 8px;
                white-space: nowrap;
            }

            /* === MODAL MOBILE === */
            .modal-content {
                width: 95%;
                margin: 5% auto;
                max-height: 90vh;
                border-radius: 12px;
            }

            .modal-header {
                padding: 16px;
            }

            .modal-header h3 {
                font-size: 1.2rem;
            }

            .modal-body {
                padding: 16px;
            }

            /* === TOUCH IMPROVEMENTS === */
            .touch-device .form-group input:focus,
            .touch-device .form-group select:focus {
                transform: scale(1.02);
                z-index: 10;
                position: relative;
            }

            /* === ACCESSIBILITY MOBILE === */
            @media (prefers-reduced-motion: reduce) {
                * {
                    animation-duration: 0.01ms !important;
                    animation-iteration-count: 1 !important;
                    transition-duration: 0.01ms !important;
                }
            }
        }
        
        /* === MICRO MOBILE (telas muito pequenas) === */
        @media (max-width: 480px) {
            .card {
                margin: 4px 2px;
                padding: 12px 8px;
                border-radius: 8px;
            }
            
            .form-group input, 
            .form-group select {
                padding: 12px 14px;
                min-height: 48px;
            }
            
            .btn-primary {
                padding: 14px 16px;
                min-height: 48px;
            }
            
            .tab-btn {
                padding: 14px 16px;
                font-size: 0.95rem;
            }
        }
        .loading-spinner {
            display: none;
            margin: 18px auto 0 auto;
            border: 5px solid #e3e8ee;
            border-top: 5px solid #0a6ed1;
            border-radius: 50%;
            width: 44px;
            height: 44px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* === ESTILOS DO CABE√áALHO E USU√ÅRIO === */
        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        header .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .logo h1 {
            font-size: 1.8rem;
            margin: 0;
            font-weight: 700;
        }

        .user-info {
            display: flex;
            align-items: center;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-greeting {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            backdrop-filter: blur(10px);
        }

        .admin-badge {
            background: #ff9800;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 8px;
        }

        .user-actions {
            display: flex;
            gap: 10px;
        }

        .btn-admin, .btn-logout, .btn-login {
            padding: 8px 16px;
            border-radius: 20px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
        }

        .btn-admin {
            background: #ff9800;
            color: white;
        }

        .btn-admin:hover {
            background: #f57c00;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
        }

        .btn-logout {
            background: #f44336;
            color: white;
        }

        .btn-logout:hover {
            background: #d32f2f;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.3);
        }

        .btn-login {
            background: #4caf50;
            color: white;
        }

        .btn-login:hover {
            background: #388e3c;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }
        
        /* === ESTILOS CALCULADORA DE CUBAGEM === */
        .cubagem-calculator {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px dashed #0a6ed1;
            border-radius: 12px;
            padding: 15px;
            margin: 10px 0;
            position: relative;
        }
        
        .cubagem-calculator::before {
            content: "üìê Calculadora de Cubagem (Opcional)";
            position: absolute;
            top: -12px;
            left: 15px;
            background: white;
            padding: 5px 10px;
            font-size: 0.85rem;
            font-weight: 600;
            color: #0a6ed1;
            border-radius: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn-reset-cubagem {
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 4px 8px;
            font-size: 0.75rem;
            cursor: pointer;
            margin-left: 8px;
            transition: all 0.2s ease;
        }
        
        .btn-reset-cubagem:hover {
            background: #545b62;
            transform: translateY(-1px);
        }

        .btn-calculator-avancada {
            background: #28a745;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 4px 8px;
            font-size: 0.75rem;
            cursor: pointer;
            margin-left: 8px;
            transition: all 0.2s ease;
        }
        
        .btn-calculator-avancada:hover {
            background: #218838;
            transform: translateY(-1px);
        }

        /* === CALCULADORA DE VOLUMES M√öLTIPLOS CORRIGIDA === */
        .calculadora-modal {
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(3px);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .calculadora-content {
            background: #fff;
            border-radius: 15px;
            width: 95%;
            max-width: 900px;
            max-height: 85vh;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            animation: modalSlideIn 0.3s ease-out;
        }
        
        @keyframes modalSlideIn {
            from { opacity: 0; transform: scale(0.9) translateY(-20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .calculadora-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .calculadora-header h3 {
            margin: 0;
            font-size: 1.4rem;
            font-weight: 600;
        }

        .close-calculadora {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            font-size: 20px;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .close-calculadora:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .calculadora-body {
            padding: 25px;
            max-height: 60vh;
            overflow-y: auto;
        }

        .calc-total-volumes {
            background: #f8fafc;
            border: 1px solid #e1e8ed;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .calc-total-volumes label {
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
            display: block;
        }

        .calc-total-volumes input {
            width: 120px;
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
        }

        .calc-total-volumes small {
            color: #6b7280;
            font-size: 12px;
            margin-left: 10px;
        }

        .volumes-container {
            border: 2px dashed #d1d5db;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            background: #f9fafb;
        }

        .volumes-container h4 {
            margin: 0 0 20px 0;
            color: #374151;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .sku-item-modern {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            position: relative;
            transition: all 0.2s ease;
        }

        .sku-item-modern:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border-color: #667eea;
        }

        .sku-header-modern {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .sku-title-modern {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: #374151;
        }

        .btn-remove-sku-modern {
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
        }

        .btn-remove-sku-modern:hover {
            background: #dc2626;
            transform: scale(1.05);
        }

        .sku-form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .sku-input-group {
            display: flex;
            flex-direction: column;
        }
        
        .sku-input-group label {
            font-size: 12px;
            font-weight: 600;
            color: #6b7280;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .sku-input-group input {
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        
        .sku-input-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .sku-resultado-modern {
            background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%);
            border: 1px solid #bbf7d0;
            border-radius: 8px;
            padding: 12px;
            margin-top: 10px;
        }

        .resultado-flex {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
            font-weight: 600;
            color: #059669;
        }
        
        .btn-add-sku-modern {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-add-sku-modern:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }
        
        .calc-resumo-final {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .calc-resumo-header {
            border-bottom: 2px solid #f3f4f6;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        
        .calc-resumo-header h4 {
            margin: 0;
            color: #374151;
            font-weight: 600;
        }
        
        .resumo-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .resumo-item-calc {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #f3f4f6;
        }
        
        .resumo-item-calc:last-child {
            border-bottom: none;
            font-weight: 600;
            font-size: 1.1rem;
            color: #059669;
            border-top: 2px solid #059669;
            margin-top: 10px;
            padding-top: 10px;
        }

        .calculadora-actions {
            border-top: 1px solid #e5e7eb;
            padding: 20px 25px;
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            background: #f9fafb;
        }
        
        .calc-btn-secondary {
            background: #6b7280;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        
        .calc-btn-secondary:hover {
            background: #4b5563;
            transform: translateY(-1px);
        }
        
        .calc-btn-primary {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        
        .calc-btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 16px rgba(5, 150, 105, 0.3);
        }
    
        /* Estilos para resultados dedicado All In */
        .resultados-dedicado-all-in {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e3e8ee;
        }
        
        .resumo-section {
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .resumo-section h3 {
            color: #0a6ed1;
            font-size: 1.3rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e3e8ee;
        }
        
        .resumo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .resumo-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .resumo-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }
        
        .resumo-card-header {
            background: linear-gradient(135deg, #0a6ed1, #1976d2);
            color: white;
            padding: 15px 20px;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .resumo-card-body {
            padding: 20px;
            min-height: 150px;
        }
        
        .placeholder-text {
            color: #6c757d;
            text-align: center;
            font-style: italic;
            margin: 20px 0;
        }
        </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <img src="{{ url_for('static', filename='portoex-logo.png') }}" alt="PortoEx" onerror="this.style.display='none'">
                <h1>PortoEx</h1>
            </div>
            <div class="user-info">
                {% if usuario %}
                    <div class="user-menu">
                        <span class="user-greeting">
                            <i class="fas fa-user-circle"></i>
                            Ol√°, {{ usuario.nome }}
                            {% if usuario.tipo == 'administrador' %}
                                <span class="admin-badge">Admin</span>
                            {% endif %}
                        </span>
                        <div class="user-actions">
                            {% if usuario.tipo == 'administrador' %}
                                <a href="/admin" class="btn-admin" title="Painel Administrativo">
                                    <i class="fas fa-cog"></i> Admin
                                </a>
                            {% endif %}
                            <a href="/logout" class="btn-logout" title="Sair do Sistema">
                                <i class="fas fa-sign-out-alt"></i> Sair
                            </a>
                        </div>
                    </div>
                {% else %}
                    <a href="/login" class="btn-login">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </a>
                {% endif %}
            </div>
        </div>
    </header>

    <div class="tabs">
                        <button class="tab-btn" onclick="openTab(event, 'all-in')" aria-controls="all-in">
            <i class="fa-solid fa-globe"></i> All In
        </button>
        <button class="tab-btn active" onclick="openTab(event, 'fracionado')" aria-controls="fracionado">
            <i class="fa-solid fa-box"></i> Frete Fracionado
        </button>
        <button class="tab-btn" onclick="openTab(event, 'dedicado')" aria-controls="dedicado">
            <i class="fa-solid fa-truck"></i> Frete Dedicado
        </button>
        <button class="tab-btn" onclick="openTab(event, 'aereo')" aria-controls="aereo">
            <i class="fa-solid fa-plane"></i> Frete A√©reo
        </button>
        <button class="tab-btn" onclick="openTab(event, 'historico')" aria-controls="historico">
            <i class="fa-solid fa-history"></i> Hist√≥rico
        </button>
        <button class="tab-btn" onclick="openTab(event, 'dashboard')" aria-controls="dashboard">
            <i class="fa-solid fa-chart-line"></i> Dashboard
        </button>
        <button class="tab-btn" onclick="openTab(event, 'mapa')" aria-controls="mapa">
            <i class="fa-solid fa-map-location-dot"></i> Mapa
        </button>
    </div>
    <div id="all-in" class="tab-content active">
        <div class="card">
            <h2><i class="fa-solid fa-globe"></i> All In - Cota√ß√£o Completa</h2>
            
            <!-- Formul√°rio de Busca -->
            <form id="form-all-in">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="uf_origem_all">Estado de Origem:</label>
                        <input type="text" id="uf_origem_all" name="uf_origem_all" required 
                               list="datalist_uf_origem_all" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_uf_origem_all"></datalist>
                    </div>
                    <div class="form-group">
                        <label for="uf_destino_all">Estado de Destino:</label>
                        <input type="text" id="uf_destino_all" name="uf_destino_all" required 
                               list="datalist_uf_destino_all" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_uf_destino_all"></datalist>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="municipio_origem_all">Munic√≠pio de Origem:</label>
                        <input type="text" id="municipio_origem_all" name="municipio_origem_all" required 
                               list="datalist_municipio_origem_all" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_municipio_origem_all"></datalist>
                    </div>
                    <div class="form-group">
                        <label for="municipio_destino_all">Munic√≠pio de Destino:</label>
                        <input type="text" id="municipio_destino_all" name="municipio_destino_all" required 
                               list="datalist_municipio_destino_all" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_municipio_destino_all"></datalist>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="peso_all">Peso (kg):</label>
                        <input type="number" id="peso_all" name="peso_all" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="cubagem_all">Cubagem (m¬≥):</label>
                        <input type="number" id="cubagem_all" name="cubagem_all" step="0.001" min="0" required 
                               class="cubagem-resultado" style="font-weight: 600; font-size: 1.1rem;" 
                               placeholder="Ex: 2.304 ou use a calculadora" 
                               onchange="marcarCubagemManualAll()" oninput="marcarCubagemManualAll()">
                        <small id="cubagem-formula-all" style="color: #6c757d; font-size: 0.85rem; margin-top: 4px; display: block;">
                            <i class="fa-solid fa-calculator"></i> <span id="formula-texto-all">üìù Digite diretamente ou use a calculadora abaixo</span>
                            <button type="button" class="btn-reset-cubagem" onclick="resetarCubagemAll()" title="Limpar e voltar ao modo autom√°tico">
                                <i class="fa-solid fa-refresh"></i> Reset
                            </button>
                            <button type="button" class="btn-calculator-avancada" onclick="abrirCalculadoraAvancadaAll()" title="Calculadora Avan√ßada de Volumes">
                                <i class="fa-solid fa-cubes"></i> Volumes
                            </button>
                        </small>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="valor_nf_all">Valor da NF (R$) - Opcional:</label>
                        <input type="number" id="valor_nf_all" name="valor_nf_all" step="0.01" min="0" placeholder="Deixe em branco se n√£o aplic√°vel">
                        <small style="color: #6c757d; font-size: 0.85rem; margin-top: 4px; display: block;">
                            <i class="fa-solid fa-info-circle"></i> Usado para c√°lculo do GRIS no frete fracionado
                        </small>
                    </div>
                </div>
                <div class="form-grid cubagem-calculator">
                    <div class="form-group">
                        <label for="largura_all">
                            <i class="fa-solid fa-arrows-left-right"></i> Largura (m):
                        </label>
                        <input type="number" id="largura_all" name="largura_all" step="0.01" min="0.01" 
                               class="dimensao-input" placeholder="Ex: 1.20" onchange="calcularCubagemAll()" oninput="calcularCubagemAll()">
                    </div>
                    <div class="form-group">
                        <label for="altura_all">
                            <i class="fa-solid fa-arrows-up-down"></i> Altura (m):
                        </label>
                        <input type="number" id="altura_all" name="altura_all" step="0.01" min="0.01" 
                               class="dimensao-input" placeholder="Ex: 0.80" onchange="calcularCubagemAll()" oninput="calcularCubagemAll()">
                    </div>
                    <div class="form-group">
                        <label for="comprimento_all">
                            <i class="fa-solid fa-ruler"></i> Comprimento (m):
                        </label>
                        <input type="number" id="comprimento_all" name="comprimento_all" step="0.01" min="0.01" 
                               class="dimensao-input" placeholder="Ex: 2.40" onchange="calcularCubagemAll()" oninput="calcularCubagemAll()">
                    </div>
                </div>

                <!-- Calculadora Avan√ßada Modal para All In -->
                <div id="calculadora-modal-all" class="calculadora-modal" style="display: none;">
                    <div class="calculadora-content">
                        <div class="calculadora-header">
                            <h3><i class="fa-solid fa-cubes"></i> Calculadora Avan√ßada de Volumes - All In</h3>
                            <button class="close-calculadora" onclick="fecharCalculadoraAvancadaAll()">&times;</button>
                        </div>
                        <div class="calculadora-body">
                            <div class="calculator-content">
                                <div class="controls-section">
                                <button type="button" class="btn-add-sku" onclick="adicionarSkuAll()">
                                    <i class="fa-solid fa-plus"></i> Adicionar SKU
                                </button>
                            </div>
                            
                                <div id="lista-volumes-all" class="lista-volumes">
                                    <!-- SKUs ser√£o adicionados aqui dinamicamente -->
                                </div>
                                
                                <div class="resumo-section">
                                    <h4>üìä Resumo do C√°lculo</h4>
                                    <div id="resumo-calculo-all" class="resumo-calculo">
                                        <p>Adicione pelo menos um SKU para ver o resumo</p>
                                </div>
                            </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn-secondary" onclick="fecharCalculadoraAvancadaAll()">Cancelar</button>
                            <button type="button" class="btn-primary" onclick="aplicarCubagemCalculadaAll()">Aplicar Cubagem</button>
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn-primary">
                    <i class="fa-solid fa-calculator"></i> Calcular Todas as Modalidades
                </button>
                <div id="loading-all" class="loading-spinner"></div>
            </form>
            
            <!-- Resultados -->
            <div class="resultados-all-in">
                <!-- Frete Fracionado -->
                <div class="resumo-section">
                    <h3><i class="fa-solid fa-box"></i> Frete Fracionado</h3>
                    <div class="resumo-fracionado-container">
                        <div id="resumo-fracionado-completo">
                            <!-- Conte√∫do ser√° preenchido dinamicamente -->
                        </div>
                    </div>
                </div>
                
                <!-- Frete Dedicado -->
                <div class="resumo-section">
                    <h3><i class="fa-solid fa-truck"></i> Frete Dedicado</h3>
                    <div class="resumo-grid">
                        <!-- Ve√≠culos -->
                        <div class="resumo-card">
                            <div class="resumo-card-header">
                                <i class="fa-solid fa-truck-moving"></i> Ve√≠culos Dispon√≠veis
                            </div>
                            <div id="resumo-dedicado-veiculos" class="resumo-card-body">
                                <p class="placeholder-text">Aguardando cota√ß√£o...</p>
                            </div>
                        </div>
                        
                        <!-- Custos Operacionais -->
                        <div class="resumo-card">
                            <div class="resumo-card-header">
                                <i class="fa-solid fa-calculator"></i> Custos Operacionais
                            </div>
                            <div id="resumo-dedicado-custos" class="resumo-card-body">
                                <p class="placeholder-text">Aguardando cota√ß√£o...</p>
                            </div>
                        </div>
                        
                        <!-- Margens Comerciais -->
                        <div class="resumo-card">
                            <div class="resumo-card-header">
                                <i class="fa-solid fa-chart-line"></i> Margens Comerciais
                            </div>
                            <div id="resumo-dedicado-margens" class="resumo-card-body">
                                <p class="placeholder-text">Aguardando cota√ß√£o...</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Frete A√©reo -->
                <div class="resumo-section">
                    <h3><i class="fa-solid fa-plane"></i> Frete A√©reo</h3>
                    <div class="resumo-grid">
                        <!-- Melhores Op√ß√µes -->
                        <div class="resumo-card">
                            <div class="resumo-card-header">
                                <i class="fa-solid fa-star"></i> Melhores Op√ß√µes
                            </div>
                            <div id="resumo-aereo-opcoes" class="resumo-card-body">
                                <p class="placeholder-text">Aguardando cota√ß√£o...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <style>
            .resultados-all-in {
                margin-top: 30px;
                padding-top: 20px;
                border-top: 2px solid #e3e8ee;
            }
            
            .resumo-section {
                margin-bottom: 30px;
                animation: fadeIn 0.5s ease-in-out;
            }
            
            .resumo-section h3 {
                color: #0a6ed1;
                font-size: 1.3rem;
                margin-bottom: 15px;
                padding-bottom: 10px;
                border-bottom: 2px solid #e3e8ee;
            }
            
            .resumo-fracionado-container {
                background: #fff;
                border-radius: 12px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                padding: 20px;
            }
            
            .resumo-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
                margin-bottom: 20px;
            }
            
            .resumo-card {
                background: #fff;
                border-radius: 12px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                overflow: hidden;
                transition: transform 0.2s, box-shadow 0.2s;
            }
            
            .resumo-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            }
            
            .resumo-card-header {
                background: linear-gradient(135deg, #0a6ed1 0%, #1e88e5 100%);
                color: white;
                padding: 15px;
                font-weight: 600;
                font-size: 1.1rem;
                display: flex;
                align-items: center;
                gap: 10px;
            }
            
            .resumo-card-body {
                padding: 15px;
                min-height: 150px;
            }
            
            .resumo-item {
                display: flex;
                justify-content: space-between;
                padding: 8px 0;
                border-bottom: 1px solid #f0f0f0;
            }
            
            .resumo-item:last-child {
                border-bottom: none;
            }
            
            .resumo-item-label {
                color: #666;
                font-weight: 500;
            }
            
            .resumo-item-value {
                font-weight: 600;
                color: #0a6ed1;
            }
            
            .resumo-item-highlight {
                background: #e3f2fd;
                border-radius: 6px;
                padding: 8px 12px;
                margin: 5px 0;
            }
            
            .placeholder-text {
                color: #999;
                font-style: italic;
                text-align: center;
                margin: 20px 0;
            }
            
            .resumo-badge {
                display: inline-block;
                padding: 4px 8px;
                border-radius: 12px;
                font-size: 0.85rem;
                font-weight: 600;
                margin-left: 8px;
            }
            
            .resumo-badge-success {
                background: #e8f5e9;
                color: #2e7d32;
            }
            
            .resumo-badge-warning {
                background: #fff3e0;
                color: #f57c00;
            }
            
            .resumo-badge-danger {
                background: #ffebee;
                color: #c62828;
            }
            
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: none; }
            }
            
            @media (max-width: 768px) {
                .resumo-grid {
                    grid-template-columns: 1fr;
                }
                
                .resumo-card {
                    margin-bottom: 15px;
                }
                
                .resumo-section h3 {
                    font-size: 1.2rem;
                    margin-bottom: 12px;
                }
                
                .resumo-card-header {
                    font-size: 1rem;
                    padding: 12px;
                }
                
                .resumo-card-body {
                    padding: 12px;
                    min-height: 120px;
                }
            }
        
        /* Estilos para resultados dedicado All In */
        .resultados-dedicado-all-in {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e3e8ee;
        }
        
        .resumo-section {
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .resumo-section h3 {
            color: #0a6ed1;
            font-size: 1.3rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e3e8ee;
        }
        
        .resumo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .resumo-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .resumo-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }
        
        .resumo-card-header {
            background: linear-gradient(135deg, #0a6ed1, #1976d2);
            color: white;
            padding: 15px 20px;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .resumo-card-body {
            padding: 20px;
            min-height: 150px;
        }
        
        .placeholder-text {
            color: #6c757d;
            text-align: center;
            font-style: italic;
            margin: 20px 0;
        }
        </style>
    </div>
    <div id="fracionado" class="tab-content">
        <div class="card">
                            <h2><i class="fa-solid fa-box"></i> Frete Fracionado</h2>
            <form id="form-fracionado">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="uf_origem_frac">Estado de Origem:</label>
                        <input type="text" id="uf_origem_frac" name="uf_origem_frac" required 
                               list="datalist_uf_origem_frac" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_uf_origem_frac"></datalist>
                    </div>
                    <div class="form-group">
                        <label for="uf_destino_frac">Estado de Destino:</label>
                        <input type="text" id="uf_destino_frac" name="uf_destino_frac" required 
                               list="datalist_uf_destino_frac" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_uf_destino_frac"></datalist>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="municipio_origem_frac">Munic√≠pio de Origem:</label>
                        <input type="text" id="municipio_origem_frac" name="municipio_origem_frac" required 
                               list="datalist_municipio_origem_frac" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_municipio_origem_frac"></datalist>
                    </div>
                    <div class="form-group">
                        <label for="municipio_destino_frac">Munic√≠pio de Destino:</label>
                        <input type="text" id="municipio_destino_frac" name="municipio_destino_frac" required 
                               list="datalist_municipio_destino_frac" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_municipio_destino_frac"></datalist>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="peso_frac">Peso (kg):</label>
                        <input type="number" id="peso_frac" name="peso_frac" step="0.01" min="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="cubagem_frac">Cubagem (m¬≥):</label>
                        <input type="number" id="cubagem_frac" name="cubagem_frac" step="0.001" min="0" required 
                               class="cubagem-resultado" style="font-weight: 600; font-size: 1.1rem;" 
                               placeholder="Ex: 2.304 ou use a calculadora" 
                               onchange="marcarCubagemManual()" oninput="marcarCubagemManual()">
                        <small id="cubagem-formula" style="color: #6c757d; font-size: 0.85rem; margin-top: 4px; display: block;">
                            <i class="fa-solid fa-calculator"></i> <span id="formula-texto">üìù Digite diretamente ou use a calculadora abaixo</span>
                            <button type="button" class="btn-reset-cubagem" onclick="resetarCubagem()" title="Limpar e voltar ao modo autom√°tico">
                                <i class="fa-solid fa-refresh"></i> Reset
                            </button>
                            <button type="button" class="btn-calculator-avancada" onclick="abrirCalculadoraAvancada()" title="Calculadora Avan√ßada de Volumes">
                                <i class="fa-solid fa-cubes"></i> Volumes
                            </button>
                        </small>
                    </div>
                </div>
                <div class="form-grid cubagem-calculator">
                    <div class="form-group">
                        <label for="largura_frac">
                            <i class="fa-solid fa-arrows-left-right"></i> Largura (m):
                        </label>
                        <input type="number" id="largura_frac" name="largura_frac" step="0.01" min="0.01" 
                               class="dimensao-input" placeholder="Ex: 1.20" onchange="calcularCubagem()" oninput="calcularCubagem()">
                    </div>
                    <div class="form-group">
                        <label for="altura_frac">
                            <i class="fa-solid fa-arrows-up-down"></i> Altura (m):
                        </label>
                        <input type="number" id="altura_frac" name="altura_frac" step="0.01" min="0.01" 
                               class="dimensao-input" placeholder="Ex: 0.80" onchange="calcularCubagem()" oninput="calcularCubagem()">
                    </div>
                    <div class="form-group">
                        <label for="comprimento_frac">
                            <i class="fa-solid fa-ruler"></i> Comprimento (m):
                        </label>
                        <input type="number" id="comprimento_frac" name="comprimento_frac" step="0.01" min="0.01" 
                               class="dimensao-input" placeholder="Ex: 2.40" onchange="calcularCubagem()" oninput="calcularCubagem()">
                    </div>
                </div>

                <!-- Calculadora Avan√ßada Modal -->
                <div id="calculadora-modal" class="calculadora-modal" style="display: none;">
                    <div class="calculadora-content">
                        <div class="calculadora-header">
                            <h3><i class="fa-solid fa-cubes"></i> Calculadora de Volumes M√∫ltiplos</h3>
                            <button class="close-calculadora" onclick="fecharCalculadoraAvancada()">
                                <i class="fa-solid fa-times"></i>
                            </button>
                        </div>
                        
                        <div class="calculadora-body">
                            <div class="calc-total-volumes">
                                <label for="total-volumes">üì¶ Total de Volumes:</label>
                                <input type="number" id="total-volumes" min="1" value="1" onchange="atualizarListaVolumes()">
                                <small>Ex: 100 volumes com 3 medidas diferentes</small>
                            </div>
                            
                            <div class="volumes-container">
                                <h4>üéØ Configure as medidas por SKU:</h4>
                                <div id="lista-volumes" class="skus-list">
                                    <!-- SKUs ser√£o gerados dinamicamente -->
                                </div>
                                <button type="button" class="btn-add-sku-modern" onclick="adicionarSku()">
                                    <i class="fa-solid fa-plus"></i> Adicionar Novo SKU
                                </button>
                            </div>
                            
                            <div class="calc-resumo-final">
                                <div class="calc-resumo-header">
                                    <h4>üìä Resumo do C√°lculo</h4>
                                </div>
                                <div id="resumo-calculo" class="resumo-grid">
                                    <p style="grid-column: 1 / -1; text-align: center; color: #6b7280;">Configure pelo menos um SKU para ver o resumo</p>
                                </div>
                                </div>
                            </div>
                            
                            <div class="calculadora-actions">
                            <button type="button" class="calc-btn-secondary" onclick="fecharCalculadoraAvancada()">
                                    <i class="fa-solid fa-times"></i> Cancelar
                                </button>
                            <button type="button" class="calc-btn-primary" onclick="aplicarCubagemCalculada()">
                                <i class="fa-solid fa-check"></i> Aplicar Cubagem Total
                                </button>
                        </div>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="valor_nf_frac">Valor da NF (R$) - Opcional:</label>
                        <input type="number" id="valor_nf_frac" name="valor_nf_frac" step="0.01" min="0" placeholder="Deixe em branco se n√£o aplic√°vel">
                        <small style="color: #6c757d; font-size: 0.85rem; margin-top: 4px; display: block;">
                            <i class="fa-solid fa-info-circle"></i> Campo usado para c√°lculo do GRIS (taxa de seguro)
                        </small>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="tipo_filtro_frac">Filtrar por Tipo:</label>
                        <select id="tipo_filtro_frac" name="tipo_filtro_frac">
                            <option value="">Todos os Tipos</option>
                            <option value="Agente">Agente</option>
                            <option value="Transfer√™ncia">Transfer√™ncia</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="base_filtro_frac">Filtrar por Base:</label>
                        <select id="base_filtro_frac" name="base_filtro_frac">
                            <option value="">Todas as Bases</option>
                            <!-- Regi√£o Sudeste -->
                            <option value="FILIAL">S√£o Paulo Capital (FILIAL)</option>
                            <option value="RAO">Ribeir√£o Preto (RAO)</option>
                            <option value="CPQ">Campinas (CPQ)</option>
                            <option value="SJK">S√£o Jos√© dos Campos (SJK)</option>
                            <option value="RIO">Rio de Janeiro (RIO)</option>
                            <option value="BHZ">Belo Horizonte (BHZ)</option>
                            <option value="VIX">Vit√≥ria (VIX)</option>
                            <!-- Regi√£o Sul -->
                            <option value="CWB">Curitiba (CWB)</option>
                            <option value="ITJ">Itaja√≠ (ITJ)</option>
                            <option value="POA">Porto Alegre (POA)</option>
                            <!-- Regi√£o Centro-Oeste -->
                            <option value="BSB">Bras√≠lia (BSB)</option>
                            <option value="GYN">Goi√¢nia (GYN)</option>
                            <option value="CGB">Cuiab√° (CGB)</option>
                            <option value="CGR">Campo Grande (CGR)</option>
                            <!-- Regi√£o Nordeste -->
                            <option value="FOR">Fortaleza (FOR)</option>
                            <option value="REC">Recife (REC)</option>
                            <option value="SSA">Salvador (SSA)</option>
                            <option value="NAT">Natal (NAT)</option>
                            <option value="JPA">Jo√£o Pessoa (JPA)</option>
                            <option value="MCZ">Macei√≥ (MCZ)</option>
                            <option value="AJU">Aracaju (AJU)</option>
                            <option value="SLZ">S√£o Lu√≠s (SLZ)</option>
                            <option value="THE">Teresina (THE)</option>
                            <!-- Regi√£o Norte -->
                            <option value="MAO">Manaus (MAO)</option>
                            <option value="MAB">Marab√° (MAB)</option>
                            <option value="PMW">Palmas (PMW)</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn-primary">Calcular Rota com Agentes</button>
                <div id="loading-fracionado" class="loading-spinner"></div>
            </form>
            
            <!-- Bot√£o para Frete Fracionado com M√∫ltiplas Bases -->
            <div class="form-grid" style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #e3e8ee;">
                <div class="form-group">
                                   <label for="bases_intermediarias">Base Intermedi√°ria (ex: SAO):</label>
               <div style="display: flex; gap: 10px;">
                   <input type="text" id="bases_intermediarias" name="bases_intermediarias" 
                          placeholder="Digite o c√≥digo da base intermedi√°ria" 
                          style="font-family: monospace; flex: 1;">
                   <button type="button" class="btn-secondary" onclick="abrirModalBases()" 
                           style="white-space: nowrap; padding: 10px 15px;">
                       <i class="fa-solid fa-map-marker-alt"></i> Selecionar
                   </button>
               </div>
               <small style="color: #6c757d; font-size: 0.85rem; margin-top: 4px; display: block;">
                   <i class="fa-solid fa-info-circle"></i> Use c√≥digo de 3 letras da base intermedi√°ria ou clique em "Selecionar"
               </small>
                </div>
                <div class="form-group">
                    <label>&nbsp;</label>
                                   <button type="button" class="btn-primary" onclick="calcularFreteFracionadoMultiplasBases()" 
                       style="background: #28a745; width: 100%;">
                   <i class="fa-solid fa-route"></i> Calcular Frete Fracionado com Base Intermedi√°ria
               </button>
                    <div id="loading-fracionado-multiplas-bases" class="loading-spinner"></div>
                </div>
            </div>
            
            <!-- Modal para sele√ß√£o de bases -->
            <div id="modal-bases" class="modal" style="display: none;">
                <div class="modal-content">
                                   <div class="modal-header">
                   <h3><i class="fa-solid fa-map-marker-alt"></i> Selecionar Base Intermedi√°ria</h3>
                   <span class="close" onclick="fecharModalBases()">&times;</span>
               </div>
                    <div class="modal-body">
                        <div class="bases-grid" id="bases-grid">
                            <!-- Bases ser√£o carregadas dinamicamente -->
                        </div>
                                           <div class="bases-selecionadas">
                       <h4>Base Selecionada:</h4>
                       <div id="bases-selecionadas-lista"></div>
                   </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn-secondary" onclick="fecharModalBases()">Cancelar</button>
                        <button type="button" class="btn-primary" onclick="aplicarBasesSelecionadas()">Aplicar</button>
                    </div>
                </div>
            </div>
            
            <div id="fracionado-resultado"></div>
        </div>
    </div>
    <div id="dedicado" class="tab-content">
        <div class="card">
            <h2><i class="fa-solid fa-truck"></i> Cota√ß√£o de Frete Dedicado</h2>
            <form id="form-dedicado">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="uf_origem">Estado de Origem:</label>
                        <input type="text" id="uf_origem" name="uf_origem" required 
                               list="datalist_uf_origem" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_uf_origem"></datalist>
                    </div>
                    <div class="form-group">
                        <label for="uf_destino">Estado de Destino:</label>
                        <input type="text" id="uf_destino" name="uf_destino" required 
                               list="datalist_uf_destino" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_uf_destino"></datalist>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="municipio_origem">Munic√≠pio de Origem:</label>
                        <input type="text" id="municipio_origem" name="municipio_origem" required 
                               list="datalist_municipio_origem" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_municipio_origem"></datalist>
                    </div>
                    <div class="form-group">
                        <label for="municipio_destino">Munic√≠pio de Destino:</label>
                        <input type="text" id="municipio_destino" name="municipio_destino" required 
                               list="datalist_municipio_destino" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_municipio_destino"></datalist>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="peso">Peso (kg):</label>
                        <input type="number" id="peso" name="peso" step="0.01" min="0" />
                    </div>
                    <div class="form-group">
                        <label for="cubagem">Cubagem (m¬≥):</label>
                        <input type="number" id="cubagem" name="cubagem" step="0.001" min="0" required 
                               class="cubagem-resultado" style="font-weight: 600; font-size: 1.1rem;" 
                               placeholder="Ex: 2.304 ou use a calculadora" 
                               onchange="marcarCubagemManualDedicado()" oninput="marcarCubagemManualDedicado()">
                        <small id="cubagem-formula-dedicado" style="color: #6c757d; font-size: 0.85rem; margin-top: 4px; display: block;">
                            <i class="fa-solid fa-calculator"></i> <span id="formula-texto-dedicado">üìù Digite diretamente ou use a calculadora abaixo</span>
                            <button type="button" class="btn-reset-cubagem" onclick="resetarCubagemDedicado()" title="Limpar e voltar ao modo autom√°tico">
                                <i class="fa-solid fa-refresh"></i> Reset
                            </button>
                            <button type="button" class="btn-calculator-avancada" onclick="abrirCalculadoraAvancadaDedicado()" title="Calculadora Avan√ßada de Volumes">
                                <i class="fa-solid fa-cubes"></i> Volumes
                            </button>
                        </small>
                    </div>
                </div>
                <div class="form-grid cubagem-calculator">
                    <div class="form-group">
                        <label for="largura">
                            <i class="fa-solid fa-arrows-left-right"></i> Largura (m):
                        </label>
                        <input type="number" id="largura" name="largura" step="0.01" min="0.01" 
                               class="dimensao-input" placeholder="Ex: 1.20" onchange="calcularCubagemDedicado()" oninput="calcularCubagemDedicado()">
                    </div>
                    <div class="form-group">
                        <label for="altura">
                            <i class="fa-solid fa-arrows-up-down"></i> Altura (m):
                        </label>
                        <input type="number" id="altura" name="altura" step="0.01" min="0.01" 
                               class="dimensao-input" placeholder="Ex: 0.80" onchange="calcularCubagemDedicado()" oninput="calcularCubagemDedicado()">
                    </div>
                    <div class="form-group">
                        <label for="comprimento">
                            <i class="fa-solid fa-ruler"></i> Comprimento (m):
                        </label>
                        <input type="number" id="comprimento" name="comprimento" step="0.01" min="0.01" 
                               class="dimensao-input" placeholder="Ex: 2.40" onchange="calcularCubagemDedicado()" oninput="calcularCubagemDedicado()">
                    </div>
                </div>

                <!-- Calculadora Avan√ßada Modal para Dedicado -->
                <div id="calculadora-modal-dedicado" class="calculadora-modal" style="display: none;">
                    <div class="calculadora-content">
                        <div class="calculadora-header">
                            <h3><i class="fa-solid fa-cubes"></i> Calculadora Avan√ßada de Volumes - Dedicado</h3>
                            <span class="close-calculadora" onclick="fecharCalculadoraAvancadaDedicado()">&times;</span>
                        </div>
                        
                        <div class="calculadora-body">
                            <div class="form-group">
                                <label for="total-volumes-dedicado">Total de Volumes:</label>
                                <input type="number" id="total-volumes-dedicado" min="1" value="1" onchange="atualizarListaVolumesDedicado()">
                                <small style="color: #6c757d; margin-top: 4px; display: block;">
                                    Ex: 100 volumes com 3 medidas diferentes
                                </small>
                            </div>
                            
                            <div class="volumes-container">
                                <h4>üì¶ Configure as medidas por SKU:</h4>
                                <div id="lista-volumes-dedicado" class="lista-volumes">
                                    <!-- Volumes ser√£o gerados dinamicamente -->
                                </div>
                                <button type="button" class="btn-add-sku" onclick="adicionarSkuDedicado()">
                                    <i class="fa-solid fa-plus"></i> Adicionar SKU
                                </button>
                            </div>
                            
                            <div class="calculadora-resultado">
                                <div class="resultado-header">
                                    <h4>üìä Resumo do C√°lculo:</h4>
                                </div>
                                <div id="resumo-calculo-dedicado" class="resumo-detalhado">
                                    <p>Configure pelo menos um SKU para ver o resumo</p>
                                </div>
                            </div>
                            
                            <div class="calculadora-actions">
                                <button type="button" class="btn-secondary" onclick="fecharCalculadoraAvancadaDedicado()">
                                    <i class="fa-solid fa-times"></i> Cancelar
                                </button>
                                <button type="button" class="btn-primary" onclick="aplicarCubagemCalculadaDedicado()">
                                    <i class="fa-solid fa-check"></i> Aplicar Cubagem
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <button type="submit" class="btn-primary">Calcular Frete Dedicado</button>
                <div id="loading-dedicado" class="loading-spinner"></div>
            </form>
            
            <!-- Mapa em cima com t√≠tulo -->
            <div style="display: none;" id="mapa-section-dedicado">
                <h3 class="map-title"><i class="fa-solid fa-map"></i> Mapa Rota</h3>
                <div id="map-dedicado" class="map-container" style="height: 350px; width: 100%; margin: 20px 0; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 16px rgba(0,0,0,0.1); position: relative; z-index: 1;"></div>
            </div>
            
            <!-- An√°lise da rota -->
            <div id="analise-dedicado"></div>
            
            <!-- Resultados - Layout All In -->
            <div id="resultados-dedicado-all-in" class="resultados-dedicado-all-in">
                <div class="resumo-section">
                    <h3><i class="fa-solid fa-truck"></i> Frete Dedicado</h3>
                    <div class="resumo-grid">
                        <!-- Ve√≠culos -->
                        <div class="resumo-card">
                            <div class="resumo-card-header">
                                <i class="fa-solid fa-truck-moving"></i> Ve√≠culos Dispon√≠veis
                            </div>
                            <div id="resumo-dedicado-veiculos" class="resumo-card-body">
                                <p class="placeholder-text">Aguardando cota√ß√£o...</p>
                            </div>
                        </div>
                        
                        <!-- Custos Operacionais -->
                        <div class="resumo-card">
                            <div class="resumo-card-header">
                                <i class="fa-solid fa-calculator"></i> Custos Operacionais
                            </div>
                            <div id="resumo-dedicado-custos" class="resumo-card-body">
                                <p class="placeholder-text">Aguardando cota√ß√£o...</p>
                            </div>
                        </div>
                        
                        <!-- Margens Comerciais -->
                        <div class="resumo-card">
                            <div class="resumo-card-header">
                                <i class="fa-solid fa-chart-line"></i> Margens Comerciais
                            </div>
                            <div id="resumo-dedicado-margens" class="resumo-card-body">
                                <p class="placeholder-text">Aguardando cota√ß√£o...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="aereo" class="tab-content">
        <div class="card">
            <h2><i class="fa-solid fa-plane"></i> Cota√ß√£o de Frete A√©reo</h2>
            <form id="form-aereo">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="uf_origem_aereo">Estado de Origem:</label>
                        <input type="text" id="uf_origem_aereo" name="uf_origem_aereo" required 
                               list="datalist_uf_origem_aereo" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_uf_origem_aereo"></datalist>
                    </div>
                    <div class="form-group">
                        <label for="uf_destino_aereo">Estado de Destino:</label>
                        <input type="text" id="uf_destino_aereo" name="uf_destino_aereo" required 
                               list="datalist_uf_destino_aereo" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_uf_destino_aereo"></datalist>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="municipio_origem_aereo">Munic√≠pio de Origem:</label>
                        <input type="text" id="municipio_origem_aereo" name="municipio_origem_aereo" required 
                               list="datalist_municipio_origem_aereo" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_municipio_origem_aereo"></datalist>
                    </div>
                    <div class="form-group">
                        <label for="municipio_destino_aereo">Munic√≠pio de Destino:</label>
                        <input type="text" id="municipio_destino_aereo" name="municipio_destino_aereo" required 
                               list="datalist_municipio_destino_aereo" placeholder="Digite para buscar..." autocomplete="off">
                        <datalist id="datalist_municipio_destino_aereo"></datalist>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="peso_aereo">Peso (kg):</label>
                        <input type="number" id="peso_aereo" name="peso_aereo" step="0.01" min="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="cubagem_aereo">Cubagem (m¬≥):</label>
                        <input type="number" id="cubagem_aereo" name="cubagem_aereo" step="0.001" min="0" required>
                    </div>
                </div>
                <button type="submit" class="btn-primary">Calcular Frete A√©reo</button>
                <div id="loading-aereo" class="loading-spinner"></div>
            </form>
            <div id="resultados-aereo"></div>
            <!-- Container do mapa a√©reo sempre presente e vis√≠vel -->
            <div id="map-aereo" class="map-container" style="height: 400px; width: 100%; margin: 20px 0; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 16px rgba(0,0,0,0.1); position: relative; z-index: 1;"></div>
        </div>
    </div>
    <div id="historico" class="tab-content">
        <div class="card">
            <h2><i class="fa-solid fa-history"></i> Hist√≥rico de C√°lculos</h2>
            <div id="listaHistorico"></div>
        </div>
    </div>
    <div id="dashboard" class="tab-content">
        <div class="card">
            <h2><i class="fa-solid fa-chart-line"></i> Dashboard Target</h2>
            <iframe src="https://app.powerbi.com/view?r=eyJrIjoiYWUzODBiYmUtMWI1OC00NGVjLWFjNDYtYzYyMDQ3MzQ0MTQ0IiwidCI6IjM4MjViNTlkLTY1ZGMtNDM1Zi04N2M4LTkyM2QzMzkxYzMyOCJ9" 
                    allowfullscreen="true" 
                    style="width: 100%; height: 600px; border: none; border-radius: 8px;"
                    title="Dashboard Power BI">
            </iframe>
        </div>
    </div>
    <div id="mapa" class="tab-content">
        <div class="card">
            <h2><i class="fa-solid fa-map-location-dot"></i> Mapa de Agentes no Brasil</h2>
            <p style="color: #666; margin-bottom: 20px;">
                <i class="fa-solid fa-info-circle"></i>
                Clique em um estado para visualizar os agentes dispon√≠veis naquela regi√£o. 
                <button onclick="carregarBaseAgentes()" style="margin-left: 15px; padding: 5px 10px; background: #0a6ed1; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">
                    üîÑ Recarregar Base
                </button>
                <button onclick="console.log('Base atual:', baseAgentes)" style="margin-left: 5px; padding: 5px 10px; background: #666; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">
                    üìä Debug
                </button>
                <button onclick="recarregarPositionsSiglas()" style="margin-left: 5px; padding: 5px 10px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">
                    üîÑ Recarregar Siglas
                </button>
                <button onclick="debugLocalStorage()" style="margin-left: 5px; padding: 5px 10px; background: #6f42c1; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">
                    üíæ Debug Storage
                </button>
            </p>
            
            <!-- Container do Mapa -->
            <div class="mapa-container">
                                <div class="mapa-brasil" id="mapa-brasil" style="position: relative;">
                    <!-- Editor Discreto -->
                    <div class="editor-discreto" id="editor-discreto">
                        <button class="btn-edit-discreto" id="btn-edit-discreto" onclick="toggleEditMode()" title="Editar posi√ß√µes das siglas">
                            <i class="fa-solid fa-edit"></i>
                        </button>
                        <div class="edit-controls-discreto" id="edit-controls-discreto" style="display: none;">
                            <button class="btn-save-discreto" onclick="savePositions()" title="Salvar posi√ß√µes">
                                <i class="fa-solid fa-check"></i>
                            </button>
                            <button class="btn-cancel-discreto" onclick="cancelEdit()" title="Cancelar">
                                <i class="fa-solid fa-times"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- SVG completo do Brasil fornecido pelo usu√°rio -->
                    <svg width="612.51611" height="639.04297" viewBox="0 0 612.51611 639.04297" 
                         xmlns:mapsvg="http://mapsvg.com" xmlns="http://www.w3.org/2000/svg"
                         style="width: 100%; height: auto; max-height: 600px;">
                        
                        <!-- Acre -->
                        <path id="BR-AC" class="estado-path" data-estado="AC" data-nome="Acre" 
                              d="m 30.732574,238.03114 -2.08,-0.04 0.54,-1.81 -0.21,-0.83 -0.25,-0.49 -1.25,-0.7 -0.14,-0.45 0.27,-1.15 -0.77,-1.95 -1.09,-0.64 -5.6,-1.25 -7.34,-0.19 0.27,-0.56 2.49,-2.26 0.89,-1.23 0.29,-1.2 -0.22,-1.23 -0.68,-0.91 -0.83,-0.44 -1.68,-2.95 -0.77,-0.44 -0.9,-0.19 -1.13,-1.13 -0.92,-2.38 -2,-1.53 -0.98,-3.62 -0.87,-1.64 -1.88,-1.08 -0.08,-1.17 0.81,0.1 0.42,-0.52 0.07,-0.67 -0.2,-0.42 -2.12,-0.93 -0.36,-0.66 -2.16999996,-1.89 0.04,-0.37 0.62,-0.05 0.49999996,-1.32 -0.01,-1.31 3.01,-0.39 0.5,-0.39 -0.22,-1.35 -1.17,-1.57 0,0 17.95,7.48 23.66,5.66 12.14,3.14 26.44,14.17 28.509996,12.13 0,0 2.97,1.26 0,0 -0.3,0.48 -1.57,0.66 -2.09,1.59 -2.86,2.79 -1.65,0.86 -0.66,-0.18 -1.53,0.18 -0.05,0.56 -1.92,1.3 -2.08,0.99 -1.439996,1.83 -0.44,1.18 -0.61,0.28 -1.17,-0.75 -0.76,-0.13 -2.37,0.05 -0.68,0.26 -0.63,0.45 -0.36,0.86 -2.44,3.48 -3.77,1.25 -0.84,0.69 -1.94,0.51 -1.03,0.03 0.08,-2.11 -1.36,0.2 -3.55,-0.77 -5.24,-0.47 -5.09,0.38 -0.66,-0.58 -2.27,-0.17 -3.56,1.83 -2.73,0.62 -1.68,-0.67 -1.4,-1.44 -1.64,1.16 0.04,-17.55 0.05,-1.1 0.47,-0.71 0.07,-2.35 -0.26,-0.88 0.97,-1.18 0.48,-1.14 -1.16,0.2 -2.97,2.59 -1.6,1.01 -2.06,2.38 -1.95,0.67 -0.65,1.08 -1.81,0.99 z" 
                              title="Acre" fill="#e3f2fd" stroke="#1976d2" stroke-width="1"/>
                        
                        <!-- Alagoas -->
                        <path id="BR-AL" class="estado-path" data-estado="AL" data-nome="Alagoas" 
                              d="m 562.17257,230.56114 -0.2,-0.73 -1.42,-0.78 -0.45,0.09 -1.02,-0.29 -0.54,-1.4 0,0 1.32,-1.07 0.64,-1.09 2.17,-0.76 2.38,-3.29 0.09,-0.69 0.82,-0.6 1,1.22 1.67,0.3 1.08,-0.12 2.55,2.02 1.9,2.12 1.78,1.05 1.91,0.48 2.5,-0.65 3.14,0.29 1.17,-0.11 1.86,-1.06 1.16,0.05 1.81,-1.11 2.18,-2.29 0.12,-0.45 1.55,-1.24 2,-0.24 2.24,0.85 2.56,-1.29 1.47,-0.19 1.92,0.81 2.9,0.27 0.27,0.21 0,0 -2.78,4.96 -4.55,5.13 -3.58,3.58 -3.04,4.58 -3.33,2.88 -1,2.03 -1.32,1.79 0,0 -0.6,-1.31 -3.59,-2.23 -0.46,-0.03 -1.66,-0.79 -1.76,-1.45 -1.3,-2.45 -5.42,-3.07 -3.68,-0.95 z" 
                              title="Alagoas" fill="#fff3e0" stroke="#f57c00" stroke-width="1"/>
                        
                        <!-- Amazonas -->
                        <path id="BR-AM" class="estado-path" data-estado="AM" data-nome="Amazonas" 
                              d="m 166.08257,47.551144 0.72,0.78 0.75,0.34 0.61,0.01 1.13,-0.42 0.63,0.11 0.06,0.96 1.21,1.17 0.97,0.37 0.88,-0.21 1.36,0.11 1.95,0.95 0.49,0.66 -0.91,3.32 -0.71,1.5 2.73,3.74 1.66,4.76 0.19,2.26 0.87,1.12 0.05,0.45 -1.62,1.46 0.36,1.59 0.66,1.58 -0.77,3.04 -0.57,0.96 0.29,4.98 0.88,2.17 1.22,0.84 0.58,0.9 1.13,4.33 -0.06,0.58 -1.14,1.32 -1.84,-0.33 -0.14,1.14 5.01,4.42 0.52,0.04 1.96,1.31 1.48,1.649996 1.04,2.04 0.53,0.07 1.34,-0.42 2.36,1.04 -0.44,-2.11 0.75,-2.289996 0.25,-1.73 -0.37,-1.8 0.82,-2.97 1.02,-1.26 1.28,-0.69 2.09,-0.71 0.55,-0.89 1.6,-0.06 2.83,0.93 1.87,2.04 0.92,2.51 1.82,0.23 1.25,-0.46 1.41,-1.41 2.03,-0.55 0.42,-0.39 0.02,-0.53 -1.14,-1.41 -0.23,-0.73 0.11,-0.66 1.15,-2.64 0.07,-1.13 1.66,-3.03 2.33,-3.26 -0.03,-0.68 18.49,0.07 0,0 0.4,4.86 -0.43,1.45 0.18,2.27 0.24,0.68 1.7,0.85 0.18,0.41 -0.35,0.69 -0.05,2.11 1.83,1.99 0.36,0.19 0.7,-0.18 1.84,1.23 0.55,1.83 0.04,0.93 0.3,0.45 4.64,3.769996 4.58,2.54 0.63,0.9 1.35,1.09 1.88,0.67 2.37,1.31 2.26,0.65 1.36,0.15 1.32,0.82 0.08,0.61 1.27,1.34 2.7,1.44 1.1,2.17 1.87,0.79 0.85,-0.61 1.38,-0.35 0.19,0.48 -0.13,0.78 1.81,1.67 -29.9,64.24 -0.78,1.31 -1.45,1.13 -0.58,0.97 -0.03,1.13 0.82,2.33 0.38,0.57 1.07,0.58 1.58,1.56 0.64,1.26 0.15,1.96 0.57,0.57 0,0 -1.18,1.2 -0.2,0.61 -0.06,0.76 0.34,0.84 -0.27,1.01 -1.2,1.82 -0.86,0.64 -0.42,0.85 0.1,0.85 0.66,1.37 0.46,1.94 -1.38,4.22 -1.18,5.22 -1.21,0.73 -47.85,0.32 0,0 0.04,-0.7 -0.36,-0.38 -1.39,-0.28 -1.92,1.08 -0.54,1.74 -0.68,0.19 -3.24,-1.48 -0.68,-2.88 -0.62,-0.2 -0.98,0.13 -0.46,-0.21 -1.25,-3.27 -2.54,-0.98 -1.33,-1.27 -0.8,-1.91 -0.45,-0.49 -2.15,-1.13 -10.79,0.06 -1.38,2.56 -1.72,0.5 0.09,1.17 -0.26,0.22 -2.48,0.53 -1.19,1.59 -0.05,0.67 0.9,0.7 0.17,0.45 -0.36,1.02 -0.81,1.15 -2.06,1.21 -0.11,1.81 0.24,1.46 -3.87,-0.46 -2.13,0.38 -1.2,1.07 -1.79,-0.1 -0.84,-0.55 -0.46,-0.02 -1.75,1.26 -0.53,0.84 0.26,1.75 -2.54,3.16 -0.68,0.08 -0.68,-0.53 -0.64,-2.26 -0.38,-0.09 -1.84,1.02 -1.3,1.21 -1.37,0.39 -0.77,-0.13 -1.08,0.5 -0.41,0.53 -0.13,0.72 -1.22,0.79 -0.37,0.02 -2.31,-2.33 -0.72,-0.37 -2.87,0.33 -3.96,-0.26 0.16,1.29 -0.15,0.56 -1.55,1.81 -1.92,0.58 -3.26,2.56 0,0 -28.509996,-12.13 -26.44,-14.17 -12.14,-3.14 -23.66,-5.66 -17.95,-7.48 0,0 -0.07,-0.65 0.7,-2.92 1.22,-1.4 4.92,-3.47 2.26,-0.24 0.47,-0.3 0.98,-1.56 0.08,-1.03 -1.74,-4.49 0.38,-1.19 1.18,-2.19 1.28,-1.32 0.92,-1.25 0.42,-0.98 0.3,-1.74 -0.29,-1.32 0.67,-2.04 0.31,-2.31 0.73,-0.75 3.66,-1.63 2.19,-1.23 1.15,-1.04 0.44,-1.4 0.78,-0.37 1.41,-0.11 1.65,-0.93 3.54,-2.73 2.42,-0.43 1.51,0.29 4.19,-1.22 1.5,-0.77 1.82,-0.36 3.33,0.38 1.3,-1.59 0.63,-1.45 1.09,-0.61 2.14,0.2 0.64,0.54 1.32,-0.24 1.1,-0.74 1.71,0.12 0.31,0.53 -0.02,1.18 1.61,1.29 2.83,0.08 0.58,-0.4 0.46,-0.78 -0.11,-0.39 1.17,-4.92 6.7,-37.17 1.16,-2.92 -0.99,-4.959996 0.12,-0.26 -1.3,-1.05 -1.48,-2.75 -0.04,-0.49 0.65,-1.39 -0.52,-1.78 -0.37,-0.4 -1.7,-0.59 -3.03,-2.35 -1.94,-2.28 0.2,-11.51 3.89,-0.26 1.75,-1.17 3.5,-0.92 2.68,1.76 1.22,0.11 1.27,-0.43 -0.49,-1.69 0.3,-1.72 -1.37,-2.1 -0.57,-0.54 -1.15,-0.6 -1.51,0.53 -2.79,-0.61 -3.57,0.09 -0.06,-9.9 0.96,0.04 1.32,-0.58 2.28,-0.6 2.84,0.87 19.03,0.06 -0.46,-0.66 -0.79,-0.14 -0.38,-1.2 0.95,-1.93 1.43,0.4 0.61,1.52 0.87,1.32 0.66,0.35 0.83,0.01 1.61,-0.61 1.94,-2.09 0.32,-0.84 1.259996,-1.24 2.55,-1.39 1.29,0.46 1.17,2.58 1.62,1.99 0.74,1.3 0.66,1.78 0.23,1.55 -0.49,3.63 0.2,1.76 3.2,-0.75 8.31,7.06 0.79,0.28 2.5,0.21 2.3,-1 1.7,-1.7 2.11,-1.16 2.19,-0.11 0.56,0.29 0.77,1.08 -0.02,0.97 -1.11,1.7 0.37,0.98 0.58,0.27 1.33,-0.72 0.56,-0.91 0.23,-1.29 1,-1.16 0.47,-0.23 1,0.18 0.55,-0.18 0.41,-0.66 0.46,-2.31 0.51,-0.37 1.51,-0.36 2.93,-1.77 0.97,0.55 0.93,-0.29 1.6,-1.04 1.02,-1.61 2.11,-1.21 2.03,0.55 2.36,-1.65 0.55,-0.82 0.44,-2.66 -0.03,-1.29 0.77,-0.92 1.03,-0.42 1.74,-0.02 1.34,-0.39 2.06,-1.6 0.96,-0.37 2.28,-0.3 z" 
                              title="Amazonas" fill="#e3f2fd" stroke="#1976d2" stroke-width="1"/>
                        
                        <!-- Amap√° -->
                        <path id="BR-AP" class="estado-path" data-estado="AP" data-nome="Amap√°" 
                              d="m 345.24257,99.961144 -0.94,-0.06 -0.77,0.339996 -1.3,0.12 -2.79,-0.679996 -1.45,-1.03 -0.43,-1.5 -1.87,-1.39 -0.11,-1.3 0.21,-0.69 -0.31,-1.58 -0.33,-0.47 -0.95,-0.19 -0.41,-0.94 0.08,-2.43 -2.93,-3.28 -0.78,0.36 -0.82,-0.19 -1.5,-3.48 0.13,-1.58 -0.59,-1.81 -0.62,-0.56 -0.67,-1.51 -0.19,-2.11 0.43,-3.14 -0.17,-0.33 -2.57,-0.73 -2.02,-2.26 -0.76,-2.83 0.19,-0.72 0.68,-0.23 -0.49,-1.18 -0.68,0.03 -2.84,-2.66 -0.94,0.14 -0.38,0.42 -1.33,0.14 -0.84,-0.27 -0.8,-0.98 -1.14,-0.84 -1.19,-0.12 -0.49,-1.28 -0.67,-0.8 -1.93,-1.05 -1.29,-0.49 -3.39,-0.37 -1.08,0.29 -1.17,-0.02 -0.31,-0.54 -0.24,-1.44 0.25,-4.54 0.62,-1.3 -0.37,-2.3 -0.62,-0.57 0,0 0.35,-0.21 0.99,0.3 -0.01,0.81 -0.29,0.18 0.34,0.97 1.47,-0.06 0.82,0.23 0.35,0.9 0.84,0.71 2.25,0.78 3.29,0.75 2.76,-1.78 0.35,-0.76 1.73,-1.17 0.83,-0.29 0.69,0.94 2.71,0.94 1.08,-0.12 1.72,-1.01 0.12,-0.42 0.32,0.03 1.46,1.3 -0.2,0.87 2.37,-0.17 0.51,0.5 0.95,0.17 0.62,-0.01 0.91,-0.48 1.67,-1.5 1.78,-1.1 1.75,-2.3 0.37,-1 -0.2,-0.54 3.13,-6.5 0.11,-1.82 1.11,-1.3 0.73,-0.19 3.6,-5.79 0.23,-1.15 0.84,-1.2 1.79,-1.55 0.63,-1.66 2.11,-1.14 0.47,-0.92 1.04,-0.58 0.56,1.46 0.88,1.36 -1.67,-4.8 -0.07,-1.29 0.18,-0.33 3.37,2.42 1.14,1.21 0.91,1.22 0.52,1.19 0.03,1.58 0.44,0.31 0.32,-0.48 0.38,-0.1 0.21,0.4 0.21,7.89 0.66,3.87 2.71,6.05 2.66,8.94 3.32,5 1.01,0.35 3.27,-0.08 2.78,0.94 1.29,0.85 0.77,2.65 -0.16,3.33 -1.29,0.96 -1.73,0.43 -0.38,0.33 1.79,-0.15 1.04,-0.42 0.28,0.23 0.12,0.59 -0.17,0.73 -5.03,4.06 -1.17,2.1 -2.15,1.41 -1.94,3.72 -2.91,3.5 -0.7,0.46 -0.94,-0.09 -1.45,0.52 -2.08,2.98 0,0 -1.34,0.07 -0.75,0.9 0,0 -1.47,1.68 -0.97,2.22 -1.12,1.87 -0.84,0.65 -3.01,3.45 -0.36,2.4 0.17,1.8 -1.95,1.81 -0.98,0.12 z" 
                              title="Amap√°" fill="#e3f2fd" stroke="#1976d2" stroke-width="1"/>
                        
                        <!-- Bahia -->
                        <path id="BR-BA" class="estado-path" data-estado="BA" data-nome="Bahia" 
                              d="m 527.76257,365.59114 -0.36,-0.83 0.68,-1.35 -0.01,-0.53 -0.53,-1.04 -4.13,-3.05 -0.15,-0.51 0.22,-1.51 -0.57,-1.23 -0.65,0.24 -0.2,0.45 -0.34,0.18 -0.22,-0.25 0.53,-4.4 0.82,-3.3 0.82,-0.88 2.47,0.24 1.02,-0.71 0,-0.42 -0.56,-1.02 0.16,-2.65 4.96,-4.22 1.47,-3.08 -0.42,-1.17 -0.78,-1.02 -0.89,-0.06 -0.73,-0.38 -2.83,-2.47 -2.12,0.02 -2.19,-0.6 -2.27,-1.08 -2.73,-0.56 -1.98,-0.14 -1.32,0.99 -1.47,0.5 -2.61,-0.45 -0.57,0.21 -0.44,-3.96 -6.52,-6.2 -0.38,-0.18 -4.39,1.23 -1.53,-1.24 -0.51,0.21 -0.93,-0.22 -2.54,-1.22 -2.17,-1.62 -0.98,0.18 -4.35,-3.63 -1.1,-0.54 -2.73,-0.75 -1.77,0.25 -1.88,0.9 -0.81,1.12 -0.64,0.18 -5.33,-1.47 -0.61,-0.49 -0.26,-1.5 0.14,-0.89 1.29,-2.74 -0.86,-0.46 -2.28,-0.52 -2.18,-0.04 -1.2,-0.5 -1.79,-0.08 -3.83,1.58 -4.26,3.03 -0.64,1.11 -3.37,1.87 -2.02,0.4 -0.95,1.18 -1.81,1.55 -1.43,0.52 -1,-0.15 -1.85,2.58 -1.04,0.77 -2.13,-0.38 -0.72,0.13 -0.69,1 -1.34,0.92 -0.4,-0.24 1.43,-3.43 -0.51,-2.41 0,0 1.48,-1.97 0.25,-0.77 -0.23,-1.27 -0.67,-1.72 0.1,-0.67 0.71,-1.42 -0.05,-0.46 -3.21,-2.62 -1.69,-3.46 -0.62,-3.52 0.05,-1.55 1.2,-3.83 1.59,-1.03 0.23,-0.38 0.06,-0.94 -1.63,-0.84 -0.11,-0.33 0.48,-2.52 1.43,-1.06 -0.02,-0.37 -2.72,-2.46 0,0 -0.04,-0.93 1.36,-2.38 -0.04,-1.07 -0.17,-0.42 -1.46,-0.49 -0.94,-0.65 -0.35,-1.26 0.06,-2.92 0.19,-0.85 1.95,-1.67 1.14,-0.42 0.96,-0.72 -0.29,-0.63 -0.58,-0.52 -0.92,-0.29 -1.03,0.18 -0.35,-0.33 -0.09,-0.5 0.42,-0.96 2.04,-0.82 0.56,-0.45 -0.04,-0.76 -1.88,-0.98 -3.58,-0.67 -1.86,-1.96 -0.23,-0.92 0.5,-1.16 1.01,-0.73 1.52,-3.48 0.9,-0.61 1.01,-0.27 0.35,-0.38 -1.29,-1.8 0.19,-0.37 3.21,-2.62 3.82,-2.02 0.56,-0.47 0.22,-0.98 0.69,-0.65 0,0 2.33,-0.02 1.44,1.34 0.66,1.04 0.53,2.21 1.76,2.49 4.18,1.86 1.8,-0.52 2.11,0.18 0.33,-0.21 0.75,-1.45 1.14,-0.37 0.67,-0.87 1.17,-0.89 2.21,-0.75 1.33,0.17 1.48,0.53 1.35,-0.42 2.97,-2.42 2.95,-5.05 0.72,-0.86 0.24,-0.92 0.3,-2.56 -0.12,-1.16 -2.24,-4.43 0.05,-0.93 3.24,-1.65 1.95,-0.02 1.5,0.46 0.41,0.93 0.32,0.18 2.12,-0.43 1.39,-0.54 1.33,0.38 1.71,0.99 -0.13,0.65 0.19,0.29 0.82,0.28 3,-0.11 1.47,-0.64 1.7,-0.1 0.82,-1.22 1.51,-1.34 2.73,-0.34 0.77,-0.36 0.81,-0.98 2.17,0.01 0.62,0.63 0.31,0.05 1.86,-1.81 -0.1,-2.4 1.99,-0.38 0.79,0.18 1.05,-0.66 1.5,-2.31 0.46,-1.15 0,0 0.89,0.4 1.16,-0.27 2.2,0.29 2.82,1.39 0.44,0.51 -0.06,2.73 0.72,1.94 2.21,0.91 0.27,2 -0.92,1.68 1.83,0.62 0.96,-0.22 0.82,-0.92 2.87,-0.88 0.77,-3.58 0.5,-0.87 0.75,-0.16 0.78,0.53 0.63,0.05 2.39,-1.02 1.1,-1.24 0.17,-0.59 -0.25,-1.36 0.29,-0.25 2.24,-0.45 0.77,-2.05 1.65,-0.44 2.53,-1.46 0.59,-0.1 1.49,0.56 0.83,1.44 1.36,0.81 2.36,0.78 2.99,0.4 1.58,1.15 0.54,1.65 0.39,0.27 0.43,-0.15 0.29,-1.75 0.43,-0.44 1,-0.01 0.45,0.32 0.02,0.63 -0.62,0.88 0.45,0.83 0.5,0.37 2.1,0.86 0.02,0.94 1.22,3.05 0,0 0.54,1.4 1.02,0.29 0.45,-0.09 1.43,0.79 0.2,0.72 0,0 -0.67,1.16 0.21,2.14 1.28,2.5 1.99,1.95 0.75,1.15 -0.08,3.12 -0.66,1.62 -0.09,0.88 0.76,2.75 -0.3,0.58 -0.69,0.55 -2.55,1 -1.13,-0.75 -1.71,-0.01 -0.32,0.3 -0.59,1.58 0.02,0.77 0.95,1.6 1.1,0.66 0.52,1.49 1.43,1.51 0.15,0.39 -0.13,1.42 -0.34,0.39 0.12,0.42 0.59,0.52 1.93,0.92 0.48,0.71 0.54,0.34 1.55,0.64 2.89,-0.88 0,0 0.64,-0.02 0.36,0.41 -4.08,8.83 -3.83,5.19 -1.03,2.33 -5.03,5.74 -2.45,1.26 -0.87,-0.01 0.3,-1.43 0.37,-0.15 0.14,-1.1 -0.45,-1.93 -1.87,-0.25 -0.43,-1.3 -0.68,-0.75 -0.37,0.6 -0.46,2.33 -0.5,0.87 -0.55,0.38 -0.56,-0.29 -0.49,-1.74 0.11,-0.32 0.31,-0.13 -0.03,-0.39 -0.87,1.29 0.93,1.69 0.46,0.23 0.37,-0.15 1.15,0.26 -0.46,1.81 -1.21,1.15 -0.25,1.82 -1.25,0.97 -0.35,0.67 -0.2,0.84 0.18,0.85 -1.35,-0.39 -0.21,0.39 -0.36,2.52 0.36,-0.72 0.75,0.21 0.24,0.54 -0.23,0.41 0.06,0.62 0.3,0.3 0.33,1 -1.04,2.51 0.57,3.44 -0.55,0.49 -0.57,-0.22 -0.14,1.13 0.59,0.46 1.21,-1.72 -0.47,-2.21 0.82,-0.61 0.25,0.54 -0.06,1.76 -0.96,2.61 -0.74,5.43 -0.51,1.81 0.2,2.47 0.78,2.85 0.19,4.54 0.87,6.41 0.99,3.42 -2.21,6.66 -1.35,6.65 -0.47,1.01 -0.16,2.86 -1.06,3.72 -0.09,2.33 0.39,4.42 0.89,1.71 -2.24,2.98 -1.81,0.67 -0.94,0.64 -2.72,3.89 -0.57,2.04 0,0 -8.09,-5.14 -0.31,-0.53 z" 
                              title="Bahia" fill="#fff3e0" stroke="#f57c00" stroke-width="1"/>
                        
                        <!-- Cear√° -->
                        <path id="BR-CE" class="estado-path" data-estado="CE" data-nome="Cear√°" 
                              d="m 574.05257,157.11114 -4.89,1.59 -2.61,2.01 -3.3,6.69 -0.84,1.12 -0.87,0.57 -0.65,1.67 0.15,0.74 -1.4,2.44 -1.46,1.51 -0.57,1.1 -1.03,0.26 -0.78,-0.51 -0.51,0.07 -0.84,0.88 -1.41,2.25 -0.34,1.97 0.64,0.17 0.66,-0.38 0,0 -0.08,0.54 -0.84,1.15 -1.03,3 0.52,1.31 -0.66,1.31 -1.09,0.63 -0.17,0.38 -0.12,0.93 0.24,0.41 0.58,0.29 0.35,0.72 -0.02,1.66 1.24,0.89 0.69,0.08 0.34,1.19 -1.61,3.49 -1.19,1.12 0.17,0.25 0,0 -1.59,0.49 -1.07,0.83 -1.54,2.29 -1.65,0.05 -0.63,-1.64 -0.78,-0.57 -1.36,-0.48 -1.01,-1.07 -0.46,-0.99 -1.83,-0.83 -2.85,-1.9 -3.08,-0.42 -1.29,0.1 -2.14,0.8 -1.63,0.19 -0.89,-0.24 -4.93,-0.2 0,0 0.06,-1.32 -0.68,-0.68 -0.08,-0.97 1.14,-3.11 1.5,-2.25 0.01,-0.69 -0.77,-1.16 -2.56,-0.47 -1.31,-0.65 -1.01,-2.67 -1.05,-5.2 -0.76,-2.57 0.24,-0.45 -0.94,-8.16 -0.11,-0.38 -0.92,-0.69 0.8,-0.58 0.59,-1.58 -0.6,-2.99 -1,-2.01 0.48,-1.6 -0.79,-3.87 0.74,-1.36 0.02,-0.76 -1.36,-1.59 -0.44,-1.73 -3.15,-6.42 -1.8,-4.72 -0.29,-1.29 0.18,-1.46 1.58,-1.97 1.09,-1.85 0.11,-0.8 0,0 0.19,-0.14 -0.04,-0.62 -0.4,-0.66 0.65,-0.81 6.74,-0.22 2.89,-0.43 2.07,-0.66 7.4,0.79 2.12,1.12 1.94,1.5 4.12,2.18 1.46,0.52 4.82,3 1.21,0.2 2.22,2.29 2.99,2.11 2.57,0.72 2.44,2.91 1.22,0.61 2.96,3.81 4.16,3.08 1.46,2 1.04,0.99 1.5,0.82 1.15,0.03 2.37,0.92 0.79,0.67 z" 
                              title="Cear√°" fill="#fff3e0" stroke="#f57c00" stroke-width="1"/>
                        
                        <!-- Distrito Federal -->
                        <path id="BR-DF" class="estado-path" data-estado="DF" data-nome="Distrito Federal" 
                              d="m 416.97257,334.13114 -14.69,-0.02 -0.52,-3.26 0.92,-1.83 0.38,-3.73 11.95,0.01 1.83,1.98 0.06,2.21 -0.59,1.19 -0.21,2.44 z" 
                              title="Distrito Federal" fill="#e8f5e9" stroke="#388e3c" stroke-width="1"/>
                        
                        <!-- Esp√≠rito Santo -->
                        <path id="BR-ES" class="estado-path" data-estado="ES" data-nome="Esp√≠rito Santo" 
                              d="m 501.89257,411.63114 -0.29,-0.14 0.44,-2.34 0.57,-1.3 -0.59,-3.12 0.16,-0.42 1.72,-2.06 5.15,0.03 0.55,-0.32 0.97,-3.24 1.11,-1.27 0.88,-2.29 0.24,-1.72 0.26,-0.44 1.24,-0.86 1.71,-2.09 0.54,-2.97 -0.29,-2.43 -1.27,-2.81 -1.1,-1.27 -0.52,-0.09 -0.45,0.29 -0.76,-0.28 -0.49,-0.71 0.43,-0.55 1.48,-0.09 0.8,0.35 0.97,0.03 0.95,-0.24 0.32,-0.42 -0.17,-1.72 -1.31,-0.35 -0.21,-0.41 0.3,-1.54 0.03,-1.92 -0.52,-0.66 -1.33,-0.67 -0.3,-0.7 1.17,-1.93 2.17,-1.31 0.31,-0.02 1.05,0.74 1.13,0.11 0.02,-0.81 -1.67,-2.27 1.34,0.13 2.18,-0.29 0.84,-0.61 1.08,-0.32 1.58,-0.08 2.54,0.81 0.91,0.55 0,0 0,0 0,0 0.3,0.53 8.1,5.14 0,0 -0.93,3.35 -0.31,2.86 0.12,3.59 0.72,6.15 -0.31,2.47 -1.49,3.18 -2.75,1.39 -0.55,0.6 -1.67,3.33 -0.98,3.8 -0.77,1.47 -0.83,-0.68 -0.88,-0.13 -0.29,1.28 1.35,0.52 -1.94,4.24 -3.45,3.84 -0.24,-0.27 -1.86,0.66 -0.8,1.23 -0.06,1.39 -0.42,1.25 -1.59,2.02 -0.29,1.13 0,0 -1.62,-1.06 -2.99,0.37 -4.34,-1.01 -2.5,-1.13 -0.67,-4.71 z" 
                              title="Esp√≠rito Santo" fill="#fce4ec" stroke="#c2185b" stroke-width="1"/>
                        
                        <!-- Estados restantes do Brasil -->
                        
                        <!-- Goi√°s -->
                        <path id="BR-GO" class="estado-path" data-estado="GO" data-nome="Goi√°s" 
                              d="m 416.97257,334.13114 -0.87,-1.01 0.21,-2.44 0.59,-1.19 -0.06,-2.21 -1.83,-1.98 -11.95,-0.01 -0.38,3.73 -0.92,1.83 0.52,3.26 14.69,0.02 0,0 0,0 0,0 -0.53,1.52 0.31,1.57 -0.68,1.59 -1.04,1.25 -0.41,1.47 0.85,1.21 0.85,0.34 1.42,1.03 1.65,4.56 0,0.6 -2.32,2.71 -3.24,3.01 -0.43,2.14 1.09,1.11 0.9,-0.47 1.58,0.57 0.47,0.61 0.18,1 -0.17,0.71 -0.73,0.9 -0.51,1.89 1.19,3.46 -3.09,2.06 -1.16,0.2 -0.86,0.9 -0.48,1.12 -4.89,2.74 -0.7,-0.77 -4.35,-1.86 -0.55,0.48 -0.58,0.09 -1.75,0.01 -1.48,-0.28 -3.86,0.16 -2.01,-0.89 -4.13,2.64 -2.91,2.92 -0.33,0 -1.31,-1.42 -1.52,-0.3 -3.19,1.64 -3.71,-0.62 -2.48,0.96 -2.23,0.54 -1.41,2.1 -1.21,2.46 0.06,1 -0.84,1.3 -0.82,0.28 -0.84,-0.16 -0.45,0.14 -0.94,0.74 -1.64,2.1 -0.57,1.9 0.56,0.61 -0.01,0.34 -0.36,0.23 -0.86,-0.46 0,0 -0.24,-0.45 -2.66,-2.24 -3.15,-0.61 -1.62,-1.55 -1.9,-0.43 -1.49,-0.04 -3.35,-1.34 -0.68,-0.85 -3.07,-1.56 -0.67,-0.61 -1.44,-0.71 -1.14,-0.17 -2.7,-1.68 -2.78,0.16 -3.8,-0.7 -0.13,-0.33 0.26,-0.84 0.57,-1.17 1.31,-1.76 -0.08,-0.42 -2.25,-0.9 -1.14,0.67 -0.66,-0.19 -0.28,-0.41 -0.23,-1.11 0.26,-2.58 -0.19,-1.77 0,0 -0.95,-2.2 -0.18,-3.43 -1.41,-2.19 -0.16,-0.71 0.4,-3.41 2.55,-3.85 0.38,-2.91 0.7,-0.77 2.02,-0.84 1.92,-1.77 1.25,-2.02 0.33,-1.95 0.5,-1.01 1.28,-1.04 0.82,-1.43 0.08,-1.54 1.75,-0.97 1.4,-2.62 2.65,-0.13 2.72,-0.86 0.32,-0.28 1.98,-4.19 0.71,-0.96 0.64,-4.1 0.38,-0.74 1.92,-1.94 1.65,-1.01 1.07,-0.26 1.23,0.68 1.21,-0.73 1.39,-1.43 0.84,-2.93 1.17,-2.87 -0.01,-0.8 -0.48,-1.14 0.58,-2.74 1.6,-3.09 -0.12,-5.18 1.21,-0.78 1.03,-2.63 2,-3.17 0.39,-1.07 -0.16,-2.72 0.35,-0.9 0.97,-0.86 0.27,-1.13 -0.08,-0.63 0,0 0.34,-0.45 0.2,-1.88 0.66,-1.23 1.81,-2.09 0.56,-0.3 -0.03,1.71 -1.22,1.88 -0.52,2.34 2.4,0.4 2.2,1.03 3.93,0.4 3.09,1.71 4.07,1.43 0.63,-0.23 1.63,-5.94 1.47,-2.39 1.18,-0.97 1.15,1.31 1.04,1.88 1.11,3.71 0.61,3.1 1.14,0.05 0.75,-0.75 0.3,-1 0.56,-0.54 2.76,0.34 4.53,-0.53 0.22,0.74 -0.56,1.56 3.13,1.47 3.35,0.68 0.69,-0.08 0.51,-3.3 0.55,0.03 1.51,2.62 0.46,0.24 1.78,-0.9 2.52,-2.08 4.53,-1 1.55,0 2.56,-1.1 1.74,-1.34 5.36,-1.42 0,0 2.72,2.46 0.02,0.38 -1.43,1.06 -0.48,2.52 0.1,0.33 1.63,0.84 -0.06,0.94 -0.23,0.38 -1.59,1.03 -1.19,3.83 -0.05,1.55 0.62,3.52 1.7,3.46 3.21,2.62 0.05,0.47 -0.72,1.42 -0.1,0.67 0.67,1.72 0.23,1.28 -0.25,0.77 -1.48,1.97 0,0 -1,1.01 -3.23,-0.34 -0.9,-1.76 -2.42,-1.48 -1.17,1.49 0.58,3.77 -0.57,0.54 -0.4,0.13 -2.78,-1.14 -1.17,0.23 -0.37,0.28 -0.72,3.18 0.72,0.1 0.49,1.16 -0.57,0.94 -0.73,0.7 0.04,1.9 0.42,0.61 0.53,0.19 0.69,4.26 -0.53,0.53 -3.36,0.9 -2.29,1.51 z" 
                              title="Goi√°s" fill="#e8f5e9" stroke="#388e3c" stroke-width="1"/>
                        
                        <!-- Maranh√£o -->
                        <path id="BR-MA" class="estado-path" data-estado="MA" data-nome="Maranh√£o" 
                              d="m 458.83257,129.18114 -0.04,0.33 -2.04,2.15 -0.43,0.17 -0.04,1.44 1.97,-1.7 0.68,-1.21 2.12,-1.58 0.89,-1.14 1.03,-6.33 1.15,-0.7 1.11,-0.12 1.67,-0.92 0.65,-0.13 0.46,0.12 0.08,1.63 -0.2,0.45 -1.42,1.87 -3.21,1.75 -0.03,0.72 0.73,0.12 0.45,-0.81 1.15,-0.31 0.22,0.83 -0.59,0.51 0.25,0.3 4.21,-4.97 0.86,0.33 2.58,-0.93 4.04,0.43 -0.46,-2.41 0.61,-0.23 2.42,0.08 1.78,0.38 2.63,1.05 1.04,0.11 2.15,1.38 1.4,0.03 1.26,1.3 1.89,1.32 2.5,0.58 1.16,-0.19 0.56,0.76 0.34,0.05 1.59,-0.09 2.46,0.66 0.26,-0.9 -0.67,-0.47 1.67,-0.38 0.57,0.11 -0.09,0.42 0,0 -0.46,1.43 0.23,0.72 0.63,0.54 -0.38,1.53 -1.79,2.27 -4.13,3.97 -3.32,0.46 -0.8,-0.16 -2.92,3.4 0.04,1.8 -0.88,1.83 -1.89,1.85 -0.82,1.98 -0.64,0.17 -0.77,1.05 0.36,1.92 1.23,0.83 0.38,1.28 -0.28,1.46 -1.14,2.87 1.58,2.81 0.55,2.98 -0.11,2.43 -0.21,0.55 -4.1,4.42 -0.17,2.48 0.12,2.11 0.51,2.3 1.78,2.04 1.61,0.91 0.17,0.5 0.13,0.84 -0.39,2.2 -0.29,0.44 -0.12,1.21 -0.5,1.46 -1.21,1.31 -2.29,0.29 -0.65,-0.28 -0.83,0.04 -2.43,0.86 -1.52,0.11 -2.5,-1.82 -1.01,-0.21 -1.46,0.19 -1.01,0.6 -1.12,0.26 -0.23,-0.3 -0.84,0.24 -0.5,0.22 -1.9,1.91 0.01,0.46 -0.63,0.87 -2.01,2 -2.34,0.91 -2.87,2.56 -1.33,0.53 -1.05,0.04 -1.7,1.53 -1.08,0.36 -2.61,0.32 -2.72,0.76 -2.13,1.95 -0.98,2.97 -0.39,2.97 -0.63,2.32 -1.45,2.74 -0.3,0.22 -0.34,0.82 -0.13,1.52 -1.2,2.48 -1.7,1.4 -0.73,2 0.71,1.94 0.47,3.18 1.73,3.06 -0.04,0.52 -0.76,1.4 -0.13,6.36 -1.15,2.45 -0.26,1.06 -0.05,1.92 0,0 -1.28,-0.66 -0.61,-0.82 -0.82,-0.45 -0.99,-0.29 -1.78,0.2 -0.71,-0.18 -1.35,-2 -0.99,-2.86 -2.13,-1.62 -0.14,-1.65 1.64,-1.81 -0.08,-0.53 -3.88,-1.95 -0.62,-1.05 -0.06,-1.66 -0.75,-1.59 -0.94,-0.69 -2.08,-0.28 -0.2,-0.42 0.26,-0.71 2.63,-2.54 -0.37,-1.31 0.73,-2.68 0.69,-1.43 0.57,-0.55 1.34,-0.54 3.39,-0.35 -0.39,-1.35 0.64,-3.25 -0.08,-1.76 -1.8,-1.21 -4.27,0.94 -2.15,1.34 -2.27,-3.02 -0.91,-0.85 -3,-4.15 -0.88,0.07 -0.84,-1.44 0.61,-1.19 -0.11,-0.88 -0.25,-0.34 -1.37,-0.24 -0.42,0.27 -1.93,-1.33 0.18,-0.71 1.76,-0.66 1.75,-2.04 0.25,-1.59 -0.28,-1 0.31,-2.36 1.77,-6.16 0.01,-0.43 -0.68,-1.14 -0.23,-1.08 0.21,-3.72 -0.64,-1.5 -0.47,-3.49 -0.84,-1.03 -3.4,-1.44 -1.22,-0.02 -0.28,-0.32 -0.08,-1.03 -0.59,-0.69 -1.74,-0.29 -0.96,0.52 -1.4,-0.09 -2.78,-1.51 -0.86,-0.06 -1.96,0.53 -2.62,1.85 -0.53,0.64 0,0 -0.49,-0.08 14.71,-11.83 2.35,0.23 1.17,-0.92 1.55,-2.17 0.43,-1.15 1.55,-1.17 0.62,-2.88 1.12,-0.46 2.44,-2.32 0.47,-1.21 0.29,-1.9 1.6,-4.69 1.96,-1.54 1.48,-1.76 0.83,-1.45 0.46,-1.28 -0.18,-1.82 0.79,-0.81 -1.04,-1.58 3.68,-3.09 -0.13,-1.64 0.5,-2.38 1.74,-1.57 0.36,-0.71 0.9,-3.02 0.08,-1.61 -0.43,-0.53 -0.99,0.16 -0.27,-0.49 0.05,-0.62 1.14,-0.15 0.57,-0.74 0.71,-4.39 -0.16,-1.38 0.47,-1.03 0.77,-0.45 0,0 0.63,0 0.24,-0.24 -0.06,-0.54 0.34,-0.749996 0.58,-0.53 1.34,0.98 0.45,1.839996 1.19,0.12 0.77,-1.36 0.61,2.93 0.99,0.04 0.29,-0.49 0.07,-0.94 0.85,-0.04 1.69,0.53 0.5,0.69 -1.43,1.7 0.67,0.7 0.02,0.55 1.21,-2.04 0.49,-1.54 0.45,0 0.4,1.02 0,0.58 -0.87,0.92 -0.27,0.99 0.08,2.71 0.26,0.33 0.47,0.12 0.58,-0.14 0.96,-0.93 -0.47,-1 0.14,-0.6 1.32,-1.43 1.05,-0.25 2.13,0.59 1.5,-1.11 0.05,0.92 -0.36,0.21 -1.13,1.53 0.59,0.58 0.1,-0.37 1.25,-0.6 0.58,0.79 -0.14,1.21 1.63,1.75 0.86,-0.44 1.58,0.67 0.77,2.4 -0.11,0.95 -2.19,2.73 -0.38,0.89 0.1,0.66 0.6,-1.03 1.75,-1.68 0.83,-0.03 0.87,0.81 0.52,1.89 -0.27,1.23 -0.97,0.19 -1.03,0.91 -1.16,1.49 0.07,0.77 -1.16,2.35 -0.62,3.52 0.21,0.34 0.87,0.23 z" 
                              title="Maranh√£o" fill="#fff3e0" stroke="#f57c00" stroke-width="1"/>
                        
                        <!-- Minas Gerais -->
                        <path id="BR-MG" class="estado-path" data-estado="MG" data-nome="Minas Gerais" 
                              d="m 527.76257,365.59114 -0.91,-0.55 -2.54,-0.81 -1.58,0.08 -1.08,0.32 -0.84,0.61 -2.18,0.29 -1.34,-0.13 1.67,2.27 -0.02,0.81 -1.13,-0.11 -1.05,-0.74 -0.31,0.02 -2.17,1.31 -1.17,1.93 0.3,0.7 1.33,0.67 0.52,0.66 -0.03,1.92 -0.3,1.54 0.21,0.41 1.31,0.35 0.17,1.72 -0.32,0.42 -0.95,0.24 -0.97,-0.03 -0.8,-0.35 -1.48,0.09 -0.43,0.55 0.49,0.71 0.76,0.28 0.45,-0.29 0.52,0.09 1.1,1.27 1.27,2.81 0.29,2.43 -0.54,2.97 -1.71,2.09 -1.24,0.86 -0.26,0.44 -0.24,1.72 -0.88,2.29 -1.11,1.27 -0.97,3.24 -0.55,0.32 -5.15,-0.03 -1.72,2.06 -0.16,0.42 0.59,3.12 -0.57,1.3 -0.44,2.34 0.29,0.14 0,0 -2.53,2.35 -1.24,0.27 -0.56,0.5 0.74,0.7 -2.36,6.05 -1.9,3.71 -0.09,0.75 1.44,0.13 0.29,0.61 -0.21,0.52 -2.53,0.98 -9.51,4.53 -1.37,0.2 0.02,-0.46 -0.49,-0.17 -2.53,-0.27 -0.57,0.06 -1.62,0.94 -1.25,0.16 -3.2,0.08 -0.36,-0.32 -0.51,0.08 -4.1,1.78 -1.05,0.77 -1.71,0.77 -0.5,-0.28 -2.59,0.17 -2.91,1.34 -2.42,0.74 -0.68,0.49 0,0 -1.25,0.73 -2.2,0.22 -1.93,1.02 -1.23,1.24 -1.79,0.67 -2.38,0.25 -2.34,-0.08 -0.01,-0.49 0.35,-0.49 -0.09,-0.35 -1.19,0.33 -0.18,2.3 0.24,0.23 -0.05,0.84 -0.75,0.98 -1.3,0.32 -0.57,-0.43 -3.61,1 -0.19,-0.53 -2.01,0.24 -1.12,-0.25 -2.03,-3.31 1.22,-0.71 -0.52,-1.71 -1.8,-0.83 -1.79,-1.23 -0.71,-1.61 0.53,-1.56 0.19,-3.45 -0.26,-2.94 1.86,-2.72 0.7,-2.18 0.05,-1.27 -0.23,-0.37 -3.7,-1.32 -1,0.05 -0.28,0.36 -0.78,0.31 -1.61,0.05 0.03,-0.85 -0.83,-1.99 -1.3,-1.79 -0.37,-2.21 -0.31,-0.62 -0.79,-0.74 0.19,-1.94 1.52,-2.03 0.06,-0.56 -0.4,-1.55 -1.88,-1.21 -0.58,-0.61 0.29,-2.37 0.57,-1.01 -0.2,-1.04 -3.27,-3.35 -1.3,0.29 -0.85,0.64 -1.65,-0.78 -2.38,0.11 -0.31,0.61 0.2,0.46 -0.44,0.99 -2.78,0.68 -1.11,-0.43 -1.51,-1.45 -1.01,1.25 -8.18,0.68 -0.46,0.48 -0.48,1.19 0.27,2.54 -0.41,0.44 -1.19,-0.52 -0.01,-2.78 -0.25,-0.96 -0.36,-0.39 -0.56,-0.05 -0.26,0.19 -0.41,1.13 -0.67,0.94 -0.54,0.32 -0.62,-0.02 -1.21,-2.1 -0.33,-1.42 0.14,-0.91 -1.68,-0.79 -2.18,-1.42 -1.99,0.59 -1.62,-0.22 -1.67,0.35 -4.29,-0.96 -2.55,-0.08 -1.73,-1.55 -0.75,-0.14 -1.5,0.61 -1.43,1.69 -1.92,0.37 -2.15,1.11 -1.22,1.13 0,0 0.31,-2.62 -0.59,-3.21 0.99,-4.18 0.58,-0.25 0,0 0.86,0.46 0.36,-0.23 0.01,-0.34 -0.56,-0.61 0.57,-1.9 1.64,-2.1 0.94,-0.74 0.45,-0.14 0.84,0.16 0.82,-0.28 0.84,-1.3 -0.06,-1 1.21,-2.46 1.41,-2.1 2.23,-0.54 2.48,-0.96 3.71,0.62 3.19,-1.64 1.52,0.3 1.31,1.42 0.33,0 2.91,-2.92 4.13,-2.64 2.01,0.89 3.86,-0.16 1.48,0.28 1.75,-0.01 0.58,-0.09 0.55,-0.48 4.35,1.86 0.7,0.77 4.89,-2.74 0.48,-1.12 0.86,-0.9 1.16,-0.2 3.09,-2.06 -1.19,-3.46 0.51,-1.89 0.73,-0.9 0.17,-0.71 -0.18,-1 -0.47,-0.61 -1.58,-0.57 -0.9,0.47 -1.09,-1.11 0.43,-2.14 3.24,-3.01 2.32,-2.71 0,-0.6 -1.65,-4.56 -1.42,-1.03 -0.85,-0.34 -0.85,-1.21 0.41,-1.47 1.04,-1.25 0.68,-1.59 -0.31,-1.57 0.53,-1.52 1.27,-0.12 2.29,-1.51 3.36,-0.9 0.53,-0.53 -0.69,-4.26 -0.53,-0.19 -0.42,-0.61 -0.04,-1.9 0.73,-0.7 0.57,-0.94 -0.49,-1.16 -0.72,-0.1 0.72,-3.18 0.37,-0.28 1.17,-0.23 2.78,1.14 0.4,-0.13 0.57,-0.54 -0.58,-3.77 1.17,-1.49 2.42,1.48 0.9,1.76 3.23,0.34 1,-1.01 0,0 0.51,2.41 -1.43,3.44 0.4,0.23 1.34,-0.91 0.7,-1 0.72,-0.13 2.13,0.38 1.04,-0.77 1.85,-2.57 0.99,0.15 1.43,-0.53 1.81,-1.55 0.95,-1.17 2.02,-0.41 3.37,-1.86 0.64,-1.11 4.27,-3.03 3.82,-1.58 1.8,0.09 1.2,0.5 2.18,0.03 2.28,0.53 0.85,0.46 -1.29,2.74 -0.15,0.89 0.26,1.49 0.61,0.5 5.33,1.46 0.64,-0.17 0.81,-1.12 1.88,-0.89 1.77,-0.26 2.73,0.75 1.1,0.54 4.35,3.64 0.98,-0.18 2.17,1.62 2.53,1.22 0.93,0.22 0.51,-0.21 1.53,1.24 4.39,-1.23 0.38,0.18 6.52,6.2 0.44,3.96 0.57,-0.21 2.61,0.45 1.47,-0.5 1.32,-0.99 1.99,0.15 2.73,0.56 2.26,1.08 2.19,0.61 2.12,-0.03 2.83,2.47 0.73,0.38 0.89,0.07 0.78,1.02 0.42,1.17 -1.47,3.08 -4.96,4.22 -0.15,2.65 0.56,1.02 0,0.42 -1.02,0.71 -2.48,-0.24 -0.82,0.88 -0.82,3.3 -0.53,4.4 0.22,0.25 0.35,-0.19 0.2,-0.45 0.64,-0.24 0.58,1.23 -0.22,1.51 0.15,0.51 4.14,3.06 0.53,1.04 0.01,0.53 -0.68,1.35 z" 
                              title="Minas Gerais" fill="#fce4ec" stroke="#c2185b" stroke-width="1"/>
                        
                        <!-- Siglas dos estados -->
                        <!-- Siglas dos Estados - Melhor Posicionamento e Tamanho -->

                        
                        <!-- Paran√° -->
                        <path id="BR-PR" class="estado-path" data-estado="PR" data-nome="Paran√°" 
                              d="m 397.01257,499.66114 -5.24,-0.03 -0.33,0.44 -1.74,0.24 -0.76,-0.07 -0.11,-0.39 -1.57,0.57 -1.35,1.43 -3.35,2.13 -1.44,-0.16 -1.23,-0.62 -3.13,-2.6 -1.03,-0.39 -0.76,-0.01 -2.84,0.73 -2.33,0.17 -0.81,-0.03 -1.42,-0.76 -1.11,0.14 -1.53,0.65 -0.59,1.47 -0.73,0.87 -1.87,0.98 -3.57,-0.41 -2,1.15 -0.72,0.77 -0.69,1.59 0.85,2.99 -0.87,0.86 -0.92,0.02 -0.75,0.38 -0.17,0.49 -1.33,-1.89 -4.25,0.13 -3.76,-0.43 -1.58,-1.18 -0.16,-0.41 -1.03,-0.63 -4.26,-0.36 -5.29,-1.68 -2.34,0.57 -2.69,-0.03 -2.02,-1.41 -0.32,-0.51 -1.06,-0.24 -0.53,-0.01 -0.71,0.37 -3.63,-0.02 0,0 -0.22,-1.21 -2.53,-4.18 0.02,-2.59 -0.99,-2.88 -3.42,-2.37 -1.09,1.13 -2.12,-0.11 -1.1,0.43 -1.07,0.9 -1.46,-1.08 -0.82,0.06 -0.28,-2.2 0.66,-1.57 1.07,-1.27 1.22,-2.18 0.06,-0.34 -0.49,-0.75 0.02,-1.24 0.9,-3.64 1.26,-3.02 -0.25,-2.3 1.28,-2.38 -0.21,-1.02 -0.84,-0.88 -0.31,-1.6 0.66,-1.06 0.79,-0.54 0,0 2.38,-1.56 0.36,-0.82 1.57,-7.92 0.33,-0.35 1.11,-0.32 1.66,-1.01 0.67,-0.68 1.45,-3.56 -0.02,-1.15 0.93,-2.33 1.11,-0.82 5.41,-2.27 0,0 3.26,-2.29 3.83,0.65 4.01,-0.11 3.27,0.29 1.21,-0.62 0.35,-0.6 0.73,-0.37 1.17,0.29 1.48,0.78 2.52,0.46 2.64,1.09 1.31,0.13 1.07,-0.54 2.58,-0.01 0.78,1 1.75,0.84 3.51,0.8 0.63,0.51 0.71,1.32 1.73,0.07 0.42,-0.34 1.65,0.15 0.66,0.54 5.31,0.13 2.97,-0.85 1.13,1.55 3.59,2.83 0.89,1.76 0.01,2.74 -0.39,0.58 -0.16,0.81 0.38,1.84 1.3,1.51 -0.08,1.76 -0.36,0.56 1.49,3 1.21,1.15 0.67,0.28 0.5,0.68 -0.05,0.89 0.92,1.97 0.6,0.29 0.25,0.44 -0.25,1.05 -1.27,2.13 0.32,2.04 0.6,0.38 1.01,0.21 2.38,-0.12 3.42,-0.53 0.5,0.39 1.58,-0.19 1.59,0.13 1.61,1.26 -0.14,0.41 -0.89,0.65 -0.69,3.3 0.35,0.78 1.07,0.53 0.65,-0.85 1.1,-2.76 0.76,-0.17 2.14,0.58 -0.4,1.95 0.73,3.3 1.42,0.58 0.16,1.32 0,0 -1.35,1.02 -0.61,1.48 -0.55,-0.12 0.27,-1.94 1.44,-0.95 -1.41,0.28 -0.89,0.49 -0.87,-0.02 -0.34,-0.39 -0.57,-0.17 -0.54,0.37 -0.28,0.93 0.52,0.8 -0.73,0.96 -0.3,0.1 -2.48,-0.53 -0.79,-0.54 -0.45,0.12 -0.18,0.9 0.34,0.37 1.61,0.56 1.4,-0.25 2.13,0.6 0.27,0.48 -0.97,0.68 -1.54,2.78 -1.24,0.77 -2.42,0.57 -0.2,0.45 2.95,-0.2 0.15,1.19 z" 
                              title="Paran√°" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1"/>
                        
                        <!-- Santa Catarina -->
                        <path id="BR-SC" class="estado-path" data-estado="SC" data-nome="Santa Catarina" 
                              d="m 379.56257,558.27114 -0.45,0.03 -1.17,-0.85 -0.73,-0.92 -1.59,-0.63 -1.48,0.82 -0.01,0.96 0.28,0.97 -0.27,0.2 -1.8,-1.17 0.04,-1.41 1.28,-1.69 1.18,-0.2 0.53,-1.31 0.37,-1.55 -0.22,-2.19 0.73,-1.86 1.27,-0.42 2.08,-1.58 -0.88,-2.34 -3.35,-0.34 -2.11,0.4 -6.69,-1.06 -1.16,-0.54 -2.17,-2.66 -0.49,-1.48 -1.63,-2.21 -3.03,-3.49 -1.57,-0.99 -0.71,0.03 -1.37,-1.55 -5.56,-3.54 -1.81,0.34 -0.09,0.48 -1.6,-0.19 -1,-2.44 -2.47,-1.39 -2.27,-0.93 -2.79,0.16 -1.54,-0.18 -2.59,0.41 -1.91,-1.15 -2.57,0.36 -1.63,-0.98 -3.08,0.03 0.15,-0.93 -1.35,-0.58 -0.56,0.81 -3.26,1.16 -3.52,-0.39 0,0 1.45,-2.93 0.73,-2.09 -0.58,-3.25 0.41,-3.21 -0.04,-2.55 0.96,-1.75 0,0 3.63,0.02 0.71,-0.38 0.53,0.01 1.06,0.24 0.31,0.51 2.03,1.41 2.68,0.03 2.34,-0.58 5.29,1.68 4.26,0.36 1.02,0.63 0.17,0.41 1.57,1.18 3.77,0.42 4.25,-0.13 1.33,1.9 0.18,-0.5 0.74,-0.38 0.92,-0.02 0.87,-0.86 -0.85,-2.99 0.69,-1.58 0.72,-0.78 2,-1.14 3.57,0.4 1.87,-0.97 0.73,-0.87 0.59,-1.48 1.53,-0.65 1.11,-0.14 1.42,0.76 0.81,0.03 2.33,-0.17 2.84,-0.73 0.75,0.01 1.04,0.4 3.12,2.6 1.23,0.62 1.44,0.16 3.35,-2.13 1.35,-1.43 1.56,-0.57 0.12,0.39 0.76,0.07 1.74,-0.23 0.33,-0.44 5.24,0.03 0,0 -0.39,1.32 0.51,1.65 -0.07,0.39 -1.5,1.14 -0.98,-0.48 -0.82,-2.53 -0.02,1.12 0.59,2.72 1.71,1.66 0.56,0.95 -1.01,2.29 -0.16,2.32 0.1,0.43 0.76,0.73 0.26,5.86 0.31,0.55 0.43,0.2 0.77,-0.51 0.35,0.72 0.1,0.87 -0.47,0.06 -0.43,-0.28 -1.19,0.63 -0.34,3.84 0.57,2.59 -0.57,0.75 0.31,1.93 0.91,1.88 -0.86,2.34 -0.52,4.01 -1.71,4.68 -0.34,-0.1 -0.36,-0.76 0.21,-0.97 -0.92,-1.18 -0.26,0.33 0.18,2.43 1.16,0.83 -0.92,1.66 -1.64,0.65 -4.13,3.04 -2.8,2.56 -3.75,4.44 -1.04,1.88 z" 
                              title="Santa Catarina" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1"/>
                        
                        <!-- Rio Grande do Sul -->
                        <path id="BR-RS" class="estado-path" data-estado="RS" data-nome="Rio Grande do Sul" 
                              d="m 322.25257,638.78114 -0.36,0.01 -1.94,-1.11 -0.2,-0.46 0.52,-4.27 -0.46,-4.25 0.15,-1.07 0.63,-1.24 2.84,-2.38 0.83,-1.56 2.3,-2.56 -1.46,-1.65 -1.07,-0.62 -2.25,-0.6 -2.32,-2.25 -1.21,-1.62 -0.1,-1.59 -0.43,-1.18 -1.23,-2.03 -2.06,-2.24 -0.67,-0.59 -2.39,-1.21 -1.45,0.21 -1.9,-1.51 -1.52,-1.63 -1.25,-0.78 -0.14,-1.7 -1.9,-2.16 -3.32,-0.46 -0.92,-0.47 -1.73,-1.66 -1.76,0.13 -2.17,-1.38 -1.91,-3.71 -1.11,-1.49 -2.53,-2.12 -0.7,0.08 -0.67,1.79 -2.59,2.24 -2.67,0.12 0.1,-2.86 0.4,-1.28 -0.39,-1 -3.65,-4.29 -2.37,-1.77 -2.18,-2.06 -1.75,-2.11 -2.69,-2.21 -1.9,-0.14 -2.15,0.21 -1.14,1.36 -0.06,0.96 -1.03,0.97 -1.11,0.02 -0.58,-0.48 -3.16,0.14 -0.65,-0.48 -0.16,-0.91 -0.49,-0.22 0.85,-0.22 1.04,-0.72 2.52,-2.77 0.11,-1.84 0.6,-1.25 0.82,-0.45 1.29,-0.07 0.64,-0.26 0.92,-1 5.45,-6.48 0.63,-1.42 0.17,-1.11 0.82,-1.07 1.2,-0.85 1.37,-0.41 1.96,-4.22 0.1,-0.61 0.31,-0.37 1.64,-0.86 1.63,-1.8 0.85,-1.15 0.51,-1.29 1.34,-2.1 0.93,-0.29 1.57,0.18 0.55,0.79 0.47,-1.28 -0.21,-0.58 -1.35,-0.82 -0.05,-0.36 0.35,-0.33 1.08,-0.38 0.82,-0.96 2.79,-0.95 1.05,-1.07 0.1,-0.92 0.82,-0.91 2.21,-1.15 2.47,-0.4 1.77,-1.81 0.15,-1.06 1.32,-2.36 0.33,-0.04 0.05,0.36 0.29,0.2 1.33,-0.17 2.44,-1.13 2.68,-0.59 1.21,-0.57 2.1,-2.35 0.5,0.01 0.67,-0.39 1.01,-1.35 2.31,-0.73 0.3,0.38 0,0 3.52,0.39 3.26,-1.15 0.56,-0.81 1.35,0.58 -0.15,0.92 3.08,-0.03 1.63,0.99 2.56,-0.37 1.92,1.15 2.58,-0.41 1.54,0.18 2.8,-0.16 2.26,0.92 2.48,1.4 1,2.44 1.59,0.19 0.09,-0.48 1.81,-0.35 5.56,3.54 1.37,1.55 0.71,-0.03 1.56,0.98 3.03,3.49 1.64,2.21 0.48,1.48 2.17,2.66 1.17,0.55 6.69,1.06 2.11,-0.4 3.35,0.34 0.88,2.34 -2.08,1.58 -1.27,0.41 -0.73,1.86 0.22,2.19 -0.38,1.56 -0.52,1.3 -1.18,0.2 -1.29,1.69 -0.03,1.41 1.8,1.17 0.27,-0.2 -0.28,-0.97 0.01,-0.96 1.49,-0.82 1.58,0.64 0.73,0.91 1.17,0.85 0.45,-0.03 0,0 -1.4,1.73 -3.9,7.04 -4.21,11.6 -6.3,10.48 -5.44,6.66 -6.51,5.96 -6.09,3.68 -3.1,4.31 -0.18,-0.43 0.65,-1.58 0.34,-2.18 -1.18,-1.71 0.1,-0.42 0.93,-0.17 1.01,0.4 0.56,0.58 1.02,0.04 2.58,-1.41 0.82,-0.68 2.85,-3.71 0.75,-0.69 0.45,0.19 1.02,-0.19 1.05,-0.84 0.93,-1.27 0.37,-1.48 0.18,-0.93 -0.23,-2.1 0.2,-1.37 1.57,-0.07 0.74,0.3 0.27,0.83 0.35,-0.26 -0.29,-1.4 0.51,-2.07 0.48,-0.57 2.74,-1.59 0.73,-1.08 0.47,-2.75 -0.21,-2.28 0.56,-0.68 0.5,0.8 0.37,0.03 0.43,-0.42 0.47,-3.08 -0.1,-0.44 -0.95,-1.22 -0.67,-0.03 -0.26,0.69 0.17,0.39 -0.14,0.57 -0.35,0.2 -1.51,-0.02 -2.01,0.4 -0.34,1.61 -0.53,0.05 -0.81,-0.44 0.1,-1.71 -0.82,-0.89 -1.04,0.33 -0.6,-0.48 -0.73,-1.26 -0.4,-1.45 0.12,-0.57 -0.64,-0.69 -0.61,2.71 0.44,2.25 1.25,2.11 -0.57,0.81 -0.74,2.54 0.38,3.03 -0.18,0.77 -0.48,-0.37 0.26,-0.24 -0.03,-0.71 -0.47,-1.28 -0.45,-0.39 -0.53,0.66 -0.03,1.37 -1.41,3.27 -0.05,1.89 0.22,0.52 -0.72,0.7 -1.61,0.64 -0.61,1.58 -4.09,1.57 -0.72,0.53 -0.53,1.59 -0.1,2.27 -0.97,2.27 -2.36,1.3 -0.11,1.76 0.48,0.83 0.25,1.02 -0.95,0.56 -0.25,1.51 0.43,0.6 0.68,-0.14 1.3,0.63 0.15,0.91 -2.13,1.65 -2.32,4.52 -1.93,6.88 -2.01,4.49 -1.68,2.52 -7.79,7.53 z" 
                              title="Rio Grande do Sul" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1"/>
                        
                        <!-- S√£o Paulo -->
                        <path id="BR-SP" class="estado-path" data-estado="SP" data-nome="S√£o Paulo" 
                              d="m 404.84257,488.18114 -0.16,-1.33 -1.42,-0.57 -0.73,-3.3 0.4,-1.95 -2.14,-0.58 -0.76,0.17 -1.1,2.77 -0.66,0.85 -1.06,-0.53 -0.35,-0.78 0.69,-3.3 0.89,-0.66 0.14,-0.4 -1.61,-1.27 -1.59,-0.13 -1.58,0.19 -0.5,-0.38 -3.41,0.53 -2.38,0.12 -1.01,-0.21 -0.6,-0.39 -0.33,-2.04 1.28,-2.12 0.25,-1.05 -0.25,-0.44 -0.6,-0.3 -0.92,-1.97 0.06,-0.89 -0.5,-0.68 -0.67,-0.29 -1.21,-1.14 -1.49,-3.01 0.36,-0.55 0.08,-1.76 -1.3,-1.52 -0.38,-1.84 0.17,-0.81 0.39,-0.58 -0.02,-2.74 -0.89,-1.76 -3.59,-2.83 -1.13,-1.55 -2.97,0.86 -5.31,-0.13 -0.66,-0.54 -1.65,-0.14 -0.42,0.34 -1.72,-0.07 -0.72,-1.32 -0.63,-0.51 -3.51,-0.8 -1.75,-0.84 -0.78,-1 -2.58,0.01 -1.07,0.54 -1.32,-0.13 -2.64,-1.09 -2.53,-0.46 -1.48,-0.79 -1.17,-0.29 -0.73,0.37 -0.34,0.6 -1.21,0.62 -3.28,-0.29 -4.01,0.11 -3.83,-0.65 -3.25,2.29 0,0 0.84,-1.08 0.73,-1.54 1.26,-1.14 7.56,-4.54 1.95,-1.87 1.26,-2.43 1.73,-1.69 0.4,-1.21 1.44,-1.03 0.28,-1.22 -0.35,-0.84 2,-2.26 1.21,-2.34 0.07,-0.94 -0.31,-1.93 0.23,-0.39 0.96,-0.52 2.6,-3.64 0.16,-2.93 0.62,-1.68 1.01,-0.3 0.73,-0.64 1.99,-2.68 1.22,-1.02 0.47,-0.23 1.31,-0.04 1.5,-0.78 0.28,-0.4 0.4,-2.46 0,0 1.22,-1.13 2.15,-1.11 1.92,-0.37 1.43,-1.69 1.5,-0.61 0.75,0.14 1.73,1.55 2.55,0.08 4.29,0.96 1.67,-0.36 1.62,0.22 2,-0.59 2.18,1.42 1.67,0.79 -0.13,0.92 0.33,1.42 1.21,2.09 0.63,0.03 0.54,-0.32 0.67,-0.94 0.41,-1.13 0.26,-0.19 0.55,0.05 0.36,0.39 0.25,0.96 0.01,2.78 1.2,0.53 0.41,-0.45 -0.27,-2.54 0.49,-1.19 0.45,-0.48 8.18,-0.67 1.01,-1.25 1.5,1.46 1.12,0.43 2.78,-0.69 0.44,-0.99 -0.2,-0.46 0.31,-0.61 2.38,-0.11 1.66,0.78 0.85,-0.64 1.31,-0.29 3.26,3.35 0.2,1.04 -0.57,1.01 -0.29,2.37 0.58,0.61 1.89,1.21 0.4,1.55 -0.06,0.56 -1.52,2.03 -0.18,1.94 0.79,0.74 0.31,0.61 0.37,2.21 1.3,1.8 0.83,1.99 -0.03,0.85 1.61,-0.05 0.78,-0.31 0.28,-0.36 1,-0.05 3.7,1.32 0.23,0.37 -0.05,1.27 -0.7,2.18 -1.86,2.72 0.26,2.94 -0.19,3.45 -0.53,1.56 0.72,1.6 1.78,1.24 1.81,0.83 0.51,1.72 -1.21,0.7 2.02,3.31 1.13,0.25 2.01,-0.24 0.18,0.53 3.62,-1 0.56,0.42 1.31,-0.32 0.75,-0.98 0.05,-0.84 -0.24,-0.24 0.17,-2.3 1.19,-0.33 0.09,0.35 -0.35,0.49 0.01,0.48 2.34,0.08 2.39,-0.25 1.79,-0.67 1.23,-1.24 1.93,-1.02 2.21,-0.22 1.24,-0.73 0,0 1.27,0.54 0.56,1.17 1.23,1.59 1.77,0.39 3.15,-0.53 1.7,0.01 0.75,1.64 -1.65,2.15 -1.5,0.71 -2.77,0.36 -0.5,-0.15 -2.35,1.01 -1.09,1.15 -1.09,3.5 0.05,0.41 1.63,1.73 0.48,0.26 0,0 -0.06,0.2 -1.69,0.42 -1.06,-0.82 -1.48,1.11 -0.43,0.65 0.27,0.22 -0.76,0.64 -3.22,1.55 -2.25,0.7 -0.28,0.44 0.04,0.96 0.5,1.55 -0.32,0.42 -1.4,0.26 -0.7,-0.64 -1.34,-0.29 -3.12,-0.5 -0.86,0.15 -1.32,0.34 -1.73,0.82 -0.5,0.51 -1.21,2.15 -1.31,0.57 -0.5,-0.12 0.58,-0.47 -0.48,-1.22 -1.17,-0.85 -0.83,1.23 0.26,0.75 -0.3,0.61 -7.62,4.24 -0.95,0.82 -0.31,1.16 -3.27,3 -3.25,1.95 -1.92,0.53 -4.5,3.21 -2.33,1.96 -0.67,0.08 -0.44,0.62 0.9,0.43 0.66,0.06 0.93,-0.36 0,0.76 -0.62,1.31 -1.32,0.85 -1.06,1.48 z" 
                              title="S√£o Paulo" fill="#fce4ec" stroke="#c2185b" stroke-width="1"/>
                        
                        <!-- Rio de Janeiro -->
                        <path id="BR-RJ" class="estado-path" data-estado="RJ" data-nome="Rio de Janeiro" 
                              d="m 468.61257,450.54114 -0.07,-0.78 0.38,-0.27 3.19,0.22 2.59,-0.59 -2.53,-1.55 -1.4,-0.5 -2.81,0.68 -1.36,1.6 -1.03,0.32 -0.7,-0.05 -1.35,-2.15 -0.48,0 -0.9,0.42 -0.96,1.06 -3.15,0.8 -0.34,0.91 -0.19,1.9 2.19,0.13 1.07,1.01 -1.15,1.08 -0.94,-0.17 -1.42,0.17 0,0 -0.48,-0.26 -1.63,-1.73 -0.05,-0.41 1.09,-3.5 1.09,-1.15 2.35,-1.01 0.5,0.15 2.77,-0.36 1.5,-0.71 1.65,-2.15 -0.75,-1.64 -1.7,-0.01 -3.15,0.53 -1.77,-0.39 -1.23,-1.59 -0.56,-1.17 -1.27,-0.54 0,0 0.68,-0.49 2.42,-0.74 2.91,-1.34 2.58,-0.17 0.5,0.27 1.72,-0.77 1.05,-0.77 4.09,-1.79 0.52,-0.07 0.36,0.31 3.2,-0.07 1.25,-0.17 1.63,-0.94 0.57,-0.06 2.53,0.27 0.49,0.17 -0.02,0.47 1.38,-0.2 9.51,-4.53 2.53,-0.99 0.21,-0.52 -0.28,-0.61 -1.44,-0.13 0.09,-0.75 1.89,-3.71 2.36,-6.04 -0.73,-0.71 0.56,-0.49 1.24,-0.27 2.53,-2.36 0,0 1.93,0.76 0.67,4.71 2.5,1.13 4.33,1.01 2.99,-0.37 1.62,1.06 0,0 -0.08,1.27 -0.94,1.61 -0.22,2.13 1.14,6.78 -0.5,0.68 -3.08,1.75 -5.97,1.94 -2.83,1.72 -3.5,3.69 -0.11,1.66 0.31,1.19 -0.19,1.62 -0.73,1.48 -1.82,0.51 -6.55,-0.17 -5.79,0.7 -2.39,-0.46 -0.49,-0.38 -0.06,-0.68 1.03,-1.48 0.67,-1.45 -0.09,-0.62 -0.78,-0.18 -2.79,1.15 -0.26,0.69 0.31,0.79 1.38,1.17 0.25,0.97 -0.59,0.52 -1.63,0.51 -1.57,-0.03 -8.04,1.07 -1.46,0.45 z" 
                              title="Rio de Janeiro" fill="#fce4ec" stroke="#c2185b" stroke-width="1"/>
                        

                        
                        <!-- Estados Restantes - Completando os 27 -->
                        
                        <!-- Mato Grosso -->
                        <path id="BR-MT" class="estado-path" data-estado="MT" data-nome="Mato Grosso" 
                              d="m 207.22257,296.31114 1.47,-1.43 4.11,-2.57 0.52,-2.45 1.43,-3.78 0.93,-1.08 1.64,-0.53 0.43,-0.41 0.58,-0.84 0.52,-2.25 1.66,-2.01 0.56,-2.24 0.07,-1.71 -0.58,-1.49 0.04,-2.05 -1.53,-3.34 -0.9,0.03 -0.58,-0.51 -0.43,-3.25 0.14,-1.32 1.36,-1.08 1.4,-1.75 0.17,-0.75 -1.41,-3.59 -1.07,-0.43 -1.11,-0.11 -3.5,0.09 -1.22,-1.11 0.24,-0.56 -17.16,-0.05 0.9,-9 -1.5,-2.75 -0.27,-1.76 0.03,-0.8 1,-3.52 -0.38,-1.93 0.94,-1.67 -0.83,-2.27 -0.15,-1.39 -0.26,-0.61 -0.78,-0.47 -0.06,-0.35 1.29,-4.99 0.76,-1.42 -0.6,-1.24 -1.4,-0.97 0,0 47.85,-0.32 1.21,-0.73 1.18,-5.22 1.38,-4.22 -0.46,-1.94 -0.66,-1.37 -0.1,-0.85 0.42,-0.85 0.86,-0.64 1.2,-1.82 0.27,-1.01 -0.34,-0.84 0.06,-0.76 0.2,-0.61 1.18,-1.2 0,0 1.17,1.08 2.45,4.06 0.4,1.76 1.37,3.96 1.32,1.93 0.77,1.62 -0.23,2.44 0.48,2.4 0.73,2.2 1.53,1.11 3,2.75 3.38,1.7 0.23,0.94 -0.04,1.1 0.23,0.49 0.95,0.4 0.82,-0.17 1.63,0.45 0.54,0.72 0.2,1.08 0.35,0.32 1.37,-0.45 3.69,1.49 34.04,2.42 62.97,3.48 0,0 -0.65,1.02 -0.56,1.89 -1.1,1.25 -0.44,3.14 -0.43,0.85 -0.37,0.27 -1.94,5.29 -0.54,2.97 -0.04,2.95 -1.88,5.99 0.06,0.86 1.39,1.34 -0.16,0.87 -0.82,0.89 -0.05,0.5 1.1,2.25 -0.47,3.31 0.01,1.57 0.52,0.58 0.44,3.05 -0.74,2.76 0.98,3.34 0.96,0.51 0.8,0.02 0,0 0.08,0.63 -0.27,1.13 -0.97,0.86 -0.35,0.9 0.16,2.72 -0.39,1.07 -2,3.17 -1.03,2.63 -1.21,0.78 0.12,5.18 -1.6,3.09 -0.58,2.74 0.48,1.14 0.01,0.8 -1.17,2.87 -0.84,2.93 -1.39,1.43 -1.21,0.73 -1.23,-0.68 -1.07,0.26 -1.65,1.01 -1.92,1.94 -0.38,0.74 -0.64,4.1 -0.71,0.96 -1.98,4.19 -0.32,0.28 -2.72,0.86 -2.65,0.13 -1.4,2.62 -1.75,0.97 -0.08,1.54 -0.82,1.43 -1.28,1.04 -0.5,1.01 -0.33,1.95 -1.25,2.02 -1.92,1.77 -2.02,0.84 -0.7,0.77 -0.38,2.91 -2.55,3.85 -0.4,3.41 0.16,0.71 1.41,2.19 0.18,3.43 0.95,2.2 0,0 -1.55,0.31 -1.17,-0.57 -0.87,-0.08 -2.66,0.08 -0.57,0.57 -4.62,-0.27 -1.74,-1.27 -1.3,-0.11 -0.15,-0.53 0.19,-0.46 1.66,-2.83 1.8,-0.7 1.23,-6.61 -1.34,0.13 -5.62,6.01 -1.01,-0.06 -2.13,0.88 -0.99,-0.04 -0.24,-0.25 -0.3,-1.37 -1.59,-1.04 -2.44,-0.07 -1.43,0.61 -0.49,0.85 -1.26,0.8 -4.52,0.63 -1.24,-0.57 -1.26,-1.11 -3.03,-1.16 -0.78,-1.02 -0.27,-0.86 -0.65,-0.35 -2.62,-0.47 -2.79,-1.25 -0.76,-1.15 -1.27,-0.2 -2.02,0.49 -1.35,1.25 -1.66,0.51 -0.77,-0.34 -1.56,0.22 -2.59,-0.03 -1.4,1.45 -0.09,1.17 -2.02,2.95 -2.05,2 -5.62,1.97 -2.15,-1.52 -1.02,-1.1 -0.7,-0.2 0,0 -0.66,-0.67 -0.32,-0.8 0.54,-0.71 -2.44,-2.15 -1.28,0.63 -0.52,-0.05 -1.17,-0.68 -0.45,-0.7 -2.02,-1.41 -1.89,-0.76 -0.3,-0.32 -0.3,-1.12 -0.23,-2.93 -0.61,-1.77 -0.19,-3.66 0.88,-1.64 1.14,-1.09 0.34,-1.78 -0.05,-1.89 -0.96,0.06 -0.4,0.6 -0.38,0.16 -26.86,-1.08 -1.05,-12.65 -5.37,-6.13 4.88,-0.06 -0.35,-7.55 -2.64,-5.32 -0.49,-1.97 0.26,-1.06 0.61,-0.55 0.65,-1.28 -1.44,-2.93 -3.11,-1.04 z" 
                              title="Mato Grosso" fill="#e8f5e9" stroke="#388e3c" stroke-width="1"/>
                        
                        <!-- Mato Grosso do Sul -->
                        <path id="BR-MS" class="estado-path" data-estado="MS" data-nome="Mato Grosso do Sul" 
                              d="m 359.21257,400.07114 -0.4,2.46 -0.28,0.4 -1.5,0.78 -1.32,0.04 -0.47,0.22 -1.22,1.03 -1.99,2.68 -0.73,0.65 -1.01,0.3 -0.62,1.68 -0.16,2.93 -2.59,3.64 -0.96,0.52 -0.23,0.38 0.31,1.93 -0.08,0.95 -1.21,2.34 -2,2.26 0.35,0.85 -0.28,1.21 -1.44,1.03 -0.4,1.21 -1.73,1.69 -1.26,2.44 -1.95,1.87 -7.56,4.53 -1.26,1.14 -0.74,1.54 -0.84,1.08 0,0 -5.41,2.27 -1.11,0.82 -0.93,2.33 0.02,1.15 -1.45,3.56 -0.67,0.68 -1.66,1.01 -1.11,0.32 -0.33,0.35 -1.57,7.92 -0.36,0.82 -2.38,1.56 0,0 -2.55,-2.33 -3.41,-1.89 -3.99,1.97 -0.68,0.75 -1.66,0.49 -2.58,0.43 -2.36,-0.46 -1.01,-0.65 -0.47,-4.27 -0.32,-0.7 -0.9,-0.95 -0.23,-2.47 0.51,-1.34 -0.64,-0.79 -0.09,-0.44 0,-2.87 -0.89,-1.97 -0.6,-2.74 -0.05,-0.72 0.59,-1.36 0.02,-1.61 -1.57,-1.09 -0.38,-0.8 -0.16,-2.16 -1.65,-1.82 -2.17,-0.26 -1.51,0.31 -1.83,-0.29 -2.46,-1.96 -0.56,-1.49 -1.54,0.33 -2.17,2.74 -1,-0.6 -1.72,0.81 -1.08,0.16 -1.74,-0.69 -2.56,-0.49 -3.46,0.23 -3.66,-0.71 -0.48,-0.91 -1.99,-0.13 -0.89,0.52 -2.5,-0.88 0.91,-7.27 -0.43,-2.38 0.6,-1.42 0.98,-1.46 0.6,-6.03 -0.66,-2.33 -0.05,-1.73 -0.76,-0.96 -0.43,-0.09 -0.49,0.65 -0.64,-3.26 -0.79,-1.87 -1.21,-2.02 -0.35,-1.83 4.03,-2.3 0.76,-0.88 -4.2,-3.86 5.38,-11.42 1.12,-0.06 -0.28,-2.13 -0.74,-0.13 3.23,-10.33 0.66,-1.16 -3.09,-5.85 0.03,-1.91 0,0 0.7,0.2 1.02,1.1 2.15,1.52 5.62,-1.97 2.05,-2 2.02,-2.95 0.09,-1.17 1.4,-1.45 2.59,0.03 1.56,-0.22 0.77,0.34 1.66,-0.51 1.35,-1.25 2.02,-0.49 1.27,0.2 0.76,1.15 2.79,1.25 2.62,0.47 0.65,0.35 0.27,0.86 0.78,1.02 3.03,1.16 1.26,1.11 1.24,0.57 4.52,-0.63 1.26,-0.8 0.49,-0.85 1.43,-0.61 2.44,0.07 1.59,1.04 0.3,1.37 0.24,0.25 0.99,0.04 2.13,-0.88 1.01,0.06 5.62,-6.01 1.34,-0.13 -1.23,6.61 -1.8,0.7 -1.66,2.83 -0.19,0.46 0.15,0.53 1.3,0.11 1.74,1.27 4.62,0.27 0.57,-0.57 2.66,-0.08 0.87,0.08 1.17,0.57 1.55,-0.31 0,0 0.19,1.77 -0.26,2.58 0.23,1.11 0.28,0.41 0.66,0.19 1.14,-0.67 2.25,0.9 0.08,0.42 -1.31,1.76 -0.57,1.17 -0.26,0.84 0.13,0.33 3.8,0.7 2.78,-0.16 2.7,1.68 1.14,0.17 1.44,0.71 0.67,0.61 3.07,1.56 0.68,0.85 3.35,1.34 1.49,0.04 1.9,0.43 1.62,1.55 3.15,0.61 2.66,2.24 0.24,0.45 0,0 -0.58,0.25 -0.99,4.18 0.59,3.21 z" 
                              title="Mato Grosso do Sul" fill="#e8f5e9" stroke="#388e3c" stroke-width="1"/>
                        
                        <!-- Par√° -->
                        <path id="BR-PA" class="estado-path" data-estado="PA" data-nome="Par√°" 
                              d="m 371.29257,235.50114 -62.97,-3.48 -34.04,-2.42 -3.69,-1.49 -1.37,0.45 -0.35,-0.31 -0.2,-1.09 -0.55,-0.72 -1.63,-0.45 -0.82,0.17 -0.95,-0.39 -0.23,-0.5 0.04,-1.1 -0.23,-0.94 -3.38,-1.7 -3,-2.76 -1.54,-1.11 -0.72,-2.2 -0.48,-2.39 0.23,-2.44 -0.77,-1.63 -1.33,-1.93 -1.37,-3.95 -0.39,-1.76 -2.45,-4.06 -1.18,-1.08 0,0 -0.57,-0.56 -0.15,-1.96 -0.64,-1.26 -1.59,-1.56 -1.07,-0.58 -0.37,-0.57 -0.83,-2.34 0.03,-1.13 0.58,-0.97 1.45,-1.13 0.78,-1.31 29.9,-64.24 -1.81,-1.67 0.13,-0.78 -0.19,-0.48 -1.39,0.35 -0.85,0.61 -1.87,-0.78 -1.1,-2.17 -2.69,-1.45 -1.27,-1.34 -0.08,-0.6 -1.32,-0.82 -1.37,-0.15 -2.25,-0.65 -2.38,-1.31 -1.88,-0.67 -1.35,-1.09 -0.63,-0.9 -4.58,-2.54 -4.64,-3.769996 -0.3,-0.44 -0.04,-0.93 -0.55,-1.83 -1.84,-1.23 -0.7,0.19 -0.36,-0.2 -1.83,-1.98 0.05,-2.11 0.35,-0.69 -0.18,-0.41 -1.69,-0.85 -0.24,-0.68 -0.18,-2.27 0.43,-1.45 -0.4,-4.86 0,0 -1.59,-16.97 0,0 0.75,0.32 0.43,0.58 -0.02,0.48 0.45,0.4 0.92,0.28 1.37,-0.71 0.47,-0.81 2.71,0.23 0.81,-1.05 -0.54,-1.81 1.79,-0.36 1.41,-1.63 2.64,1.01 1.88,0.03 0.54,-1.52 3.33,-1.62 1.97,0.39 1.16,-0.11 0.49,-0.25 1.2,-1.48 0.4,-1.4 1.46,-1.1 0.86,-0.11 0.65,0.46 2.11,-1.13 0.41,0.11 0.37,0.99 0.73,0.45 2.03,0.48 1.61,0.25 0.56,-0.6 1.67,-0.39 0.78,0.28 0.82,-0.01 0.86,-0.34 2.24,0.3 4.67,1.38 0.96,-0.14 1,-0.87 -0.03,-2.28 -2.07,-2.5 -1.24,-0.63 0.49,-1.68 1.31,-1.45 0.28,-1.11 0.31,-0.17 0.71,0.19 0.83,0.76 2.35,1.11 11.62,-2.33 1.57,1.69 1.02,0.06 0.44,-0.29 0,0 0.62,0.57 0.37,2.3 -0.62,1.3 -0.25,4.54 0.24,1.44 0.31,0.54 1.17,0.02 1.08,-0.29 3.39,0.37 1.29,0.49 1.93,1.05 0.67,0.8 0.49,1.28 1.19,0.12 1.14,0.84 0.8,0.98 0.84,0.27 1.33,-0.14 0.38,-0.42 0.94,-0.14 2.84,2.66 0.68,-0.03 0.49,1.18 -0.68,0.23 -0.19,0.72 0.76,2.83 2.02,2.26 2.57,0.73 0.17,0.33 -0.43,3.14 0.19,2.11 0.67,1.51 0.62,0.56 0.59,1.81 -0.13,1.58 1.5,3.48 0.82,0.19 0.78,-0.36 2.93,3.28 -0.08,2.43 0.41,0.94 0.95,0.19 0.33,0.47 0.31,1.58 -0.21,0.69 0.11,1.3 1.87,1.39 0.43,1.5 1.45,1.03 2.79,0.679996 1.3,-0.12 0.77,-0.339996 0.94,0.06 0,0 -0.53,0.739996 0.29,1.59 -0.17,0.53 -1.29,1.11 -1.39,0.17 -0.5,-0.18 -0.84,-0.79 -0.66,-0.15 -3.38,1.58 -0.37,0.54 -1.6,0.72 -0.63,-0.02 -1.55,0.59 0.04,0.58 6.46,-1.06 0.88,0.66 0.13,0.46 0,0.66 -0.62,0.5 0.3,0.36 0.63,-0.2 0.86,-1 1.02,-0.01 0.53,-0.27 0.6,0.12 1.07,-0.42 1.14,-0.57 3.28,-2.34 1.5,-0.35 1.84,-0.81 3.16,-1.84 0.54,-0.999996 0.67,-0.52 2.09,-1.01 0.66,-0.72 -0.25,-0.67 0.21,-0.41 1.13,-0.28 1.09,0.06 0.41,0.21 0.38,3.799996 -0.52,2.58 0.33,1.62 0.81,1.6 1.31,1.35 0.3,1.64 -0.12,0.47 -1.84,1.84 -0.47,0.13 -0.87,-0.52 -1.82,-0.52 -1.26,-0.31 -0.93,0.14 -2.13,-1.04 -0.26,-1.12 -0.88,-0.53 -2.28,3.82 -0.61,2.37 0.68,2.97 0.48,0.64 0.92,0.62 -1.01,-1.14 -0.43,-2.69 0.12,-0.52 2.57,-4.22 2.31,1.18 0.11,0.45 2.53,2.45 -0.25,2.02 -0.74,0.55 0.4,2.33 0.52,1.13 1.12,0.75 0.74,0.15 0.52,0.49 -0.34,-0.64 -0.77,-0.24 -1.2,-1.04 -0.22,-0.68 0.34,-4.2 0.82,-1.19 1.43,0.73 0.83,1.2 -0.09,0.79 1.2,0.86 0.25,-0.29 -1,-1.26 -0.92,-2.1 0,-0.44 2.26,-2.32 1.62,0.09 1.93,0.64 0.34,0.56 -0.61,0.59 0.32,0.28 0.48,0.03 1.03,-0.17 1.33,-0.9 4.09,-0.96 0.77,0.2 1.74,1.06 3.17,-0.42 1.07,-0.41 1.02,-1.01 0.98,-0.59 1.74,-0.51 0.77,0.07 0.06,0.75 -2.04,4.02 -0.24,1.5 -0.46,1.07 -0.83,1.03 -0.01,0.88 0.58,1.42 -0.32,2.47 0.88,-1.19 0.01,-1.4 1.54,-3 1.13,-3.19 1.12,-1.56 0.27,-0.27 0.76,-0.05 0.58,-0.35 1.82,-0.23 0.88,-1.35 1.51,-1.69 1.36,-2.26 0.52,-0.46 0.79,0.49 0.62,-0.46 1.62,2.34 1.19,0.59 -0.05,-0.74 -0.35,-0.75 0.62,-1.01 3.51,-0.51 -1.03,-0.32 -3.51,0.46 -0.31,-0.21 0.29,-2.43 0.51,-0.29 0.67,0.38 1.02,0.11 1.07,-3.099996 -0.68,-1.39 0.03,-0.68 1.17,-1.81 2.84,-2.48 0.36,-0.08 1.11,1.14 2.93,-2.09 0.46,-0.07 0.4,0.45 0.1,0.57 -0.32,0.67 1.07,-0.16 0.81,-0.58 0.36,-0.78 0.63,-0.19 0.28,0.15 0.74,1.39 1.33,1.2 0.2,-0.56 -0.11,-0.38 -0.96,-0.49 -0.14,-0.29 -0.13,-1.2 0.17,-0.42 0.44,-0.19 2.28,0.26 1.18,0.65 0.62,1.02 1.63,0.71 1.65,-0.78 0.53,2.14 -0.5,0.31 -0.03,0.59 0.92,-0.52 1.16,-2.35 0.38,0.23 -0.23,1.33 0.41,0.44 2.51,-0.26 0.45,0.65 0.46,1.68 -0.6,0.95 0.85,-0.5 0.26,0.37 1.89,0.14 3.53,-1.24 -0.31,1.58 -0.75,1.829996 1.47,-0.489996 0.59,-0.62 0.63,1.619996 0,0 -0.77,0.45 -0.47,1.03 0.16,1.38 -0.71,4.39 -0.57,0.74 -1.14,0.15 -0.05,0.62 0.27,0.49 0.99,-0.16 0.43,0.53 -0.08,1.61 -0.9,3.02 -0.36,0.71 -1.74,1.57 -0.5,2.38 0.13,1.64 -3.68,3.09 1.04,1.58 -0.79,0.81 0.18,1.82 -0.46,1.28 -0.83,1.45 -1.48,1.76 -1.96,1.54 -1.6,4.69 -0.29,1.9 -0.47,1.21 -2.44,2.32 -1.12,0.46 -0.62,2.88 -1.55,1.17 -0.43,1.15 -1.55,2.17 -1.17,0.92 -2.35,-0.23 -14.71,11.83 0.49,0.08 0,0 2.29,0.81 1.87,-0.24 1.29,0.12 1.02,1.66 0.39,0.31 0.87,0.14 1.26,1.17 -0.04,0.63 -0.37,0.67 -0.72,0.37 -0.97,0.07 -0.29,0.28 0.09,1.41 1.01,1.34 -0.92,2.75 -0.64,0.48 -1.46,0.46 -0.25,0.46 0.29,1.2 -0.19,1.34 -1.3,0.15 -1.51,1.34 -0.85,1.27 0.15,1.51 -0.24,0.5 -2.5,1.2 -3.41,1.14 -2.47,1.78 -0.19,0.35 0.43,2.19 0.06,2.67 -1.28,2.1 -1.41,1.68 -0.15,0.57 0.17,0.88 0.59,0.96 1.67,1.74 0.75,0.32 0.15,0.3 -0.66,4.04 -1.76,5.15 -1.08,0.81 -1.7,3.24 -0.18,0.99 -0.94,1.54 -0.74,0.85 -1.05,0.16 -1.37,0.92 -1.03,1.92 -1.21,1.68 -1.18,1.09 -1.15,1.58 -1.13,4.46 -1.6,3.66 z" 
                              title="Par√°" fill="#e3f2fd" stroke="#1976d2" stroke-width="1"/>
                        
                        <!-- Para√≠ba -->
                        <path id="BR-PB" class="estado-path" data-estado="PB" data-nome="Para√≠ba" 
                              d="m 610.69257,199.41114 -2.5,-2.06 -0.82,-0.26 -2.65,-0.21 -2.31,1.07 -1.48,1.28 -0.45,1.8 -1.9,1.03 -2.01,0.45 -1.14,-0.02 0,0.6 -0.8,0.53 -2.18,0.29 -3.88,-0.26 -1.61,0.88 -0.55,0.64 -1.82,0.1 -0.89,0.69 -0.54,0.76 0.39,0.73 0.01,0.54 -0.4,0.48 -1.78,1.53 -1.34,0.16 -1.65,0.84 -1.6,-0.79 -0.95,-0.94 -0.35,-2.24 0.24,-0.49 -0.18,-0.3 -1.14,-0.32 -0.44,0.29 -1.51,0.25 0.04,-0.45 2.53,-2.64 0.17,-0.43 -0.72,-1.87 -0.04,-0.47 0.37,-0.78 3,-1.07 0.11,-0.3 -0.5,-1.39 -3.5,-1.92 -1.48,0.41 -2.22,1.26 -0.93,1.51 -1.48,0.87 -1.05,0.31 -2.7,1.88 -1.52,1.64 -1.63,0.23 -2.63,0.97 -0.77,-0.33 0.05,-0.68 -0.63,-1.24 -0.38,-0.08 -0.93,0.73 -1.51,0.32 -0.99,-0.33 -1.4,-1.91 -0.4,-0.09 0,0 -0.17,-0.25 1.19,-1.12 1.61,-3.49 -0.34,-1.19 -0.69,-0.08 -1.24,-0.89 0.02,-1.66 -0.35,-0.72 -0.58,-0.29 -0.24,-0.41 0.12,-0.93 0.17,-0.38 1.09,-0.63 0.66,-1.31 -0.52,-1.31 1.03,-3 0.84,-1.15 0.08,-0.54 0,0 0.57,-0.46 1.93,1.64 0.9,0.42 2.88,0.61 1.16,-1.13 3.23,-1.66 0.82,-0.71 0.1,-1.04 0.41,-0.95 3.18,-1.21 1.43,-0.12 3.26,-1.04 0.64,0.08 0.53,0.44 0.01,1.19 -2.99,3.21 -0.44,0.96 -0.38,1.74 -0.41,0.38 -0.85,0.25 -0.21,0.31 -0.08,1.72 3.53,0.52 0.32,0.23 0.31,1.38 0.29,0.23 3.15,-1.26 1.77,-0.08 1.95,0.3 0.89,1.17 -0.52,1.54 0.83,0.74 2.35,-0.93 0.5,-0.74 0.55,-1.21 -0.47,-0.94 -0.16,-1.42 0.48,-0.59 1.01,0.32 -0.53,-1.53 -0.72,-0.78 0.31,-1.48 1.82,-1.35 1.38,-0.05 0.42,0.39 -0.1,1 0.62,0.49 3.42,0.4 0.53,0.35 5.83,-0.39 2.17,0.3 2.46,1.1 1.04,-0.4 3.5,0.21 0.93,-0.24 0,0 0.09,2.4 1.45,4.39 0.06,0.64 -0.18,0.94 -0.37,0.45 -0.03,0.88 0.58,-0.74 0.51,-1.5 0.01,1.98 0.59,1.01 -0.27,5.18 -0.36,0.6 z" 
                              title="Para√≠ba" fill="#fff3e0" stroke="#f57c00" stroke-width="1"/>
                        
                        <!-- Pernambuco -->
                        <path id="BR-PE" class="estado-path" data-estado="PE" data-nome="Pernambuco" 
                              d="m 558.54257,227.45114 -1.22,-3.04 -0.01,-0.94 -2.11,-0.86 -0.5,-0.37 -0.45,-0.83 0.61,-0.89 -0.02,-0.62 -0.45,-0.32 -1,0.01 -0.43,0.44 -0.29,1.74 -0.43,0.15 -0.39,-0.26 -0.54,-1.65 -1.58,-1.15 -2.99,-0.4 -2.36,-0.77 -1.35,-0.81 -0.83,-1.44 -1.49,-0.56 -0.59,0.11 -2.53,1.46 -1.65,0.44 -0.77,2.05 -2.23,0.45 -0.29,0.25 0.25,1.36 -0.17,0.59 -1.1,1.24 -2.39,1.03 -0.64,-0.06 -0.77,-0.53 -0.76,0.17 -0.5,0.87 -0.77,3.57 -2.87,0.88 -0.82,0.92 -0.96,0.23 -1.84,-0.62 0.92,-1.68 -0.26,-2 -2.21,-0.91 -0.72,-1.94 0.06,-2.73 -0.44,-0.51 -2.81,-1.38 -2.2,-0.29 -1.16,0.26 -0.9,-0.4 0,0 2.62,-1.27 1.97,-1.71 0.54,-0.87 2.29,-1.33 0.97,-0.28 3.89,-3.87 0.74,-1.76 0.06,-2.27 -0.29,-0.54 -1.62,-1.58 0.07,-2.19 -0.6,-1.13 -0.06,-0.95 0.11,-0.45 0.52,-0.33 1.79,-0.16 0,0 4.93,0.2 0.89,0.24 1.63,-0.19 2.14,-0.8 1.29,-0.1 3.08,0.42 2.85,1.9 1.83,0.83 0.46,0.99 1.01,1.07 1.36,0.48 0.78,0.57 0.63,1.64 1.65,-0.05 1.54,-2.29 1.07,-0.83 1.59,-0.49 0,0 0.4,0.09 1.4,1.91 0.99,0.33 1.51,-0.32 0.93,-0.73 0.38,0.08 0.63,1.24 -0.05,0.68 0.77,0.33 2.63,-0.97 1.63,-0.23 1.52,-1.64 2.7,-1.88 1.05,-0.31 1.48,-0.87 0.93,-1.51 2.22,-1.26 1.48,-0.41 3.5,1.92 0.5,1.39 -0.11,0.3 -3,1.07 -0.37,0.78 0.04,0.47 0.72,1.87 -0.17,0.43 -2.53,2.64 -0.04,0.45 1.51,-0.25 0.44,-0.29 1.14,0.32 0.18,0.3 -0.24,0.49 0.35,2.24 0.95,0.94 1.6,0.79 1.65,-0.84 1.34,-0.16 1.78,-1.53 0.4,-0.48 -0.01,-0.54 -0.39,-0.73 0.54,-0.76 0.89,-0.69 1.82,-0.1 0.55,-0.64 1.61,-0.88 3.88,0.26 2.18,-0.29 0.8,-0.53 0,-0.6 1.14,0.02 2.01,-0.45 1.9,-1.03 0.45,-1.8 1.48,-1.28 2.31,-1.07 2.65,0.21 0.82,0.26 2.5,2.06 0,0 0.88,0.23 0.55,1.22 -1.27,1.72 -0.11,0.55 0.01,0.48 0.7,0.37 0.27,0.5 0.19,1.06 -1.96,6.38 -3.25,8.95 0,0 -0.27,-0.21 -2.9,-0.27 -1.92,-0.81 -1.47,0.19 -2.56,1.29 -2.24,-0.85 -2,0.24 -1.55,1.24 -0.12,0.45 -2.18,2.29 -1.81,1.11 -1.16,-0.05 -1.86,1.06 -1.17,0.11 -3.14,-0.29 -2.5,0.65 -1.91,-0.48 -1.78,-1.05 -1.9,-2.12 -2.55,-2.02 -1.08,0.12 -1.67,-0.3 -1,-1.22 -0.82,0.6 -0.09,0.69 -2.38,3.29 -2.17,0.76 -0.64,1.09 z" 
                              title="Pernambuco" fill="#fff3e0" stroke="#f57c00" stroke-width="1"/>
                        

                        
                        <!-- Piau√≠ -->
                        <path id="BR-PI" class="estado-path" data-estado="PI" data-nome="Piau√≠" d="m 505.96257,127.17114 1.31,0.12 0.69,-0.23 2.24,0.51 0.99,0.85 0.32,0.6 0,0 -0.11,0.8 -1.09,1.85 -1.58,1.97 -0.18,1.46 0.29,1.29 1.8,4.72 3.15,6.42 0.44,1.73 1.36,1.59 -0.02,0.76 -0.74,1.36 0.79,3.87 -0.48,1.6 1,2.01 0.6,2.99 -0.59,1.58 -0.8,0.58 0.92,0.69 0.11,0.38 0.94,8.16 -0.24,0.45 0.76,2.57 1.05,5.2 1.01,2.67 1.31,0.65 2.56,0.47 0.77,1.16 -0.01,0.69 -1.5,2.25 -1.14,3.11 0.08,0.97 0.68,0.68 -0.06,1.32 0,0 -1.79,0.16 -0.52,0.33 -0.11,0.45 0.06,0.95 0.6,1.13 -0.07,2.19 1.62,1.58 0.29,0.54 -0.06,2.27 -0.74,1.76 -3.89,3.87 -0.97,0.28 -2.29,1.33 -0.54,0.87 -1.97,1.71 -2.62,1.27 0,0 -0.45,1.16 -1.5,2.3 -1.05,0.67 -0.79,-0.18 -2,0.38 0.11,2.4 -1.86,1.8 -0.32,-0.05 -0.62,-0.62 -2.16,-0.01 -0.82,0.98 -0.77,0.36 -2.73,0.34 -1.51,1.34 -0.82,1.22 -1.7,0.1 -1.48,0.64 -3,0.11 -0.82,-0.28 -0.19,-0.28 0.13,-0.66 -1.71,-0.98 -1.33,-0.39 -1.39,0.55 -2.13,0.43 -0.32,-0.18 -0.41,-0.93 -1.5,-0.46 -1.95,0.02 -3.24,1.65 -0.06,0.93 2.24,4.44 0.12,1.15 -0.29,2.57 -0.25,0.91 -0.72,0.86 -2.95,5.05 -2.97,2.42 -1.35,0.42 -1.48,-0.53 -1.34,-0.17 -2.2,0.75 -1.17,0.89 -0.67,0.87 -1.14,0.38 -0.75,1.45 -0.33,0.21 -2.11,-0.18 -1.8,0.52 -4.18,-1.85 -1.77,-2.49 -0.53,-2.21 -0.66,-1.04 -1.44,-1.34 -2.33,0.02 0,0 -2.94,-0.21 0,0 0.05,-1.92 0.26,-1.06 1.15,-2.45 0.13,-6.36 0.76,-1.4 0.03,-0.51 -1.73,-3.06 -0.47,-3.19 -0.7,-1.94 0.73,-2 1.7,-1.4 1.2,-2.48 0.13,-1.51 0.34,-0.83 0.3,-0.21 1.44,-2.74 0.63,-2.32 0.39,-2.97 0.98,-2.98 2.13,-1.95 2.72,-0.76 2.61,-0.31 1.07,-0.37 1.7,-1.53 1.05,-0.04 1.34,-0.52 2.86,-2.57 2.34,-0.91 2.01,-2 0.63,-0.87 0,-0.46 1.9,-1.92 0.5,-0.22 0.84,-0.24 0.23,0.3 1.12,-0.26 1,-0.6 1.46,-0.19 1.01,0.21 2.51,1.82 1.51,-0.1 2.44,-0.86 0.83,-0.04 0.65,0.28 2.28,-0.29 1.21,-1.31 0.5,-1.46 0.12,-1.21 0.29,-0.44 0.39,-2.2 -0.13,-0.85 -0.17,-0.5 -1.61,-0.91 -1.78,-2.03 -0.51,-2.3 -0.11,-2.11 0.17,-2.48 4.1,-4.43 0.21,-0.55 0.1,-2.43 -0.55,-2.98 -1.58,-2.8 1.14,-2.87 0.28,-1.47 -0.38,-1.27 -1.23,-0.84 -0.35,-1.92 0.77,-1.05 0.64,-0.17 0.82,-1.98 1.89,-1.85 0.88,-1.83 -0.04,-1.79 2.92,-3.41 0.81,0.16 3.31,-0.46 4.13,-3.97 1.79,-2.27 0.39,-1.53 -0.64,-0.53 -0.22,-0.72 0.46,-1.44 0,0 0.73,0.12 1.47,0.87 0.51,0.51 -0.13,0.31 z" title="Piau√≠" fill="#fff3e0" stroke="#f57c00" stroke-width="1"/>
                        
                        <!-- Rio Grande do Norte -->
                        <path id="BR-RN" class="estado-path" data-estado="RN" data-nome="Rio Grande do Norte" d="m 609.55257,183.17114 -0.93,0.24 -3.5,-0.21 -1.04,0.4 -2.46,-1.1 -2.17,-0.3 -5.83,0.39 -0.53,-0.35 -3.42,-0.4 -0.62,-0.49 0.1,-1 -0.42,-0.39 -1.38,0.05 -1.82,1.35 -0.31,1.48 0.72,0.78 0.53,1.53 -1.01,-0.32 -0.48,0.59 0.16,1.42 0.47,0.94 -0.55,1.21 -0.5,0.74 -2.35,0.93 -0.83,-0.74 0.52,-1.54 -0.89,-1.17 -1.95,-0.3 -1.77,0.08 -3.15,1.26 -0.29,-0.23 -0.31,-1.38 -0.32,-0.23 -3.53,-0.52 0.08,-1.72 0.21,-0.31 0.85,-0.25 0.41,-0.38 0.38,-1.74 0.44,-0.96 2.99,-3.21 -0.01,-1.19 -0.53,-0.44 -0.64,-0.08 -3.26,1.04 -1.43,0.12 -3.18,1.21 -0.41,0.95 -0.1,1.04 -0.82,0.71 -3.23,1.66 -1.16,1.13 -2.88,-0.61 -0.9,-0.42 -1.93,-1.64 -0.57,0.46 0,0 -0.66,0.38 -0.64,-0.17 0.34,-1.97 1.41,-2.25 0.84,-0.88 0.51,-0.07 0.78,0.51 1.03,-0.26 0.57,-1.1 1.46,-1.51 1.4,-2.44 -0.15,-0.74 0.65,-1.67 0.87,-0.57 0.84,-1.12 3.3,-6.69 2.61,-2.01 4.89,-1.59 0,0 0.47,0.76 0.86,0.75 3.13,-0.01 1.22,0.41 1.69,1.75 1.32,0.5 3.33,-0.32 2.88,0.52 2.54,-0.24 2.33,-0.73 4.5,0.92 1.27,0.04 1.95,0.86 1.02,0.82 0.64,0.94 2.31,4.74 0.5,1.79 -0.04,0.75 1.48,5.38 0.21,1.68 0.72,0.54 0.96,2.69 z" title="Rio Grande do Norte" fill="#fff3e0" stroke="#f57c00" stroke-width="1"/>
                        
                        <!-- Rond√¥nia corrigido com coordenadas do SVG original -->
                        <path id="BR-RO" class="estado-path" data-estado="RO" data-nome="Rond√¥nia" d="m 187.58257,291.21114 -1.29,-1.45 -0.44,-1.88 -1.56,-0.52 -0.86,0.32 -1.81,0.08 -4.07,-1.81 -0.01,-0.4 -0.66,-0.61 -1.27,0.59 -1.98,-1.68 -1.52,-0.97 -0.86,-1.46 -0.28,-1.39 -1.04,-0.39 -1.77,1.12 -1.22,-0.03 -1.41,-0.8 -0.87,-1.33 -3.13,-1.58 -1.96,-0.17 -1.14,0.54 -0.9,0.85 -1.43,-0.17 -0.31,-0.3 -2.14,-0.51 -3.06,-0.28 -0.76,-0.43 -1.18,-1.19 -0.3,-1.97 -1.58,-0.49 -1.89,-0.97 -0.82,-1.72 -0.29,-0.2 -2.72,-0.28 -0.38,-0.35 -0.84,-3.71 -0.88,-0.89 -0.48,1.16 -0.66,-0.32 -0.27,-0.64 0.62,-1.53 -0.84,-1.52 -1.36,-0.39 -1.26,-3.47 -0.17,-1.66 1.55,-2.91 -0.21,-1.66 -1.16,-1.97 -0.75,-2.16 -0.06,-2.29 0.62,-0.5 0.38,-1.37 1.04,-1.05 0.36,-1.47 -0.24,-1.49 -0.42,-0.89 -0.09,-1.53 0.54,-1.65 -1.17,-2.18 -1.02,-0.38 -1.09,0.98 -0.06,0.51 -0.84,0.96 -0.57,0 -2.18,-1.02 -5.18,0.08 -5.61,1.78 -1.69,-0.01 -1.48,0.48 0,0 -2.97,-1.26 0,0 3.26,-2.56 1.92,-0.58 1.55,-1.81 0.15,-0.56 -0.16,-1.29 3.96,0.26 2.87,-0.33 0.72,0.37 2.31,2.33 0.37,-0.02 1.22,-0.79 0.13,-0.72 0.41,-0.53 1.08,-0.5 0.77,0.13 1.37,-0.39 1.3,-1.21 1.84,-1.02 0.38,0.09 0.64,2.26 0.68,0.53 0.68,-0.08 2.54,-3.16 -0.26,-1.75 0.53,-0.84 1.75,-1.26 0.46,0.02 0.84,0.55 1.79,0.1 1.2,-1.07 2.13,-0.38 3.87,0.46 -0.24,-1.46 0.11,-1.81 2.06,-1.21 0.81,-1.15 0.36,-1.02 -0.17,-0.45 -0.9,-0.7 0.05,-0.67 1.19,-1.59 2.48,-0.53 0.26,-0.22 -0.09,-1.17 1.72,-0.5 1.38,-2.56 10.79,-0.06 2.15,1.13 0.45,0.49 0.8,1.91 1.33,1.27 2.54,0.98 1.25,3.27 0.46,0.21 0.98,-0.13 0.62,0.2 0.68,2.88 3.24,1.48 0.68,-0.19 0.54,-1.74 1.92,-1.08 1.39,0.28 0.36,0.38 -0.04,0.7 0,0 1.4,0.97 0.6,1.24 -0.76,1.42 -1.29,4.99 0.06,0.35 0.78,0.47 0.26,0.61 0.15,1.39 0.83,2.27 -0.94,1.67 0.38,1.93 -1,3.52 -0.03,0.8 0.27,1.76 1.5,2.75 -0.9,9 17.16,0.05 -0.24,0.56 1.22,1.11 3.5,-0.09 1.11,0.11 1.07,0.43 1.41,3.59 -0.17,0.75 -1.4,1.75 -1.36,1.08 -0.14,1.32 0.43,3.25 0.58,0.51 0.9,-0.03 1.53,3.34 -0.04,2.05 0.58,1.49 -0.07,1.71 -0.56,2.24 -1.66,2.01 -0.52,2.25 -0.58,0.84 -0.43,0.41 -1.64,0.53 -0.93,1.08 -1.43,3.78 -0.52,2.45 -4.11,2.57 -1.47,1.43 0,0 -0.74,-0.04 -2.59,-1.55 -1.27,-1.43 -7.08,0.96 -1.32,-0.43 -0.25,-0.3 -3.38,0.66 -0.48,-0.16 -0.52,-1.35 z" title="Rond√¥nia" fill="#e3f2fd" stroke="#1976d2" stroke-width="1"/>
                        
                        <!-- Roraima -->
                        <path id="BR-RR" class="estado-path" data-estado="RR" data-nome="Roraima" d="m 234.87257,61.661144 1.6,16.97 0,0 -18.49,-0.07 0.03,0.68 -2.33,3.26 -1.66,3.03 -0.07,1.13 -1.15,2.64 -0.11,0.66 0.23,0.73 1.14,1.41 -0.02,0.53 -0.42,0.39 -2.03,0.55 -1.41,1.41 -1.25,0.46 -1.82,-0.23 -0.92,-2.51 -1.87,-2.04 -2.83,-0.93 -1.6,0.06 -0.55,0.89 -2.09,0.71 -1.28,0.69 -1.02,1.26 -0.82,2.97 0.37,1.8 -0.25,1.73 -0.75,2.289996 0.44,2.11 -2.36,-1.04 -1.34,0.42 -0.53,-0.07 -1.04,-2.04 -1.48,-1.649996 -1.96,-1.31 -0.52,-0.04 -5.01,-4.42 0.14,-1.14 1.84,0.33 1.14,-1.32 0.06,-0.58 -1.13,-4.33 -0.58,-0.9 -1.22,-0.84 -0.88,-2.17 -0.29,-4.98 0.57,-0.96 0.77,-3.04 -0.66,-1.58 -0.36,-1.59 1.62,-1.46 -0.05,-0.45 -0.87,-1.12 -0.19,-2.26 -1.66,-4.76 -2.73,-3.74 0.71,-1.5 0.91,-3.32 -0.49,-0.66 -1.95,-0.95 -1.36,-0.11 -0.88,0.21 -0.97,-0.37 -1.21,-1.17 -0.06,-0.96 -0.63,-0.11 -1.13,0.42 -0.61,-0.01 -0.75,-0.34 -0.72,-0.78 0,0 0.3,-0.46 0.23,-2.28 -0.3,-0.22 -3.37,-0.23 -3.75,0.14 -3.31,-0.7 -0.2,-0.6 0.8,-1.76 0.12,-1.48 -0.73,-1.77 -1.94,-3.54 -0.73,-2.06 -0.47,-3.72 0.79,-1.48 -0.08,-0.96 -1.84,-2 -2.16,-1.06 -2.81,-2.78 -1.06,-1.81 -0.29,-0.96 -1.14,-0.65 -0.25,-0.39 0.03,-0.84 0.29,-0.33 0.9,0.07 1.12,0.66 0.94,1.73 0.61,0.09 3.39,-0.5 1.35,0.1 1.91,0.59 0.61,1.2 0.55,1.93 0.54,0.35 0.96,-0.08 0.74,-0.65 0.95,-0.4 3.18,0.16 0.47,0.05 1.31,1.21 0.6,0.15 0.52,-0.14 0.61,-1.56 1.31,0.14 1.45,0.93 3.93,4.57 1.05,0.57 0.71,0.11 1.51,-0.68 0.74,-1.13 0.1,-0.84 -0.83,-2.76 0.36,-1.74 0.46,-0.28 1.93,-0.05 1.01,-1.1 1.55,-1.09 0.75,0.05 3.9,1.34 0.59,-0.17 0.8,-0.72 1.03,-0.3 1.13,0.35 1.03,-0.21 1.34,-1.28 1,-0.25 1.15,0.23 1.11,-0.07 0.68,-0.85 0.05,-1.35 3.03,-1.81 2.33,0.19 2.76,-0.39 0.89,-1.13 0.09,-0.71 0.59,-1.1199998 0.75,-0.13 1.85,-0.9 1.1,-1.04 1.11,-1.71 -1.2,-3.56 -1.17,-0.36 0.64,-0.18 1.43,0.07 0.8,0.32 3.57,-0.1 1.06,-0.95 0.74,-0.22 1.37,0.42 0.53,1.31 1.04,0.8 0.48,1.37 -0.67,4.9 -0.72,1.3799998 -1.25,0.7 0.06,0.83 1.61,0.41 1.62,-0.22 2.35,0.81 1.82,1.1 -0.88,1.43 -0.01,1.15 2.34,3.42 0.2,1.55 -1.51,2.92 -1.88,1.41 -0.72,1.5 0.27,0.39 0.06,2.17 -1.47,2.41 -0.9,2.77 -0.31,2.57 -0.09,2.67 0.98,1.87 0.51,1.76 -0.01,1.4 1.57,1.03 0.9,0.2 0.13,0.68 -0.46,5.15 0.12,0.74 1.81,0.29 -0.66,1.17 0.46,0.5 2.15,0.74 1.46,1.92 2.66,2.74 z" title="Roraima" fill="#e3f2fd" stroke="#1976d2" stroke-width="1"/>
                        
                        <!-- Sergipe -->
                        <path id="BR-SE" class="estado-path" data-estado="SE" data-nome="Sergipe" d="m 570.20257,261.95114 -2.9,0.89 -1.55,-0.64 -0.54,-0.34 -0.48,-0.72 -1.92,-0.92 -0.6,-0.52 -0.12,-0.41 0.34,-0.39 0.13,-1.42 -0.15,-0.39 -1.43,-1.51 -0.52,-1.49 -1.09,-0.67 -0.96,-1.6 -0.02,-0.77 0.59,-1.58 0.32,-0.3 1.7,0.01 1.13,0.75 2.55,-0.99 0.69,-0.55 0.3,-0.58 -0.76,-2.75 0.08,-0.88 0.66,-1.62 0.08,-3.11 -0.75,-1.15 -1.99,-1.95 -1.27,-2.5 -0.22,-2.14 0.67,-1.15 0,0 6.46,2.98 3.68,0.95 5.42,3.07 1.3,2.45 1.76,1.45 1.66,0.79 0.46,0.03 3.59,2.23 0.6,1.31 0,0 -2.38,0.76 -4.57,2.94 -0.97,0.89 -1.55,2.21 -0.32,-0.02 0.11,-1.1 -1.05,-1.82 -0.99,0.16 0.34,1.16 1.24,0 0.23,0.24 -0.52,1.97 -1.27,2.09 -0.53,-0.35 -0.37,-0.67 -0.99,-0.16 0.2,0.68 1.13,0.62 -0.26,1.77 -0.86,1.15 -0.93,2.03 -0.78,0.15 -0.3,-0.46 0.48,-1.4 0.41,-0.13 0.31,-0.43 0.37,-1.04 -0.81,-0.37 0.1,0.68 -0.45,1.13 -0.48,0.5 -0.26,1.09 0.28,0.72 -0.26,0.52 z" title="Sergipe" fill="#fff3e0" stroke="#f57c00" stroke-width="1"/>
                        
                        <!-- Tocantins -->
                        <path id="BR-TO" class="estado-path" data-estado="TO" data-nome="Tocantins" 
                              d="m 433.61257,282.08114 -5.36,1.42 -1.74,1.34 -2.56,1.1 -1.55,0 -4.53,1 -2.52,2.08 -1.78,0.9 -0.46,-0.24 -1.51,-2.62 -0.55,-0.03 -0.51,3.3 -0.69,0.08 -3.35,-0.68 -3.13,-1.47 0.56,-1.56 -0.22,-0.74 -4.53,0.53 -2.76,-0.34 -0.56,0.54 -0.3,1 -0.75,0.75 -1.14,-0.05 -0.61,-3.1 -1.11,-3.71 -1.04,-1.88 -1.15,-1.31 -1.18,0.97 -1.47,2.39 -1.63,5.94 -0.63,0.23 -4.07,-1.43 -3.09,-1.71 -3.93,-0.4 -2.2,-1.03 -2.4,-0.4 0.52,-2.34 1.22,-1.88 0.03,-1.71 -0.56,0.3 -1.81,2.09 -0.66,1.23 -0.2,1.88 -0.34,0.45 0,0 -0.8,-0.02 -0.96,-0.51 -0.98,-3.34 0.74,-2.76 -0.44,-3.05 -0.52,-0.58 -0.01,-1.57 0.47,-3.31 -1.1,-2.25 0.05,-0.5 0.82,-0.89 0.16,-0.87 -1.39,-1.34 -0.06,-0.86 1.88,-5.99 0.04,-2.95 0.54,-2.97 1.94,-5.29 0.37,-0.27 0.43,-0.85 0.44,-3.14 1.1,-1.25 0.56,-1.89 0.65,-1.02 0,0 1.62,-3.69 1.13,-4.45 1.15,-1.58 1.19,-1.1 1.21,-1.68 1.03,-1.92 1.37,-0.92 1.05,-0.16 0.73,-0.85 0.94,-1.54 0.18,-0.99 1.7,-3.24 1.09,-0.8 1.76,-5.15 0.66,-4.04 -0.15,-0.3 -0.74,-0.32 -1.67,-1.74 -0.6,-0.95 -0.16,-0.88 0.14,-0.57 1.41,-1.69 1.29,-2.1 -0.06,-2.67 -0.43,-2.18 0.19,-0.35 2.47,-1.78 3.41,-1.14 2.5,-1.21 0.24,-0.5 -0.15,-1.51 0.86,-1.27 1.51,-1.34 1.29,-0.15 0.19,-1.34 -0.29,-1.2 0.25,-0.46 1.46,-0.46 0.64,-0.48 0.93,-2.75 -1.02,-1.34 -0.09,-1.4 0.29,-0.28 0.97,-0.08 0.72,-0.37 0.37,-0.66 0.03,-0.64 -1.26,-1.17 -0.87,-0.14 -0.39,-0.31 -1.02,-1.66 -1.29,-0.12 -1.87,0.25 -2.29,-0.81 0,0 0.53,-0.64 2.62,-1.85 1.96,-0.53 0.87,0.05 2.78,1.52 1.4,0.08 0.95,-0.52 1.74,0.29 0.59,0.69 0.08,1.03 0.28,0.32 1.22,0.03 3.4,1.43 0.84,1.03 0.47,3.5 0.64,1.5 -0.21,3.72 0.23,1.08 0.67,1.13 -0.01,0.44 -1.77,6.15 -0.31,2.37 0.28,1 -0.25,1.59 -1.75,2.04 -1.76,0.67 -0.18,0.71 1.94,1.32 0.42,-0.27 1.37,0.24 0.25,0.35 0.11,0.88 -0.62,1.19 0.85,1.44 0.88,-0.07 3,4.16 0.91,0.85 2.28,3.02 2.14,-1.34 4.27,-0.94 1.8,1.22 0.08,1.75 -0.64,3.25 0.39,1.35 -3.39,0.35 -1.34,0.54 -0.57,0.55 -0.68,1.43 -0.73,2.68 0.37,1.3 -2.63,2.55 -0.26,0.7 0.2,0.42 2.08,0.29 0.94,0.69 0.74,1.59 0.06,1.66 0.62,1.04 3.88,1.95 0.09,0.53 -1.64,1.81 0.13,1.65 2.14,1.62 0.99,2.87 1.34,2 0.71,0.18 1.78,-0.21 1,0.3 0.82,0.44 0.61,0.82 1.28,0.66 0,0 2.94,0.21 0,0 -0.69,0.65 -0.22,0.98 -0.56,0.47 -3.82,2.02 -3.21,2.62 -0.19,0.37 1.29,1.8 -0.36,0.39 -1.01,0.27 -0.9,0.61 -1.52,3.49 -1.01,0.72 -0.5,1.16 0.23,0.92 1.86,1.95 3.59,0.67 1.87,0.99 0.05,0.76 -0.56,0.45 -2.04,0.81 -0.43,0.96 0.09,0.5 0.35,0.33 1.03,-0.18 0.92,0.29 0.58,0.51 0.29,0.64 -0.96,0.71 -1.15,0.42 -1.95,1.67 -0.19,0.85 -0.05,2.92 0.35,1.25 0.94,0.66 1.05,0.24 0.41,0.25 0.17,0.42 0.05,1.06 -1.36,2.38 z" 
                              title="Tocantins" fill="#e8f5e9" stroke="#388e3c" stroke-width="1"/>
                        
                        
                        <!-- Siglas dos Estados Centralizadas -->
                        <text x="55" y="240" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">AC</text>
                        <text x="568" y="235" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">AL</text>
                        <text x="285" y="128" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">AP</text>
                        <text x="215" y="130" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">AM</text>
                        <text x="527" y="270" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">BA</text>
                        <text x="548" y="168" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">CE</text>
                        <text x="417" y="334" class="estado-sigla" text-anchor="middle" style="font-size: 10px; font-weight: bold; fill: #333;">DF</text>
                        <text x="492" y="415" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">ES</text>
                        <text x="390" y="340" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">GO</text>
                        <text x="458" y="180" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">MA</text>
                        <text x="470" y="370" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">MG</text>
                        <text x="315" y="455" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">MS</text>
                        <text x="275" y="310" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">MT</text>
                        <text x="328" y="160" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">PA</text>
                        <text x="595" y="195" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">PB</text>
                        <text x="548" y="215" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">PE</text>
                        <text x="505" y="185" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">PI</text>
                        <text x="390" y="505" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">PR</text>
                        <text x="458" y="455" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">RJ</text>
                        <text x="595" y="178" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">RN</text>
                        <text x="158" y="285" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">RO</text>
                        <text x="235" y="118" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">RR</text>
                        <text x="358" y="588" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">RS</text>
                        <text x="378" y="548" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">SC</text>
                        <text x="568" y="245" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">SE</text>
                        <text x="435" y="475" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">SP</text>
                        <text x="415" y="238" class="estado-sigla" text-anchor="middle" style="font-size: 12px; font-weight: bold; fill: #333;">TO</text>
                        
                    </svg>
                </div>
                
                <!-- Legenda -->
                <div class="mapa-legenda">
                    <h4><i class="fa-solid fa-info-circle"></i> Regi√µes do Brasil</h4>
                    <div class="legenda-items">
                        <div class="legenda-item">
                            <div class="legenda-cor" style="background: #e3f2fd;"></div>
                            <span>Norte</span>
                        </div>
                        <div class="legenda-item">
                            <div class="legenda-cor" style="background: #fff3e0;"></div>
                            <span>Nordeste</span>
                        </div>
                        <div class="legenda-item">
                            <div class="legenda-cor" style="background: #e8f5e9;"></div>
                            <span>Centro-Oeste</span>
                        </div>
                        <div class="legenda-item">
                            <div class="legenda-cor" style="background: #fce4ec;"></div>
                            <span>Sudeste</span>
                        </div>
                        <div class="legenda-item">
                            <div class="legenda-cor" style="background: #f3e5f5;"></div>
                            <span>Sul</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Informa√ß√µes do Estado Selecionado -->
            <div class="estado-info" id="estado-info" style="display: none;">
                <div class="estado-header">
                    <h3 id="estado-nome">
                        <i class="fa-solid fa-map-pin"></i>
                        <span id="estado-nome-texto">Selecione um estado</span>
                    </h3>
                    <div class="estado-stats">
                        <span class="stat-item">
                            <i class="fa-solid fa-building"></i>
                            <span id="total-agentes">0</span> Agentes
                        </span>
                        <span class="stat-item">
                            <i class="fa-solid fa-city"></i>
                            <span id="total-municipios">0</span> Munic√≠pios
                        </span>
                    </div>
                </div>
                
                <!-- Lista de Agentes -->
                <div class="agentes-container">
                    <div class="busca-agentes">
                        <input type="text" id="busca-municipio" placeholder="üîç Buscar por munic√≠pio..." 
                               onkeyup="filtrarAgentes()" class="form-control">
                    </div>
                    
                    <div class="agentes-lista" id="agentes-lista">
                        <p class="loading-text">Carregando agentes...</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- CSS espec√≠fico para o mapa -->
        <style>
            .mapa-container {
                display: flex;
                gap: 30px;
                margin-bottom: 30px;
                flex-wrap: wrap;
            }
            
            .mapa-brasil {
                flex: 2;
                min-width: 600px;
                background: #f8f9fa;
                border-radius: 12px;
                padding: 20px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            }
            
            .estado-path {
                cursor: pointer;
                transition: all 0.3s ease;
                filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.1));
            }
            
            .estado-path:hover {
                opacity: 0.8;
                transform: scale(1.02);
                filter: drop-shadow(4px 4px 8px rgba(0,0,0,0.2));
            }
            
            .estado-path.selected {
                stroke-width: 4;
                stroke: #ff6b35;
                filter: drop-shadow(0 0 10px rgba(255, 107, 53, 0.5));
            }
            
            .estado-label {
                font-family: 'Segoe UI', sans-serif;
                font-size: 12px;
                font-weight: 600;
                fill: #333;
                text-anchor: middle;
                pointer-events: none;
                text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
            }
            
            .estado-sigla {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                font-weight: bold;
                text-anchor: middle;
                pointer-events: none;
                text-shadow: 1px 1px 2px rgba(255,255,255,0.9);
                dominant-baseline: central;
                transition: none;
            }
            
            .estado-sigla.editavel {
                pointer-events: auto;
                cursor: grab;
            }
            
            .estado-sigla.editavel:hover {
                fill: #0066cc;
                filter: drop-shadow(1px 1px 2px rgba(0,102,204,0.3));
            }
            
            .estado-sigla.dragging {
                cursor: grabbing;
                fill: #ff6b35;
                filter: drop-shadow(2px 2px 4px rgba(255,107,53,0.5));
            }
            
            /* Editor Discreto */
            .editor-discreto {
                position: absolute;
                top: 10px;
                right: 10px;
                z-index: 100;
            }
            
            .btn-edit-discreto {
                width: 32px;
                height: 32px;
                border: none;
                border-radius: 50%;
                background: rgba(255,255,255,0.8);
                color: #666;
                cursor: pointer;
                font-size: 14px;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 2px 6px rgba(0,0,0,0.1);
                transition: all 0.2s ease;
                opacity: 0.6;
            }
            
            .btn-edit-discreto:hover {
                background: rgba(255,255,255,0.95);
                color: #0066cc;
                opacity: 1;
                transform: scale(1.1);
            }
            
            .edit-controls-discreto {
                display: flex;
                gap: 5px;
                margin-top: 5px;
            }
            
            .btn-save-discreto,
            .btn-cancel-discreto {
                width: 28px;
                height: 28px;
                border: none;
                border-radius: 50%;
                cursor: pointer;
                font-size: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                transition: all 0.2s ease;
            }
            
            .btn-save-discreto {
                background: rgba(40,167,69,0.9);
                color: white;
            }
            
            .btn-save-discreto:hover {
                background: #28a745;
                transform: scale(1.1);
            }
            
            .btn-cancel-discreto {
                background: rgba(220,53,69,0.9);
                color: white;
            }
            
            .btn-cancel-discreto:hover {
                background: #dc3545;
                transform: scale(1.1);
            }
            
            .mapa-legenda {
                flex: 1;
                min-width: 250px;
                background: white;
                border-radius: 12px;
                padding: 20px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                height: fit-content;
            }
            
            .mapa-legenda h4 {
                margin: 0 0 15px 0;
                color: #333;
                font-size: 1.1rem;
            }
            
            .legenda-items {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }
            
            .legenda-item {
                display: flex;
                align-items: center;
                gap: 12px;
                padding: 8px;
                border-radius: 6px;
                transition: background 0.2s;
            }
            
            .legenda-item:hover {
                background: #f5f5f5;
            }
            
            .legenda-cor {
                width: 20px;
                height: 20px;
                border-radius: 4px;
                border: 2px solid #ddd;
            }
            
            .estado-info {
                background: white;
                border-radius: 12px;
                padding: 25px;
                margin-top: 20px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                border-left: 4px solid #0a6ed1;
            }
            
            .estado-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
                padding-bottom: 15px;
                border-bottom: 2px solid #f0f0f0;
            }
            
            .estado-header h3 {
                margin: 0;
                color: #0a6ed1;
                font-size: 1.4rem;
                display: flex;
                align-items: center;
                gap: 10px;
            }
            
            .estado-stats {
                display: flex;
                gap: 20px;
            }
            
            .stat-item {
                display: flex;
                align-items: center;
                gap: 6px;
                color: #666;
                font-weight: 600;
                font-size: 0.95rem;
            }
            
            .stat-item i {
                color: #0a6ed1;
            }
            
            .busca-agentes {
                margin-bottom: 20px;
            }
            
            .busca-agentes input {
                width: 100%;
                padding: 12px 16px;
                border: 2px solid #e0e0e0;
                border-radius: 8px;
                font-size: 16px;
                transition: border-color 0.3s;
            }
            
            .busca-agentes input:focus {
                outline: none;
                border-color: #0a6ed1;
                box-shadow: 0 0 0 3px rgba(10, 110, 209, 0.1);
            }
            
            .agentes-lista {
                max-height: 500px;
                overflow-y: auto;
                border: 1px solid #e0e0e0;
                border-radius: 8px;
                background: #fafafa;
            }
            
            .municipio-grupo {
                border-bottom: 1px solid #e0e0e0;
            }
            
            .municipio-grupo:last-child {
                border-bottom: none;
            }
            
            .municipio-header {
                background: linear-gradient(135deg, #0a6ed1 0%, #1e88e5 100%);
                color: white;
                padding: 12px 16px;
                font-weight: 600;
                font-size: 1.05rem;
                display: flex;
                align-items: center;
                gap: 8px;
                cursor: pointer;
                transition: all 0.2s;
            }
            
            .municipio-header:hover {
                background: linear-gradient(135deg, #1e88e5 0%, #0a6ed1 100%);
            }
            
            .municipio-header i {
                transition: transform 0.2s;
            }
            
            .municipio-header.collapsed i {
                transform: rotate(-90deg);
            }
            
            .agentes-municipio {
                background: white;
                display: none;
            }
            
            .agentes-municipio.expanded {
                display: block;
            }
            
            .agente-item {
                padding: 15px 20px;
                border-bottom: 1px solid #f0f0f0;
                transition: background 0.2s;
            }
            
            .agente-item:hover {
                background: #f8f9fa;
            }
            
            .agente-item:last-child {
                border-bottom: none;
            }
            
            .agente-nome {
                font-weight: 600;
                color: #333;
                font-size: 1.05rem;
                margin-bottom: 5px;
                display: flex;
                align-items: center;
                gap: 8px;
            }
            
            .agente-detalhes {
                color: #666;
                font-size: 0.9rem;
                line-height: 1.4;
            }
            
            .agente-tipo {
                display: inline-block;
                padding: 3px 8px;
                border-radius: 12px;
                font-size: 0.8rem;
                font-weight: 600;
                margin-left: 8px;
            }
            
            .tipo-agente {
                background: #e3f2fd;
                color: #1976d2;
            }
            
            .tipo-transferencia {
                background: #fff3e0;
                color: #f57c00;
            }
            
            .tipo-direto {
                background: #e8f5e9;
                color: #388e3c;
            }
            
            .loading-text {
                text-align: center;
                color: #666;
                font-style: italic;
                padding: 40px;
                margin: 0;
            }
            
            .empty-state {
                text-align: center;
                padding: 40px;
                color: #999;
            }
            
            .empty-state i {
                font-size: 3rem;
                margin-bottom: 15px;
                opacity: 0.5;
            }
            
            @media (max-width: 768px) {
                .mapa-container {
                    flex-direction: column;
                }
                
                .mapa-brasil {
                    min-width: auto;
                }
                
                .estado-header {
                    flex-direction: column;
                    align-items: flex-start;
                    gap: 10px;
                }
                
                .estado-stats {
                    gap: 15px;
                }
            }
        
        /* Estilos para resultados dedicado All In */
        .resultados-dedicado-all-in {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e3e8ee;
        }
        
        .resumo-section {
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .resumo-section h3 {
            color: #0a6ed1;
            font-size: 1.3rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e3e8ee;
        }
        
        .resumo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .resumo-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .resumo-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }
        
        .resumo-card-header {
            background: linear-gradient(135deg, #0a6ed1, #1976d2);
            color: white;
            padding: 15px 20px;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .resumo-card-body {
            padding: 20px;
            min-height: 150px;
        }
        
        .placeholder-text {
            color: #6c757d;
            text-align: center;
            font-style: italic;
            margin: 20px 0;
        }
        </style>
    </div>
    
    <script>
        // Limpar dados de cache e cookies para permitir acesso livre
        if (typeof(Storage) !== "undefined") {
            localStorage.clear();
            sessionStorage.clear();
        }
        
        // Limpar cookies espec√≠ficos de sess√£o
        document.cookie.split(";").forEach(function(c) { 
            document.cookie = c.replace(/^ +/, "").replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/"); 
        });
        
        console.log("Cache e cookies limpos para acesso livre");
        
        // Vari√°vel global para controlar modo manual
        let cubagemManual = false;
        
        // Fun√ß√£o para marcar que cubagem foi inserida manualmente
        function marcarCubagemManual() {
            const cubagemValue = document.getElementById('cubagem_frac').value;
            const formulaTexto = document.getElementById('formula-texto');
            
            if (cubagemValue && cubagemValue.trim() !== '') {
                cubagemManual = true;
                formulaTexto.innerHTML = `‚úèÔ∏è Cubagem inserida manualmente: ${cubagemValue}m¬≥`;
                formulaTexto.style.color = '#0a6ed1';
                formulaTexto.style.fontWeight = '600';
                
                // Limpar campos da calculadora quando cubagem manual √© inserida
                document.getElementById('largura_frac').value = '';
                document.getElementById('altura_frac').value = '';
                document.getElementById('comprimento_frac').value = '';
            } else {
                cubagemManual = false;
                formulaTexto.innerHTML = 'üìù Digite diretamente ou use a calculadora abaixo';
                formulaTexto.style.color = '#6c757d';
                formulaTexto.style.fontWeight = 'normal';
            }
        }
        
        // Fun√ß√£o para calcular automaticamente a cubagem
        function calcularCubagem() {
            // S√≥ calcular se n√£o estiver em modo manual
            if (cubagemManual) {
                return;
            }
            
            const largura = parseFloat(document.getElementById('largura_frac').value) || 0;
            const altura = parseFloat(document.getElementById('altura_frac').value) || 0;
            const comprimento = parseFloat(document.getElementById('comprimento_frac').value) || 0;
            
            const formulaTexto = document.getElementById('formula-texto');
            
            if (largura > 0 && altura > 0 && comprimento > 0) {
                const cubagem = largura * altura * comprimento;
                document.getElementById('cubagem_frac').value = cubagem.toFixed(3);
                
                // Atualizar exibi√ß√£o da f√≥rmula
                formulaTexto.innerHTML = `üßÆ ${largura}m √ó ${altura}m √ó ${comprimento}m = ${cubagem.toFixed(3)}m¬≥`;
                formulaTexto.style.color = '#28a745';
                formulaTexto.style.fontWeight = '600';
                
                // Feedback visual
                const cubagemField = document.getElementById('cubagem_frac');
                cubagemField.style.backgroundColor = '#e8f5e8';
                cubagemField.style.borderColor = '#28a745';
                
                setTimeout(() => {
                    cubagemField.style.backgroundColor = '';
                    cubagemField.style.borderColor = '';
                }, 800);
            } else {
                // Se n√£o estiver em modo manual e nem todos os campos est√£o preenchidos, limpar
                if (!cubagemManual) {
                    document.getElementById('cubagem_frac').value = '';
                    formulaTexto.innerHTML = 'üìù Digite diretamente ou use a calculadora abaixo';
                    formulaTexto.style.color = '#6c757d';
                    formulaTexto.style.fontWeight = 'normal';
                }
            }
        }
        
        // Fun√ß√£o para resetar cubagem e voltar ao modo autom√°tico
        function resetarCubagem() {
            // Resetar flag de modo manual
            cubagemManual = false;
            
            // Limpar todos os campos
            document.getElementById('cubagem_frac').value = '';
            document.getElementById('largura_frac').value = '';
            document.getElementById('altura_frac').value = '';
            document.getElementById('comprimento_frac').value = '';
            
            // Restaurar mensagem padr√£o
            const formulaTexto = document.getElementById('formula-texto');
            formulaTexto.innerHTML = 'üìù Digite diretamente ou use a calculadora abaixo';
            formulaTexto.style.color = '#6c757d';
            formulaTexto.style.fontWeight = 'normal';
            
            // Feedback visual de reset
            const cubagemField = document.getElementById('cubagem_frac');
            cubagemField.style.backgroundColor = '#fff3cd';
            cubagemField.style.borderColor = '#ffc107';
            
            setTimeout(() => {
                cubagemField.style.backgroundColor = '';
                cubagemField.style.borderColor = '';
            }, 600);
            
            // Focar no primeiro campo para facilitar nova entrada
            document.getElementById('largura_frac').focus();
        }
        
        // Adicionar event listeners quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', function() {
            // Adicionar tooltip informativo para os campos de dimens√µes
            const tooltipTexts = {
                'largura_frac': 'Largura do pacote em metros (ex: 1.20m)',
                'altura_frac': 'Altura do pacote em metros (ex: 0.80m)', 
                'comprimento_frac': 'Comprimento do pacote em metros (ex: 2.40m)'
            };
            
            Object.keys(tooltipTexts).forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.title = tooltipTexts[fieldId];
                    field.setAttribute('data-toggle', 'tooltip');
                    
                    // Melhorar experi√™ncia mobile nos campos de dimens√£o
                    field.addEventListener('focus', function() {
                        // Scroll suave para o campo em mobile
                        if (window.innerWidth <= 768) {
                            setTimeout(() => {
                                this.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            }, 300);
                        }
                    });
                }
            });
            
            // Melhorar experi√™ncia de touch em dispositivos m√≥veis
            if ('ontouchstart' in window) {
                document.body.classList.add('touch-device');
                
                // Adicionar feedback visual para touch nos bot√µes
                document.querySelectorAll('.btn-primary, .tab-btn, .btn-secondary').forEach(btn => {
                    btn.addEventListener('touchstart', function() {
                        this.style.opacity = '0.8';
                    });
                    btn.addEventListener('touchend', function() {
                        this.style.opacity = '1';
                    });
                });
            }
        });
        
        // Fun√ß√£o para abrir uma aba
        function openTab(evt, tabName) {
            // Esconder todos os conte√∫dos de abas
            var tabcontent = document.getElementsByClassName("tab-content");
            for (var i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
                tabcontent[i].classList.remove("active");
            }

            // Remover a classe "active" de todos os bot√µes de abas
            var tablinks = document.getElementsByClassName("tab-btn");
            for (var i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }

            // Mostrar a aba atual e adicionar a classe "active" ao bot√£o que abriu a aba
            document.getElementById(tabName).style.display = "block";
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
            
            // Se a aba mapa foi aberta, carregar dados se necess√°rio
            if (tabName === 'mapa') {
                console.log('[MAPA] Aba mapa aberta via openTab');
                if (typeof baseAgentes !== 'undefined' && baseAgentes.length === 0) {
                    console.log('[MAPA] Carregando base de agentes...');
                    setTimeout(() => {
                        carregarBaseAgentes();
                    }, 500);
                } else if (typeof baseAgentes !== 'undefined') {
                    console.log('[MAPA] Base j√° carregada:', baseAgentes.length, 'registros');
                }
            }
        }
        
        // ===== CALCULADORA AVAN√áADA DE VOLUMES =====
        
        // Vari√°veis globais para a calculadora avan√ßada
        let skuCounter = 1;
        let skusData = [];
        
        // Fun√ß√£o para abrir a calculadora avan√ßada
        function abrirCalculadoraAvancada() {
            const modal = document.getElementById('calculadora-modal');
            if (!modal) return;
            
            modal.style.display = 'block';
            
            // Limpar e inicializar com um SKU padr√£o
            skusData = [];
            skuCounter = 1;
            const listaVolumes = document.getElementById('lista-volumes');
            if (listaVolumes) {
                listaVolumes.innerHTML = '';
            }
            
            // Adicionar primeiro SKU
            adicionarSku();
            
            // Focar no primeiro campo
            setTimeout(() => {
                const firstInput = modal.querySelector('input[type="number"]');
                if (firstInput) firstInput.focus();
            }, 100);
        }
        
        // Fun√ß√£o para fechar a calculadora avan√ßada
        function fecharCalculadoraAvancada() {
            const modal = document.getElementById('calculadora-modal');
            if (modal) {
                modal.style.display = 'none';
            }
        }
        
        // Fechar modal ao clicar fora
        window.onclick = function(event) {
            const modal = document.getElementById('calculadora-modal');
            if (event.target == modal) {
                fecharCalculadoraAvancada();
            }
        }
        
        // Fun√ß√£o para adicionar um novo SKU
        function adicionarSku() {
            const skuId = `sku-${skuCounter++}`;
            const skuData = {
                id: skuId,
                quantidade: 1,
                largura: 0,
                altura: 0,
                comprimento: 0,
                cubagem_unitaria: 0,
                cubagem_total: 0
            };
            
            skusData.push(skuData);
            
            const listaVolumes = document.getElementById('lista-volumes');
            if (!listaVolumes) return;
            
            const skuHtml = `
                <div class="sku-item-modern" id="${skuId}">
                    <div class="sku-header-modern">
                        <div class="sku-title-modern">
                            <i class="fa-solid fa-cube"></i>
                            <span>SKU ${skusData.length}</span>
                        </div>
                        <button type="button" class="btn-remove-sku-modern" onclick="removerSku('${skuId}')" title="Remover SKU">
                            <i class="fa-solid fa-xmark"></i>
                        </button>
                    </div>
                    
                    <div class="sku-form-grid">
                        <div class="sku-input-group">
                            <label><i class="fa-solid fa-hashtag"></i> Qtd:</label>
                            <input type="number" min="1" value="1" onchange="atualizarSku('${skuId}', 'quantidade', this.value)" oninput="atualizarSku('${skuId}', 'quantidade', this.value)">
                        </div>
                        <div class="sku-input-group">
                            <label><i class="fa-solid fa-arrows-left-right"></i> L (m):</label>
                            <input type="number" step="0.01" min="0.01" placeholder="1.20" onchange="atualizarSku('${skuId}', 'largura', this.value)" oninput="atualizarSku('${skuId}', 'largura', this.value)">
                        </div>
                        <div class="sku-input-group">
                            <label><i class="fa-solid fa-arrows-up-down"></i> A (m):</label>
                            <input type="number" step="0.01" min="0.01" placeholder="0.80" onchange="atualizarSku('${skuId}', 'altura', this.value)" oninput="atualizarSku('${skuId}', 'altura', this.value)">
                        </div>
                        <div class="sku-input-group">
                            <label><i class="fa-solid fa-ruler"></i> C (m):</label>
                            <input type="number" step="0.01" min="0.01" placeholder="2.40" onchange="atualizarSku('${skuId}', 'comprimento', this.value)" oninput="atualizarSku('${skuId}', 'comprimento', this.value)">
                        </div>
                    </div>
                    
                    <div class="sku-resultado-modern" id="resultado-${skuId}">
                        <div class="resultado-flex">
                            <span class="resultado-unitario">üìè Unit: 0.000 m¬≥</span>
                            <span class="resultado-total">üì¶ Total: 0.000 m¬≥</span>
                        </div>
                    </div>
                </div>
            `;
            
            listaVolumes.insertAdjacentHTML('beforeend', skuHtml);
            atualizarResumoCalculadora();
        }
        
        // Fun√ß√£o para remover um SKU
        function removerSku(skuId) {
            // N√£o permitir remover se for o √∫ltimo SKU
            if (skusData.length <= 1) {
                alert('Deve haver pelo menos um SKU configurado!');
                return;
            }
            
            // Remover do array
            skusData = skusData.filter(sku => sku.id !== skuId);
            
            // Remover do DOM
            document.getElementById(skuId).remove();
            
            // Renumerar os SKUs
            renumerarSkus();
            atualizarResumoCalculadora();
        }
        
        // Fun√ß√£o para renumerar os SKUs ap√≥s remo√ß√£o
        function renumerarSkus() {
            const skuItems = document.querySelectorAll('.sku-item-modern');
            skuItems.forEach((item, index) => {
                const titulo = item.querySelector('.sku-title-modern span');
                if (titulo) {
                    titulo.textContent = `SKU ${index + 1}`;
                }
            });
        }
        
        // Fun√ß√£o para atualizar dados de um SKU
        function atualizarSku(skuId, campo, valor) {
            const sku = skusData.find(s => s.id === skuId);
            if (!sku) return;
            
            // Atualizar valor do campo
            sku[campo] = parseFloat(valor) || 0;
            
            // Calcular cubagem unit√°ria e total
            if (sku.largura > 0 && sku.altura > 0 && sku.comprimento > 0 && sku.quantidade > 0) {
                sku.cubagem_unitaria = sku.largura * sku.altura * sku.comprimento;
                sku.cubagem_total = sku.cubagem_unitaria * sku.quantidade;
            } else {
                sku.cubagem_unitaria = 0;
                sku.cubagem_total = 0;
            }
            
            // Atualizar display do SKU
            const resultadoDiv = document.getElementById(`resultado-${skuId}`);
            if (resultadoDiv) {
                if (sku.cubagem_total > 0) {
            resultadoDiv.innerHTML = `
                        <div class="resultado-flex">
                            <span class="resultado-unitario">üìè Unit: ${sku.cubagem_unitaria.toFixed(3)} m¬≥</span>
                            <span class="resultado-total">üì¶ Total: ${sku.cubagem_total.toFixed(3)} m¬≥</span>
                        </div>
            `;
                } else {
                    resultadoDiv.innerHTML = `
                        <div class="resultado-flex">
                            <span class="resultado-unitario">üìè Unit: 0.000 m¬≥</span>
                            <span class="resultado-total">üì¶ Total: 0.000 m¬≥</span>
                        </div>
                    `;
                }
            }
            
            // Atualizar resumo geral
            atualizarResumoCalculadora();
        }
        
        // Fun√ß√£o para atualizar o resumo da calculadora
        function atualizarResumoCalculadora() {
            const totalVolumes = skusData.reduce((sum, sku) => sum + sku.quantidade, 0);
            const totalCubagem = skusData.reduce((sum, sku) => sum + sku.cubagem_total, 0);
            const skusValidos = skusData.filter(sku => sku.cubagem_total > 0);
            
            const resumoDiv = document.getElementById('resumo-calculo');
            if (!resumoDiv) return;
            
            if (skusValidos.length === 0) {
                resumoDiv.innerHTML = `
                    <p style="grid-column: 1 / -1; text-align: center; color: #6b7280;">
                        Configure pelo menos um SKU para ver o resumo
                    </p>
                `;
                return;
            }
            
            resumoDiv.innerHTML = `
                <div class="resumo-item-calc">
                    <span>Total de SKUs:</span>
                    <span>${skusData.length}</span>
                </div>
                <div class="resumo-item-calc">
                    <span>SKUs V√°lidos:</span>
                    <span>${skusValidos.length}</span>
                </div>
                <div class="resumo-item-calc">
                    <span>Total de Volumes:</span>
                    <span>${totalVolumes}</span>
                    </div>
                <div class="resumo-item-calc">
                    <span>Cubagem M√©dia:</span>
                    <span>${totalVolumes > 0 ? (totalCubagem / totalVolumes).toFixed(3) : '0.000'} m¬≥</span>
                </div>
                <div class="resumo-item-calc">
                    <span><strong>üéØ CUBAGEM TOTAL:</strong></span>
                    <span><strong>${totalCubagem.toFixed(3)} m¬≥</strong></span>
                </div>
            `;
        }
        
        // Fun√ß√£o para aplicar a cubagem calculada no campo principal
        function aplicarCubagemCalculada() {
            const totalCubagem = skusData.reduce((sum, sku) => sum + sku.cubagem_total, 0);
            
            if (totalCubagem > 0) {
                // Definir como modo manual ao aplicar da calculadora
                cubagemManual = true;
                
                // Aplicar valor
            document.getElementById('cubagem_frac').value = totalCubagem.toFixed(3);
            
                // Atualizar f√≥rmula texto
            const formulaTexto = document.getElementById('formula-texto');
                formulaTexto.innerHTML = `‚úÖ Cubagem aplicada da calculadora: ${totalCubagem.toFixed(3)}m¬≥`;
                formulaTexto.style.color = '#059669';
            formulaTexto.style.fontWeight = '600';
            
            // Feedback visual
            const cubagemField = document.getElementById('cubagem_frac');
                cubagemField.style.backgroundColor = '#ecfdf5';
                cubagemField.style.borderColor = '#059669';
            
            setTimeout(() => {
                cubagemField.style.backgroundColor = '';
                cubagemField.style.borderColor = '';
            }, 1000);
            
                // Limpar campos de dimens√£o simples
            document.getElementById('largura_frac').value = '';
            document.getElementById('altura_frac').value = '';
            document.getElementById('comprimento_frac').value = '';
                
                // Fechar modal
                fecharCalculadoraAvancada();
            } else {
                alert('Configure pelo menos um SKU com medidas v√°lidas antes de aplicar!');
            }
        }
        
        // Fun√ß√£o para renumerar os SKUs ap√≥s remo√ß√£o
        function renumerarSkus() {
            const skuItems = document.querySelectorAll('.sku-item-modern');
            skuItems.forEach((item, index) => {
                const titulo = item.querySelector('.sku-title-modern span');
                if (titulo) {
                    titulo.textContent = `SKU ${index + 1}`;
                }
            });
        }
        
        // Fun√ß√£o para atualizar lista de volumes (caso necess√°rio)
        function atualizarListaVolumes() {
            // Fun√ß√£o placeholder para compatibilidade
            console.log('Lista de volumes atualizada');
        }

        // Abrir a primeira aba por padr√£o
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelector('.tab-btn').click();
        });

        // Estados brasileiros com nomes completos
        const estadosBrasil = {
            'AC': 'Acre', 'AL': 'Alagoas', 'AP': 'Amap√°', 'AM': 'Amazonas',
            'BA': 'Bahia', 'CE': 'Cear√°', 'DF': 'Distrito Federal', 'ES': 'Esp√≠rito Santo',
            'GO': 'Goi√°s', 'MA': 'Maranh√£o', 'MT': 'Mato Grosso', 'MS': 'Mato Grosso do Sul',
            'MG': 'Minas Gerais', 'PA': 'Par√°', 'PB': 'Para√≠ba', 'PR': 'Paran√°',
            'PE': 'Pernambuco', 'PI': 'Piau√≠', 'RJ': 'Rio de Janeiro', 'RN': 'Rio Grande do Norte',
            'RS': 'Rio Grande do Sul', 'RO': 'Rond√¥nia', 'RR': 'Roraima', 'SC': 'Santa Catarina',
            'SP': 'S√£o Paulo', 'SE': 'Sergipe', 'TO': 'Tocantins'
        };
        
        // Vari√°veis para controle dos mapas
        let mapTarget = 'origem';
        
        // ===== MAPA DE AGENTES =====
        
        // Vari√°veis globais para o mapa de agentes
        let baseAgentes = [];
        let estadoSelecionado = null;
        let agentesEstadoAtual = [];
        
        // Fun√ß√£o para carregar dados da base unificada
        async function carregarBaseAgentes() {
            try {
                console.log('[MAPA] Carregando base de agentes...');
                
                // Mostrar loading
                const estadoInfo = document.getElementById('estado-info');
                if (estadoInfo) {
                    estadoInfo.style.display = 'block';
                    document.getElementById('estado-nome-texto').textContent = 'Carregando dados...';
                    document.getElementById('agentes-lista').innerHTML = '<p class="loading-text">Carregando base de agentes...</p>';
                }
                
                const response = await fetch('/api/base-agentes', {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    credentials: 'same-origin'
                });
                
                console.log('[MAPA] Response status:', response.status);
                
                if (!response.ok) {
                    const errorText = await response.text();
                    console.error('[MAPA] Response error:', errorText);
                    throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);
                }
                
                const data = await response.json();
                console.log('[MAPA] Dados recebidos:', data);
                
                if (Array.isArray(data)) {
                    baseAgentes = data;
                    console.log('[MAPA] Base carregada com sucesso:', baseAgentes.length, 'registros');
                } else if (data.error) {
                    console.error('[MAPA] Erro na API:', data.error);
                    throw new Error(data.error);
                } else {
                    baseAgentes = data.agentes || [];
                    console.log('[MAPA] Base carregada (formato objeto):', baseAgentes.length, 'registros');
                }
                
                // Esconder loading se estava mostrando
                if (estadoInfo && document.getElementById('estado-nome-texto').textContent === 'Carregando dados...') {
                    estadoInfo.style.display = 'none';
                }
                
                return true;
            } catch (error) {
                console.error('[MAPA] Erro ao carregar base:', error);
                
                // Mostrar erro na interface
                const estadoInfo = document.getElementById('estado-info');
                if (estadoInfo && document.getElementById('estado-nome-texto').textContent === 'Carregando dados...') {
                    document.getElementById('estado-nome-texto').textContent = 'Erro ao carregar dados';
                    document.getElementById('agentes-lista').innerHTML = `
                        <div class="empty-state">
                            <i class="fa-solid fa-exclamation-triangle"></i>
                            <h4>Erro ao carregar base de agentes</h4>
                            <p>Detalhes: ${error.message}</p>
                            <p>Usando dados de exemplo...</p>
                        </div>
                    `;
                }
                
                // Fallback: dados de exemplo mais detalhados
                baseAgentes = [
                    {
                        "Fornecedor": "FILIAL SP",
                        "Tipo": "Agente",
                        "Origem": "S√£o Paulo",
                        "Base Origem": "FILIAL",
                        "UF": "SP"
                    },
                    {
                        "Fornecedor": "GLI TRANSPORTES",
                        "Tipo": "Agente", 
                        "Origem": "S√£o Bernardo do Campo",
                        "Base Origem": "FILIAL",
                        "UF": "SP"
                    },
                    {
                        "Fornecedor": "ABC TRANSPORTES",
                        "Tipo": "Agente",
                        "Origem": "Guarulhos",
                        "Base Origem": "FILIAL",
                        "UF": "SP"
                    },
                    {
                        "Fornecedor": "TRANSPORTES BAHIA",
                        "Tipo": "Transfer√™ncia",
                        "Origem": "Salvador",
                        "Destino": "S√£o Paulo",
                        "UF": "BA"
                    },
                    {
                        "Fornecedor": "NORDESTE LOG",
                        "Tipo": "Agente",
                        "Origem": "Recife",
                        "Base Origem": "REGIONAL",
                        "UF": "PE"
                    },
                    {
                        "Fornecedor": "SUL TRANSPORTES",
                        "Tipo": "Agente",
                        "Origem": "Porto Alegre",
                        "Base Origem": "FILIAL",
                        "UF": "RS"
                    }
                ];
                console.log('[MAPA] Usando dados de fallback:', baseAgentes.length, 'registros');
                return false;
            }
        }
        
        // Fun√ß√£o para normalizar UF (sigla para nome completo e vice-versa)
        function normalizarUF(valor) {
            const mapeamento = {
                'AC': 'Acre', 'AL': 'Alagoas', 'AP': 'Amap√°', 'AM': 'Amazonas',
                'BA': 'Bahia', 'CE': 'Cear√°', 'DF': 'Distrito Federal', 'ES': 'Esp√≠rito Santo',
                'GO': 'Goi√°s', 'MA': 'Maranh√£o', 'MT': 'Mato Grosso', 'MS': 'Mato Grosso do Sul',
                'MG': 'Minas Gerais', 'PA': 'Par√°', 'PB': 'Para√≠ba', 'PR': 'Paran√°',
                'PE': 'Pernambuco', 'PI': 'Piau√≠', 'RJ': 'Rio de Janeiro', 'RN': 'Rio Grande do Norte',
                'RS': 'Rio Grande do Sul', 'RO': 'Rond√¥nia', 'RR': 'Roraima', 'SC': 'Santa Catarina',
                'SP': 'S√£o Paulo', 'SE': 'Sergipe', 'TO': 'Tocantins'
            };
            
            // Se o valor √© uma sigla, retorna o nome completo
            if (mapeamento[valor]) {
                return { sigla: valor, nome: mapeamento[valor] };
            }
            
            // Se o valor √© um nome, encontra a sigla
            const sigla = Object.keys(mapeamento).find(key => mapeamento[key] === valor);
            if (sigla) {
                return { sigla: sigla, nome: valor };
            }
            
            return { sigla: valor, nome: valor };
        }
        
        // Fun√ß√£o para filtrar agentes por estado
        function filtrarAgentesPorEstado(siglaEstado) {
            const estadoInfo = normalizarUF(siglaEstado);
            
            return baseAgentes.filter(agente => {
                // Verificar no campo UF se existir
                if (agente.UF && normalizarUF(agente.UF).sigla === estadoInfo.sigla) {
                    return true;
                }
                
                // Verificar na origem
                const origem = agente.Origem || '';
                if (origem.includes(estadoInfo.nome) || origem.includes(estadoInfo.sigla)) {
                    return true;
                }
                
                // Verificar no destino
                const destino = agente.Destino || '';
                if (destino.includes(estadoInfo.nome) || destino.includes(estadoInfo.sigla)) {
                    return true;
                }
                
                return false;
            });
        }
        
        // Fun√ß√£o para agrupar agentes por munic√≠pio
        function agruparPorMunicipio(agentes) {
            const grupos = {};
            
            agentes.forEach(agente => {
                let municipio = agente.Origem || agente.Destino || 'N√£o especificado';
                
                // Limpar nome do munic√≠pio (remover estado se presente)
                municipio = municipio.split(' - ')[0].split('/')[0].trim();
                
                if (!grupos[municipio]) {
                    grupos[municipio] = [];
                }
                grupos[municipio].push(agente);
            });
            
            // Ordenar munic√≠pios alfabeticamente
            const municipiosOrdenados = Object.keys(grupos).sort();
            const resultado = {};
            municipiosOrdenados.forEach(municipio => {
                resultado[municipio] = grupos[municipio];
            });
            
            return resultado;
        }
        
        // Fun√ß√£o para selecionar estado no mapa
        function selecionarEstadoMapa(siglaEstado) {
            console.log('[MAPA] Estado selecionado:', siglaEstado);
            
            // Se base ainda n√£o foi carregada, carregar primeiro
            if (baseAgentes.length === 0) {
                console.log('[MAPA] Base n√£o carregada, carregando primeiro...');
                carregarBaseAgentes().then(() => {
                    selecionarEstadoMapa(siglaEstado);
                });
                return;
            }
            
            // Remover sele√ß√£o anterior
            document.querySelectorAll('.estado-path').forEach(path => {
                path.classList.remove('selected');
            });
            
            // Adicionar sele√ß√£o atual
            const estadoPath = document.getElementById(siglaEstado);
            if (estadoPath) {
                estadoPath.classList.add('selected');
            }
            
            estadoSelecionado = siglaEstado;
            const estadoInfo = normalizarUF(siglaEstado);
            
            // Atualizar header
            document.getElementById('estado-nome-texto').textContent = estadoInfo.nome;
            
            // Filtrar agentes
            agentesEstadoAtual = filtrarAgentesPorEstado(siglaEstado);
            const agentesPorMunicipio = agruparPorMunicipio(agentesEstadoAtual);
            
            console.log('[MAPA] Agentes encontrados para', estadoInfo.nome + ':', agentesEstadoAtual.length);
            console.log('[MAPA] Munic√≠pios:', Object.keys(agentesPorMunicipio));
            
            // Atualizar estat√≠sticas
            document.getElementById('total-agentes').textContent = agentesEstadoAtual.length;
            document.getElementById('total-municipios').textContent = Object.keys(agentesPorMunicipio).length;
            
            // Mostrar se√ß√£o de informa√ß√µes
            document.getElementById('estado-info').style.display = 'block';
            
            // Exibir agentes
            exibirAgentes(agentesPorMunicipio);
        }
        
        // Fun√ß√£o para exibir agentes na lista
        function exibirAgentes(agentesPorMunicipio) {
            const listaAgentes = document.getElementById('agentes-lista');
            
            if (Object.keys(agentesPorMunicipio).length === 0) {
                listaAgentes.innerHTML = `
                    <div class="empty-state">
                        <i class="fa-solid fa-search"></i>
                        <h4>Nenhum agente encontrado</h4>
                        <p>N√£o h√° agentes cadastrados para este estado na base de dados.</p>
                    </div>
                `;
                return;
            }
            
            let html = '';
            
            Object.keys(agentesPorMunicipio).forEach(municipio => {
                const agentes = agentesPorMunicipio[municipio];
                const municipioId = municipio.replace(/\s+/g, '-').toLowerCase();
                
                html += `
                    <div class="municipio-grupo">
                        <div class="municipio-header" onclick="toggleMunicipio('${municipioId}')">
                            <i class="fa-solid fa-chevron-down"></i>
                            <span>${municipio}</span>
                            <span style="margin-left: auto; background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 10px; font-size: 0.85rem;">
                                ${agentes.length} agente${agentes.length > 1 ? 's' : ''}
                            </span>
                        </div>
                        <div class="agentes-municipio expanded" id="municipio-${municipioId}">
                `;
                
                agentes.forEach(agente => {
                    const tipoClass = agente.Tipo.toLowerCase().replace('√™', 'e');
                    html += `
                        <div class="agente-item">
                            <div class="agente-nome">
                                <i class="fa-solid fa-building"></i>
                                ${agente.Fornecedor || 'Fornecedor n√£o informado'}
                                <span class="agente-tipo tipo-${tipoClass}">${agente.Tipo}</span>
                            </div>
                            <div class="agente-detalhes">
                    `;
                    
                    if (agente.Origem) {
                        html += `<div><i class="fa-solid fa-location-dot"></i> Origem: ${agente.Origem}</div>`;
                    }
                    if (agente.Destino) {
                        html += `<div><i class="fa-solid fa-location-arrow"></i> Destino: ${agente.Destino}</div>`;
                    }
                    if (agente['Base Origem']) {
                        html += `<div><i class="fa-solid fa-warehouse"></i> Base: ${agente['Base Origem']}</div>`;
                    }
                    
                    html += `
                            </div>
                        </div>
                    `;
                });
                
                html += `
                        </div>
                    </div>
                `;
            });
            
            listaAgentes.innerHTML = html;
        }
        
        // Fun√ß√£o para alternar exibi√ß√£o de munic√≠pio
        function toggleMunicipio(municipioId) {
            const municipioDiv = document.getElementById(`municipio-${municipioId}`);
            const header = municipioDiv.previousElementSibling;
            const icon = header.querySelector('i');
            
            if (municipioDiv.classList.contains('expanded')) {
                municipioDiv.classList.remove('expanded');
                header.classList.add('collapsed');
            } else {
                municipioDiv.classList.add('expanded');
                header.classList.remove('collapsed');
            }
        }
        
        // Fun√ß√£o para filtrar agentes por busca
        function filtrarAgentes() {
            const busca = document.getElementById('busca-municipio').value.toLowerCase();
            const municipios = document.querySelectorAll('.municipio-grupo');
            
            municipios.forEach(municipio => {
                const nomeHeader = municipio.querySelector('.municipio-header span').textContent.toLowerCase();
                const agentes = municipio.querySelectorAll('.agente-nome');
                let temMatch = false;
                
                // Verificar nome do munic√≠pio
                if (nomeHeader.includes(busca)) {
                    municipio.style.display = 'block';
                    return;
                }
                
                // Verificar agentes
                agentes.forEach(agente => {
                    const nomeAgente = agente.textContent.toLowerCase();
                    if (nomeAgente.includes(busca)) {
                        temMatch = true;
                    }
                });
                
                municipio.style.display = temMatch ? 'block' : 'none';
            });
        }
        
        // Inicializar mapa de agentes quando a aba for aberta
        document.addEventListener('DOMContentLoaded', function() {
            // Adicionar event listeners para os estados
            document.querySelectorAll('.estado-path').forEach(path => {
                path.addEventListener('click', function() {
                    const siglaEstado = this.getAttribute('data-estado');
                    selecionarEstadoMapa(siglaEstado);
                });
            });
            
            // Carregar base de agentes quando o mapa for acessado
            const tabMapaAgentes = document.querySelector('[onclick*="mapa"]');
            if (tabMapaAgentes) {
                tabMapaAgentes.addEventListener('click', function() {
                    console.log('[MAPA] Aba mapa de agentes clicada');
                    if (baseAgentes.length === 0) {
                        console.log('[MAPA] Base vazia, carregando...');
                        carregarBaseAgentes();
                    } else {
                        console.log('[MAPA] Base j√° carregada com', baseAgentes.length, 'registros');
                    }
                    
                    // Carregar posi√ß√µes das siglas sempre que a aba for clicada
                    setTimeout(() => {
                        console.log('üó∫Ô∏è Carregando posi√ß√µes das siglas na aba mapa');
                        loadSavedPositions();
                    }, 300);

                });
            }
            
            // Observar mudan√ßas na aba ativa para carregar posi√ß√µes
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                        const target = mutation.target;
                        if (target.id === 'mapa' && target.style.display !== 'none') {
                            console.log('üëÅÔ∏è Observador detectou aba mapa vis√≠vel, carregando posi√ß√µes');
                            setTimeout(loadSavedPositions, 200);
                        }
                    }
                });
            });
            
            const mapaTab = document.getElementById('mapa');
            if (mapaTab) {
                observer.observe(mapaTab, { attributes: true });
            }
            
            // Se a aba mapa estiver ativa ao carregar, carregar os dados
            setTimeout(() => {
                const mapaTab = document.getElementById('mapa');
                if (mapaTab && mapaTab.classList.contains('active')) {
                    console.log('[MAPA] Aba ativa ao carregar, iniciando carregamento...');
                    carregarBaseAgentes();
                    
                    // Carregar posi√ß√µes das siglas se a aba j√° estiver ativa
                    setTimeout(() => {
                        console.log('üéØ Aba mapa j√° ativa, carregando posi√ß√µes salvas');
                        loadSavedPositions();
                    }, 500);
                }
            }, 1000);
            
            // Fun√ß√£o para debug - verificar localStorage
            window.debugLocalStorage = function() {
                console.log('üîç DEBUG LocalStorage:');
                console.log('- Existe localStorage?', typeof Storage !== 'undefined');
                console.log('- Dados salvos:', localStorage.getItem('siglas_positions'));
                console.log('- Tamanho dos dados:', localStorage.getItem('siglas_positions')?.length || 0);
                
                try {
                    const data = JSON.parse(localStorage.getItem('siglas_positions') || '{}');
                    console.log('- Estados salvos:', Object.keys(data).length);
                    console.log('- Dados parseados:', data);
                } catch (e) {
                    console.error('- Erro ao parsear dados:', e);
                }
            };
            
            // Verificar localStorage na inicializa√ß√£o
            if (typeof Storage === 'undefined') {
                console.error('‚ùå LocalStorage n√£o est√° dispon√≠vel neste navegador');
                alert('Aviso: LocalStorage n√£o est√° dispon√≠vel. As posi√ß√µes das siglas n√£o ser√£o salvas.');
            } else {
                console.log('‚úÖ LocalStorage est√° dispon√≠vel');
                
                // Verificar se j√° existem posi√ß√µes salvas
                const savedPositions = localStorage.getItem('siglas_positions');
                if (savedPositions) {
                    console.log('üìÇ Posi√ß√µes salvas encontradas, aplicando imediatamente');
                    // Tentar carregar imediatamente se os elementos j√° existem
                    setTimeout(() => {
                        loadSavedPositions();
                    }, 100);
                }
            }
        });
        
        // Fun√ß√£o para selecionar estado no mini mapa
        function selecionarEstado(siglaEstado, aba) {
            const nomeEstado = estadosBrasil[siglaEstado];
            if (!nomeEstado) return;
            
            // Determinar qual campo preencher baseado no target atual
            let campoEstado, campoMunicipio;
            
            if (aba === 'fracionado') {
                if (mapTarget === 'origem') {
                    campoEstado = document.getElementById('uf_origem_frac');
                    campoMunicipio = document.getElementById('municipio_origem_frac');
                } else {
                    campoEstado = document.getElementById('uf_destino_frac');
                    campoMunicipio = document.getElementById('municipio_destino_frac');
                }
            } else if (aba === 'dedicado') {
                if (mapTarget === 'origem') {
                    campoEstado = document.getElementById('uf_origem');
                    campoMunicipio = document.getElementById('municipio_origem');
                } else {
                    campoEstado = document.getElementById('uf_destino');
                    campoMunicipio = document.getElementById('municipio_destino');
                }
            } else if (aba === 'aereo') {
                if (mapTarget === 'origem') {
                    campoEstado = document.getElementById('uf_origem_aereo');
                    campoMunicipio = document.getElementById('municipio_origem_aereo');
                } else {
                    campoEstado = document.getElementById('uf_destino_aereo');
                    campoMunicipio = document.getElementById('municipio_destino_aereo');
                }
            }
            
            if (campoEstado) {
                campoEstado.value = nomeEstado;
                campoEstado.style.backgroundColor = '#e8f5e9';
                campoEstado.style.borderColor = '#28a745';
                
                // Limpar munic√≠pio quando muda estado
                if (campoMunicipio) {
                    campoMunicipio.value = '';
                    campoMunicipio.placeholder = 'Aguardando...';
                }
                
                // Feedback visual tempor√°rio
                setTimeout(() => {
                    campoEstado.style.backgroundColor = '';
                    campoEstado.style.borderColor = '';
                    if (campoMunicipio) {
                        campoMunicipio.placeholder = 'Digite para buscar...';
                    }
                }, 800);
                
                // Carregar munic√≠pios do estado selecionado
                carregarMunicipios(siglaEstado, aba, mapTarget);
            }
        }
        
        // Fun√ß√£o para alternar entre origem e destino no mapa
        function toggleMapTarget(target) {
            mapTarget = target;
            
            // Atualizar bot√µes de todas as abas
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.target === target) {
                    btn.classList.add('active');
                }
                    });
        }

        // ==========================================
        // Sistema Discreto de Edi√ß√£o de Siglas
        // ==========================================
        
        let isEditMode = false;
        let draggedElement = null;
        let originalPositions = new Map();
        let currentPositions = new Map();
        
        function toggleEditMode() {
            isEditMode = !isEditMode;
            
            const btnEdit = document.getElementById('btn-edit-discreto');
            const editControls = document.getElementById('edit-controls-discreto');
            const siglas = document.querySelectorAll('.estado-sigla');
            
            if (isEditMode) {
                // Entrar no modo de edi√ß√£o
                btnEdit.style.display = 'none';
                editControls.style.display = 'flex';
                
                // Salvar posi√ß√µes originais e habilitar drag
                siglas.forEach(sigla => {
                    const x = parseFloat(sigla.getAttribute('x'));
                    const y = parseFloat(sigla.getAttribute('y'));
                    const id = sigla.textContent;
                    
                    originalPositions.set(id, { x, y });
                    currentPositions.set(id, { x, y });
                    
                    // Habilitar drag and drop
                    sigla.classList.add('editavel');
                    sigla.addEventListener('mousedown', startDrag);
                });
                
                // Adicionar event listeners globais
                document.addEventListener('mousemove', drag);
                document.addEventListener('mouseup', endDrag);
                
            } else {
                // Sair do modo de edi√ß√£o
                btnEdit.style.display = 'flex';
                editControls.style.display = 'none';
                
                // Desabilitar drag and drop
                siglas.forEach(sigla => {
                    sigla.classList.remove('editavel', 'dragging');
                    sigla.removeEventListener('mousedown', startDrag);
                });
                
                // Remover event listeners globais
                document.removeEventListener('mousemove', drag);
                document.removeEventListener('mouseup', endDrag);
            }
        }
        
        function startDrag(e) {
            if (!isEditMode) return;
            
            draggedElement = e.target;
            draggedElement.classList.add('dragging');
            
            e.preventDefault();
        }
        
        function drag(e) {
            if (!draggedElement || !isEditMode) return;
            
            const svg = document.getElementById('mapa-brasil').querySelector('svg');
            const svgRect = svg.getBoundingClientRect();
            
            // Converter coordenadas do mouse para coordenadas SVG
            const viewBox = svg.viewBox.baseVal;
            const scaleX = viewBox.width / svgRect.width;
            const scaleY = viewBox.height / svgRect.height;
            
            const mouseX = e.clientX - svgRect.left;
            const mouseY = e.clientY - svgRect.top;
            
            const svgX = mouseX * scaleX;
            const svgY = mouseY * scaleY;
            
            // Aplicar nova posi√ß√£o
            draggedElement.setAttribute('x', svgX);
            draggedElement.setAttribute('y', svgY);
            
            // Atualizar posi√ß√£o atual
            const id = draggedElement.textContent;
            currentPositions.set(id, { x: svgX, y: svgY });
            
            e.preventDefault();
        }
        
        function endDrag(e) {
            if (draggedElement) {
                draggedElement.classList.remove('dragging');
                draggedElement = null;
            }
        }
        
        function savePositions() {
            if (!isEditMode) return;
            
            const positions = {};
            currentPositions.forEach((pos, id) => {
                positions[id] = pos;
            });
            
            console.log('üíæ Salvando posi√ß√µes:', positions);
            
            try {
                // Salvar no localStorage
                localStorage.setItem('siglas_positions', JSON.stringify(positions));
                
                // Verificar se foi salvo corretamente
                const saved = localStorage.getItem('siglas_positions');
                if (saved) {
                    console.log('‚úÖ Posi√ß√µes salvas com sucesso no localStorage');
                    console.log('üìù Total de estados salvos:', Object.keys(positions).length);
                    
                    // Mostrar toast de confirma√ß√£o
                    showSaveConfirmation();
                } else {
                    console.error('‚ùå Erro: n√£o foi poss√≠vel salvar no localStorage');
                    alert('Erro ao salvar posi√ß√µes. Verifique se o localStorage est√° habilitado.');
                    return;
                }
            } catch (e) {
                console.error('‚ùå Erro ao salvar posi√ß√µes:', e);
                alert('Erro ao salvar posi√ß√µes: ' + e.message);
                return;
            }
            
            // Sair do modo de edi√ß√£o
            toggleEditMode();
        }
        
        function showSaveConfirmation() {
            // Criar um toast discreto de confirma√ß√£o
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 60px;
                right: 20px;
                background: #28a745;
                color: white;
                padding: 12px 20px;
                border-radius: 6px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 1000;
                font-size: 14px;
                font-weight: 500;
                opacity: 0;
                transition: opacity 0.3s ease;
            `;
            toast.innerHTML = '‚úÖ Posi√ß√µes salvas com sucesso!';
            
            document.body.appendChild(toast);
            
            // Animar entrada
            setTimeout(() => toast.style.opacity = '1', 100);
            
            // Remover ap√≥s 3 segundos
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => document.body.removeChild(toast), 300);
            }, 3000);
        }
        
        function cancelEdit() {
            if (!isEditMode) return;
            
            // Restaurar posi√ß√µes originais
            const siglas = document.querySelectorAll('.estado-sigla');
            siglas.forEach(sigla => {
                const id = sigla.textContent;
                const originalPos = originalPositions.get(id);
                if (originalPos) {
                    sigla.setAttribute('x', originalPos.x);
                    sigla.setAttribute('y', originalPos.y);
                }
            });
            
            // Restaurar currentPositions
            currentPositions.clear();
            originalPositions.forEach((pos, id) => {
                currentPositions.set(id, { ...pos });
            });
            
            // Sair do modo de edi√ß√£o
            toggleEditMode();
        }
        
        function loadSavedPositions() {
            // Carregar posi√ß√µes salvas do localStorage
            const savedPositions = localStorage.getItem('siglas_positions');
            console.log('üîÑ Tentando carregar posi√ß√µes salvas...', savedPositions ? 'Dados encontrados' : 'Nenhum dado salvo');
            
            if (savedPositions) {
                try {
                    const positions = JSON.parse(savedPositions);
                    const siglas = document.querySelectorAll('.estado-sigla');
                    
                    console.log('üìç Aplicando posi√ß√µes para', siglas.length, 'siglas');
                    
                    let aplicadas = 0;
                    siglas.forEach(sigla => {
                        const id = sigla.textContent.trim();
                        if (positions[id]) {
                            sigla.setAttribute('x', positions[id].x);
                            sigla.setAttribute('y', positions[id].y);
                            aplicadas++;
                        }
                    });
                    
                    console.log('‚úÖ Posi√ß√µes aplicadas:', aplicadas, 'de', Object.keys(positions).length, 'salvas');
                } catch (e) {
                    console.error('‚ùå Erro ao carregar posi√ß√µes salvas:', e);
                }
            } else {
                console.log('üìù Nenhuma posi√ß√£o personalizada encontrada, usando posi√ß√µes padr√£o');
            }
        }
        
        // Fun√ß√£o para garantir carregamento das posi√ß√µes
        function garantirCarregamentoPositions() {
            let tentativas = 0;
            const maxTentativas = 10;
            
            function tentarCarregar() {
                tentativas++;
                console.log(`üïê Tentativa ${tentativas} de carregamento das posi√ß√µes`);
                
                const savedPositions = localStorage.getItem('siglas_positions');
                if (!savedPositions) {
                    console.log('üìù Nenhuma posi√ß√£o salva encontrada');
                    return;
                }
                
                const siglas = document.querySelectorAll('.estado-sigla');
                if (siglas.length === 0) {
                    console.log('‚è≥ Siglas ainda n√£o carregadas, tentando novamente...');
                    if (tentativas < maxTentativas) {
                        setTimeout(tentarCarregar, 500);
                    }
                    return;
                }
                
                // Carregar as posi√ß√µes
                loadSavedPositions();
                
                // Verificar se foi aplicado corretamente
                setTimeout(() => {
                    try {
                        const positions = JSON.parse(savedPositions);
                        let aplicadasCorretamente = 0;
                        
                        siglas.forEach(sigla => {
                            const id = sigla.textContent.trim();
                            if (positions[id]) {
                                const x = parseFloat(sigla.getAttribute('x'));
                                const y = parseFloat(sigla.getAttribute('y'));
                                if (Math.abs(x - positions[id].x) < 1 && Math.abs(y - positions[id].y) < 1) {
                                    aplicadasCorretamente++;
                                }
                            }
                        });
                        
                        if (aplicadasCorretamente > 0) {
                            console.log(`‚úÖ Posi√ß√µes aplicadas com sucesso! ${aplicadasCorretamente} siglas posicionadas`);
                        } else if (tentativas < maxTentativas) {
                            console.log('‚ö†Ô∏è Posi√ß√µes n√£o foram aplicadas, tentando novamente...');
                            setTimeout(tentarCarregar, 1000);
                        }
                    } catch (e) {
                        console.error('‚ùå Erro ao verificar aplica√ß√£o das posi√ß√µes:', e);
                    }
                }, 100);
            }
            
            // Come√ßar as tentativas
            setTimeout(tentarCarregar, 500);
        }
        
        // Fun√ß√£o para recarregar posi√ß√µes quando necess√°rio
        window.recarregarPositionsSiglas = function() {
            console.log('üîÑ Recarregando posi√ß√µes das siglas manualmente');
            loadSavedPositions();
        };
        
        // Carregar posi√ß√µes salvas quando necess√°rio
        document.addEventListener('DOMContentLoaded', function() {
            garantirCarregamentoPositions();
            
            // Observar quando a aba mapa for mostrada/escondida
            const mapaAgenteDiv = document.getElementById('mapa');
            if (mapaAgenteDiv) {
                // Usar MutationObserver para detectar mudan√ßas na visibilidade
                const observer = new MutationObserver(function(mutations) {
                    mutations.forEach(function(mutation) {
                        if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                            const target = mutation.target;
                            if (target.style.display !== 'none' && target.style.display !== '') {
                                console.log('üó∫Ô∏è Aba mapa ficou vis√≠vel, carregando posi√ß√µes');
                                setTimeout(loadSavedPositions, 100);
                            }
                        }
                    });
                });
                
                observer.observe(mapaAgenteDiv, { 
                    attributes: true, 
                    attributeFilter: ['style'] 
                });
            }
        });
        
        // Interceptar cliques nos bot√µes de aba para detectar quando mapa √© ativado
        document.addEventListener('click', function(event) {
            const target = event.target;
            
            // Verificar se √© um clique em bot√£o de aba
            if (target.classList.contains('tab-btn') || target.closest('.tab-btn')) {
                const tabBtn = target.classList.contains('tab-btn') ? target : target.closest('.tab-btn');
                const onclick = tabBtn.getAttribute('onclick');
                
                if (onclick && onclick.includes('mapa')) {
                    console.log('üéØ Clique detectado na aba mapa, carregando posi√ß√µes');
                    setTimeout(() => {
                        loadSavedPositions();
                    }, 300);
                }
            }
        });

    </script>

    <!-- Modal Calculadora Avan√ßada - All In -->
    <div id="calculadora-avancada-all" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üßÆ Calculadora Avan√ßada de Volumes - All In</h3>
                <span class="close-calculadora" onclick="fecharCalculadoraAvancadaAll()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="calculator-content">
                    <div class="controls-section">
                        <button type="button" class="btn-add-sku" onclick="adicionarSkuAll()">
                            <i class="fa-solid fa-plus"></i> Adicionar SKU
                        </button>
                    </div>
                    
                    <div id="lista-volumes-all" class="lista-volumes">
                        <!-- SKUs ser√£o adicionados aqui dinamicamente -->
                    </div>
                    
                    <div class="resumo-section">
                        <h4>üìä Resumo do C√°lculo</h4>
                        <div id="resumo-calculo-all" class="resumo-calculo">
                            <p>Adicione pelo menos um SKU para ver o resumo</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" onclick="fecharCalculadoraAvancadaAll()">Cancelar</button>
                <button type="button" class="btn-primary" onclick="aplicarCubagemCalculadaAll()">Aplicar Cubagem</button>
            </div>
        </div>
    </div>

    <!-- Modal Calculadora Avan√ßada - Frete Fracionado -->
    <div id="calculadora-avancada" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üßÆ Calculadora Avan√ßada de Volumes - Fracionado</h3>
                <span class="close-calculadora" onclick="fecharCalculadoraAvancada()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="calculator-content">
                    <div class="controls-section">
                        <button type="button" class="btn-add-sku" onclick="adicionarSku()">
                            <i class="fa-solid fa-plus"></i> Adicionar SKU
                        </button>
                    </div>
                    
                    <div id="lista-volumes" class="lista-volumes">
                        <!-- SKUs ser√£o adicionados aqui dinamicamente -->
                    </div>
                    
                    <div class="resumo-section">
                        <h4>üìä Resumo do C√°lculo</h4>
                        <div id="resumo-calculo" class="resumo-calculo">
                            <p>Adicione pelo menos um SKU para ver o resumo</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" onclick="fecharCalculadoraAvancada()">Cancelar</button>
                <button type="button" class="btn-primary" onclick="aplicarCubagemCalculada()">Aplicar Cubagem</button>
            </div>
        </div>
    </div>

    <!-- Modal Calculadora Avan√ßada - Frete Dedicado -->
    <div id="calculadora-avancada-dedicado" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üßÆ Calculadora Avan√ßada de Volumes - Dedicado</h3>
                <span class="close-calculadora" onclick="fecharCalculadoraAvancadaDedicado()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="calculator-content">
                    <div class="controls-section">
                        <button type="button" class="btn-add-sku" onclick="adicionarSkuDedicado()">
                            <i class="fa-solid fa-plus"></i> Adicionar SKU
                        </button>
                    </div>
                    
                    <div id="lista-volumes-dedicado" class="lista-volumes">
                        <!-- SKUs ser√£o adicionados aqui dinamicamente -->
                    </div>
                    
                    <div class="resumo-section">
                        <h4>üìä Resumo do C√°lculo</h4>
                        <div id="resumo-calculo-dedicado" class="resumo-calculo">
                            <p>Adicione pelo menos um SKU para ver o resumo</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" onclick="fecharCalculadoraAvancadaDedicado()">Cancelar</button>
                <button type="button" class="btn-primary" onclick="aplicarCubagemCalculadaDedicado()">Aplicar Cubagem</button>
            </div>
        </div>
    </div>

    <style>
        .modal {
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 2% auto;
            padding: 0;
            border: none;
            border-radius: 8px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        
        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px 8px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            margin: 0;
            font-size: 1.4rem;
        }
        
        .close-calculadora {
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }
        
        .close-calculadora:hover {
            opacity: 0.7;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .controls-section {
            margin-bottom: 20px;
            text-align: center;
        }
        
        .btn-add-sku {
            background: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .btn-add-sku:hover {
            background: #218838;
        }
        
        .lista-volumes {
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        
        .sku-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 15px;
            padding: 15px;
            background: #f8f9fa;
        }
        
        .sku-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .sku-title {
            font-weight: bold;
            color: #495057;
        }
        
        .btn-remove-sku {
            background: #dc3545;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .btn-remove-sku:hover {
            background: #c82333;
        }
        
        .sku-fields {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .sku-fields .form-group {
            margin-bottom: 0;
        }
        
        .sku-fields label {
            font-size: 0.9rem;
            margin-bottom: 3px;
        }
        
        .sku-fields input {
            padding: 5px 8px;
            font-size: 0.9rem;
        }
        
        .sku-resultado {
            background: #e9ecef;
            padding: 8px;
            border-radius: 4px;
            font-size: 0.9rem;
            text-align: center;
        }
        
        .resumo-section {
            background: #f1f3f4;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .resumo-section h4 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        .resumo-calculo {
            font-size: 0.95rem;
        }
        
        .resumo-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            padding: 3px 0;
        }
        
        .modal-footer {
            padding: 20px;
            border-top: 1px solid #dee2e6;
            text-align: right;
            background: #f8f9fa;
            border-radius: 0 0 8px 8px;
        }
        
        .modal-footer button {
            margin-left: 10px;
            padding: 8px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .btn-primary {
            background: #007bff;
            color: white;
        }
        
        .btn-primary:hover {
            background: #0056b3;
        }
        
        /* Estilos para resultados All In */
        .opcoes-fracionado {
            display: grid;
            gap: 15px;
            margin-top: 10px;
        }
        
        .opcao-fracionado {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: #f8f9fa;
        }
        
        .opcao-fracionado.destaque {
            border-color: #28a745;
            background: #e8f5e8;
        }
        
        .opcao-header {
            font-weight: bold;
            color: #495057;
            margin-bottom: 10px;
        }
        
        .opcao-rota {
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        .etapa {
            font-weight: 600;
            color: #6c757d;
        }
        
        .opcao-total {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #dee2e6;
            font-size: 1.1rem;
            color: #28a745;
        }
        
        .opcao-prazo {
            margin-top: 5px;
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .agentes-diretos {
            margin-top: 10px;
        }
        
        .agente-direto {
            padding: 8px;
            background: #f1f3f4;
            border-radius: 4px;
            margin-bottom: 5px;
        }
        
        .veiculos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }
        
        .veiculo-card {
            text-align: center;
            padding: 15px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            background: white;
            transition: transform 0.2s;
            position: relative;
        }
        
        .veiculo-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .veiculo-icone {
            font-size: 2rem;
            margin-bottom: 5px;
        }
        
        .veiculo-nome {
            font-weight: 600;
            color: #495057;
            font-size: 0.9rem;
        }
        
        .veiculo-valor {
            color: #28a745;
            font-size: 1.1rem;
            font-weight: bold;
            margin-top: 5px;
        }
        
        .analise-dedicado {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .analise-item {
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .analise-item:last-child {
            border-bottom: none;
        }
        
        .custos-operacionais {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .custo-item {
            display: flex;
            justify-content: space-between;
            padding: 8px;
            background: white;
            border-radius: 4px;
            border: 1px solid #e9ecef;
        }
        
        #resumo-fracionado-completo h5,
        #resumo-dedicado-veiculos h5,
        #resumo-aereo-opcoes h5 {
            margin-top: 20px;
            margin-bottom: 10px;
            color: #495057;
            font-size: 1.1rem;
        }
        
        /* Estilos para calculadora de SKUs melhorada */
        .sku-info-row {
            margin-bottom: 15px;
        }
        
        .sku-info-row input[type="text"] {
            width: 100%;
        }
        
        .medidas-header {
            margin: 15px 0 10px 0;
            padding: 8px;
            background: #e9ecef;
            border-radius: 4px;
            text-align: center;
        }
        
        .resultado-linha {
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .resultado-linha:last-child {
            border-bottom: none;
        }
        
        .resultado-destaque {
            background: #e8f5e8;
            padding: 8px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 1.1rem;
        }
        
        .resumo-detalhado {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }
        
        .resumo-grupo-header {
            font-weight: bold;
            color: #495057;
            margin-bottom: 10px;
            font-size: 1.05rem;
        }
        
        .resumo-grupo-info {
            font-size: 0.9rem;
            line-height: 1.6;
            color: #6c757d;
        }
        
        .resumo-total {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .valor-destaque {
            font-size: 1.3rem;
            font-weight: bold;
        }
        
        /* Ajustes para inputs de munic√≠pios */
        input[list] {
            padding: .375rem .75rem;
            font-size: 1rem;
            line-height: 1.5;
            color: #495057;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #ced4da;
            border-radius: .25rem;
            transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }
        
        input[list]:focus {
            color: #495057;
            background-color: #fff;
            border-color: #80bdff;
            outline: 0;
            box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);
        }
        
        /* Estilos para ve√≠culos selecionados */
        .veiculo-card.veiculo-selecionado {
            background: linear-gradient(135deg, #0a6ed1 0%, #1e88e5 100%);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        
        .veiculo-card.veiculo-selecionado .veiculo-nome,
        .veiculo-card.veiculo-selecionado .veiculo-valor {
            color: white;
        }
        
        .veiculo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .veiculo-card.veiculo-selecionado:hover {
            transform: scale(1.08) translateY(-5px);
        }
        
        .veiculo-capacidade {
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid #dee2e6;
            color: #6c757d;
            font-size: 0.85rem;
        }
        
        .veiculo-card.veiculo-selecionado .veiculo-capacidade {
            border-top-color: rgba(255, 255, 255, 0.3);
            color: rgba(255, 255, 255, 0.9);
        }
        
        .veiculo-card.capacidade-excedida {
            opacity: 0.7;
            border: 2px solid #ffc107;
        }
        
        .capacidade-insuficiente {
            color: #dc3545 !important;
            font-weight: bold;
        }
        
        .aviso-capacidade {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #ffc107;
            color: #000;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: bold;
        }
        
        .veiculo-capacidade small > div {
            line-height: 1.4;
        }
        
        /* Estilos para margens */
        .margem-item {
            padding: 12px;
            margin: 8px 0;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            background: #f8f9fa;
            transition: all 0.3s ease;
        }
        
        .margem-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        
        .margem-destaque {
            border-color: #28a745;
            background: #e8f5e9;
        }
        
        .margem-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
        }
        
        .margem-lucro {
            color: #6c757d;
            margin-top: 5px;
        }
        
        .margem-recomendacao {
            margin-top: 20px;
            padding: 15px;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            color: #856404;
        }
        
        /* Estilos para custos operacionais */
        .analise-dedicado {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .analise-item {
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .analise-item:last-child {
            border-bottom: none;
        }
        
        .custos-operacionais {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #dee2e6;
        }
        
        .custo-item {
            display: flex;
            justify-content: space-between;
            padding: 8px;
            margin: 5px 0;
            background: white;
            border-radius: 4px;
            border: 1px solid #e9ecef;
        }
        
        .custo-item:hover {
            background: #f1f3f4;
        }
    
        /* Estilos para resultados dedicado All In */
        .resultados-dedicado-all-in {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e3e8ee;
        }
        
        .resumo-section {
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .resumo-section h3 {
            color: #0a6ed1;
            font-size: 1.3rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e3e8ee;
        }
        
        .resumo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .resumo-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .resumo-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }
        
        .resumo-card-header {
            background: linear-gradient(135deg, #0a6ed1, #1976d2);
            padding: 15px 20px;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .resumo-card-body {
            padding: 20px;
            min-height: 150px;
        }
        
        .placeholder-text {
            color: #6c757d;
            text-align: center;
            font-style: italic;
            margin: 20px 0;
        }
        </style>
</body>
</html>